(function (root, factory) {(typeof module === 'object' && module.exports) ? module.exports = factory() : root.Ipns = factory()}(typeof self !== 'undefined' ? self : this, function () {
"use strict";var Ipns=(()=>{var ju=Object.create;var $n=Object.defineProperty;var tl=Object.getOwnPropertyDescriptor;var el=Object.getOwnPropertyNames;var rl=Object.getPrototypeOf,nl=Object.prototype.hasOwnProperty;var ct=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),_t=(t,e)=>{for(var r in e)$n(t,r,{get:e[r],enumerable:!0})},ua=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of el(e))!nl.call(t,i)&&i!==r&&$n(t,i,{get:()=>e[i],enumerable:!(n=tl(e,i))||n.enumerable});return t};var Rt=(t,e,r)=>(r=t!=null?ju(rl(t)):{},ua(e||!t||!t.__esModule?$n(r,"default",{value:t,enumerable:!0}):r,t)),il=t=>ua($n({},"__esModule",{value:!0}),t);var ht=ct((Lx,la)=>{la.exports={options:{usePureJavaScript:!1}}});var pa=ct((kx,da)=>{var Qi={};da.exports=Qi;var ha={};Qi.encode=function(t,e,r){if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(t instanceof Uint8Array))n=ol(t,e);else{var i=0,o=e.length,s=e.charAt(0),a=[0];for(i=0;i<t.length;++i){for(var f=0,c=t[i];f<a.length;++f)c+=a[f]<<8,a[f]=c%o,c=c/o|0;for(;c>0;)a.push(c%o),c=c/o|0}for(i=0;t[i]===0&&i<t.length-1;++i)n+=s;for(i=a.length-1;i>=0;--i)n+=e[a[i]]}if(r){var u=new RegExp(".{1,"+r+"}","g");n=n.match(u).join(`\r
`)}return n};Qi.decode=function(t,e){if(typeof t!="string")throw new TypeError('"input" must be a string.');if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');var r=ha[e];if(!r){r=ha[e]=[];for(var n=0;n<e.length;++n)r[e.charCodeAt(n)]=n}t=t.replace(/\s/g,"");for(var i=e.length,o=e.charAt(0),s=[0],n=0;n<t.length;n++){var a=r[t.charCodeAt(n)];if(a===void 0)return;for(var f=0,c=a;f<s.length;++f)c+=s[f]*i,s[f]=c&255,c>>=8;for(;c>0;)s.push(c&255),c>>=8}for(var u=0;t[u]===o&&u<t.length-1;++u)s.push(0);return typeof Buffer<"u"?Buffer.from(s.reverse()):new Uint8Array(s.reverse())};function ol(t,e){var r=0,n=e.length,i=e.charAt(0),o=[0];for(r=0;r<t.length();++r){for(var s=0,a=t.at(r);s<o.length;++s)a+=o[s]<<8,o[s]=a%n,a=a/n|0;for(;a>0;)o.push(a%n),a=a/n|0}var f="";for(r=0;t.at(r)===0&&r<t.length()-1;++r)f+=i;for(r=o.length-1;r>=0;--r)f+=e[o[r]];return f}});var Ct=ct((Ux,ma)=>{var ya=ht(),xa=pa(),m=ma.exports=ya.util=ya.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){m.nextTick=process.nextTick,typeof setImmediate=="function"?m.setImmediate=setImmediate:m.setImmediate=m.nextTick;return}if(typeof setImmediate=="function"){m.setImmediate=function(){return setImmediate.apply(void 0,arguments)},m.nextTick=function(a){return setImmediate(a)};return}if(m.setImmediate=function(a){setTimeout(a,0)},typeof window<"u"&&typeof window.postMessage=="function"){let a=function(f){if(f.source===window&&f.data===t){f.stopPropagation();var c=e.slice();e.length=0,c.forEach(function(u){u()})}};var s=a,t="forge.setImmediate",e=[];m.setImmediate=function(f){e.push(f),e.length===1&&window.postMessage(t,"*")},window.addEventListener("message",a,!0)}if(typeof MutationObserver<"u"){var r=Date.now(),n=!0,i=document.createElement("div"),e=[];new MutationObserver(function(){var f=e.slice();e.length=0,f.forEach(function(c){c()})}).observe(i,{attributes:!0});var o=m.setImmediate;m.setImmediate=function(f){Date.now()-r>15?(r=Date.now(),o(f)):(e.push(f),e.length===1&&i.setAttribute("a",n=!n))}}m.nextTick=m.setImmediate})();m.isNodejs=typeof process<"u"&&process.versions&&process.versions.node;m.globalScope=function(){return m.isNodejs?globalThis:typeof self>"u"?window:self}();m.isArray=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};m.isArrayBuffer=function(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer};m.isArrayBufferView=function(t){return t&&m.isArrayBuffer(t.buffer)&&t.byteLength!==void 0};function xn(t){if(!(t===8||t===16||t===24||t===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+t)}m.ByteBuffer=Xi;function Xi(t){if(this.data="",this.read=0,typeof t=="string")this.data=t;else if(m.isArrayBuffer(t)||m.isArrayBufferView(t))if(typeof Buffer<"u"&&t instanceof Buffer)this.data=t.toString("binary");else{var e=new Uint8Array(t);try{this.data=String.fromCharCode.apply(null,e)}catch{for(var r=0;r<e.length;++r)this.putByte(e[r])}}else(t instanceof Xi||typeof t=="object"&&typeof t.data=="string"&&typeof t.read=="number")&&(this.data=t.data,this.read=t.read);this._constructedStringLength=0}m.ByteStringBuffer=Xi;var sl=4096;m.ByteStringBuffer.prototype._optimizeConstructedString=function(t){this._constructedStringLength+=t,this._constructedStringLength>sl&&(this.data.substr(0,1),this._constructedStringLength=0)};m.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};m.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};m.ByteStringBuffer.prototype.putByte=function(t){return this.putBytes(String.fromCharCode(t))};m.ByteStringBuffer.prototype.fillWithByte=function(t,e){t=String.fromCharCode(t);for(var r=this.data;e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return this.data=r,this._optimizeConstructedString(e),this};m.ByteStringBuffer.prototype.putBytes=function(t){return this.data+=t,this._optimizeConstructedString(t.length),this};m.ByteStringBuffer.prototype.putString=function(t){return this.putBytes(m.encodeUtf8(t))};m.ByteStringBuffer.prototype.putInt16=function(t){return this.putBytes(String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};m.ByteStringBuffer.prototype.putInt24=function(t){return this.putBytes(String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};m.ByteStringBuffer.prototype.putInt32=function(t){return this.putBytes(String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};m.ByteStringBuffer.prototype.putInt16Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255))};m.ByteStringBuffer.prototype.putInt24Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255))};m.ByteStringBuffer.prototype.putInt32Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>24&255))};m.ByteStringBuffer.prototype.putInt=function(t,e){xn(e);var r="";do e-=8,r+=String.fromCharCode(t>>e&255);while(e>0);return this.putBytes(r)};m.ByteStringBuffer.prototype.putSignedInt=function(t,e){return t<0&&(t+=2<<e-1),this.putInt(t,e)};m.ByteStringBuffer.prototype.putBuffer=function(t){return this.putBytes(t.getBytes())};m.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};m.ByteStringBuffer.prototype.getInt16=function(){var t=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,t};m.ByteStringBuffer.prototype.getInt24=function(){var t=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,t};m.ByteStringBuffer.prototype.getInt32=function(){var t=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,t};m.ByteStringBuffer.prototype.getInt16Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,t};m.ByteStringBuffer.prototype.getInt24Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,t};m.ByteStringBuffer.prototype.getInt32Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,t};m.ByteStringBuffer.prototype.getInt=function(t){xn(t);var e=0;do e=(e<<8)+this.data.charCodeAt(this.read++),t-=8;while(t>0);return e};m.ByteStringBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};m.ByteStringBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};m.ByteStringBuffer.prototype.bytes=function(t){return typeof t>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};m.ByteStringBuffer.prototype.at=function(t){return this.data.charCodeAt(this.read+t)};m.ByteStringBuffer.prototype.setAt=function(t,e){return this.data=this.data.substr(0,this.read+t)+String.fromCharCode(e)+this.data.substr(this.read+t+1),this};m.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};m.ByteStringBuffer.prototype.copy=function(){var t=m.createBuffer(this.data);return t.read=this.read,t};m.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};m.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};m.ByteStringBuffer.prototype.truncate=function(t){var e=Math.max(0,this.length()-t);return this.data=this.data.substr(this.read,e),this.read=0,this};m.ByteStringBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.length;++e){var r=this.data.charCodeAt(e);r<16&&(t+="0"),t+=r.toString(16)}return t};m.ByteStringBuffer.prototype.toString=function(){return m.decodeUtf8(this.bytes())};function al(t,e){e=e||{},this.read=e.readOffset||0,this.growSize=e.growSize||1024;var r=m.isArrayBuffer(t),n=m.isArrayBufferView(t);if(r||n){r?this.data=new DataView(t):this.data=new DataView(t.buffer,t.byteOffset,t.byteLength),this.write="writeOffset"in e?e.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,t!=null&&this.putBytes(t),"writeOffset"in e&&(this.write=e.writeOffset)}m.DataBuffer=al;m.DataBuffer.prototype.length=function(){return this.write-this.read};m.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};m.DataBuffer.prototype.accommodate=function(t,e){if(this.length()>=t)return this;e=Math.max(e||this.growSize,t);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+e);return n.set(r),this.data=new DataView(n.buffer),this};m.DataBuffer.prototype.putByte=function(t){return this.accommodate(1),this.data.setUint8(this.write++,t),this};m.DataBuffer.prototype.fillWithByte=function(t,e){this.accommodate(e);for(var r=0;r<e;++r)this.data.setUint8(t);return this};m.DataBuffer.prototype.putBytes=function(t,e){if(m.isArrayBufferView(t)){var r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var i=new Uint8Array(this.data.buffer,this.write);return i.set(r),this.write+=n,this}if(m.isArrayBuffer(t)){var r=new Uint8Array(t);this.accommodate(r.byteLength);var i=new Uint8Array(this.data.buffer);return i.set(r,this.write),this.write+=r.byteLength,this}if(t instanceof m.DataBuffer||typeof t=="object"&&typeof t.read=="number"&&typeof t.write=="number"&&m.isArrayBufferView(t.data)){var r=new Uint8Array(t.data.byteLength,t.read,t.length());this.accommodate(r.byteLength);var i=new Uint8Array(t.data.byteLength,this.write);return i.set(r),this.write+=r.byteLength,this}if(t instanceof m.ByteStringBuffer&&(t=t.data,e="binary"),e=e||"binary",typeof t=="string"){var o;if(e==="hex")return this.accommodate(Math.ceil(t.length/2)),o=new Uint8Array(this.data.buffer,this.write),this.write+=m.binary.hex.decode(t,o,this.write),this;if(e==="base64")return this.accommodate(Math.ceil(t.length/4)*3),o=new Uint8Array(this.data.buffer,this.write),this.write+=m.binary.base64.decode(t,o,this.write),this;if(e==="utf8"&&(t=m.encodeUtf8(t),e="binary"),e==="binary"||e==="raw")return this.accommodate(t.length),o=new Uint8Array(this.data.buffer,this.write),this.write+=m.binary.raw.decode(o),this;if(e==="utf16")return this.accommodate(t.length*2),o=new Uint16Array(this.data.buffer,this.write),this.write+=m.text.utf16.encode(o),this;throw new Error("Invalid encoding: "+e)}throw Error("Invalid parameter: "+t)};m.DataBuffer.prototype.putBuffer=function(t){return this.putBytes(t),t.clear(),this};m.DataBuffer.prototype.putString=function(t){return this.putBytes(t,"utf16")};m.DataBuffer.prototype.putInt16=function(t){return this.accommodate(2),this.data.setInt16(this.write,t),this.write+=2,this};m.DataBuffer.prototype.putInt24=function(t){return this.accommodate(3),this.data.setInt16(this.write,t>>8&65535),this.data.setInt8(this.write,t>>16&255),this.write+=3,this};m.DataBuffer.prototype.putInt32=function(t){return this.accommodate(4),this.data.setInt32(this.write,t),this.write+=4,this};m.DataBuffer.prototype.putInt16Le=function(t){return this.accommodate(2),this.data.setInt16(this.write,t,!0),this.write+=2,this};m.DataBuffer.prototype.putInt24Le=function(t){return this.accommodate(3),this.data.setInt8(this.write,t>>16&255),this.data.setInt16(this.write,t>>8&65535,!0),this.write+=3,this};m.DataBuffer.prototype.putInt32Le=function(t){return this.accommodate(4),this.data.setInt32(this.write,t,!0),this.write+=4,this};m.DataBuffer.prototype.putInt=function(t,e){xn(e),this.accommodate(e/8);do e-=8,this.data.setInt8(this.write++,t>>e&255);while(e>0);return this};m.DataBuffer.prototype.putSignedInt=function(t,e){return xn(e),this.accommodate(e/8),t<0&&(t+=2<<e-1),this.putInt(t,e)};m.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};m.DataBuffer.prototype.getInt16=function(){var t=this.data.getInt16(this.read);return this.read+=2,t};m.DataBuffer.prototype.getInt24=function(){var t=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,t};m.DataBuffer.prototype.getInt32=function(){var t=this.data.getInt32(this.read);return this.read+=4,t};m.DataBuffer.prototype.getInt16Le=function(){var t=this.data.getInt16(this.read,!0);return this.read+=2,t};m.DataBuffer.prototype.getInt24Le=function(){var t=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,t};m.DataBuffer.prototype.getInt32Le=function(){var t=this.data.getInt32(this.read,!0);return this.read+=4,t};m.DataBuffer.prototype.getInt=function(t){xn(t);var e=0;do e=(e<<8)+this.data.getInt8(this.read++),t-=8;while(t>0);return e};m.DataBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};m.DataBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};m.DataBuffer.prototype.bytes=function(t){return typeof t>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};m.DataBuffer.prototype.at=function(t){return this.data.getUint8(this.read+t)};m.DataBuffer.prototype.setAt=function(t,e){return this.data.setUint8(t,e),this};m.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};m.DataBuffer.prototype.copy=function(){return new m.DataBuffer(this)};m.DataBuffer.prototype.compact=function(){if(this.read>0){var t=new Uint8Array(this.data.buffer,this.read),e=new Uint8Array(t.byteLength);e.set(t),this.data=new DataView(e),this.write-=this.read,this.read=0}return this};m.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};m.DataBuffer.prototype.truncate=function(t){return this.write=Math.max(0,this.length()-t),this.read=Math.min(this.read,this.write),this};m.DataBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.byteLength;++e){var r=this.data.getUint8(e);r<16&&(t+="0"),t+=r.toString(16)}return t};m.DataBuffer.prototype.toString=function(t){var e=new Uint8Array(this.data,this.read,this.length());if(t=t||"utf8",t==="binary"||t==="raw")return m.binary.raw.encode(e);if(t==="hex")return m.binary.hex.encode(e);if(t==="base64")return m.binary.base64.encode(e);if(t==="utf8")return m.text.utf8.decode(e);if(t==="utf16")return m.text.utf16.decode(e);throw new Error("Invalid encoding: "+t)};m.createBuffer=function(t,e){return e=e||"raw",t!==void 0&&e==="utf8"&&(t=m.encodeUtf8(t)),new m.ByteBuffer(t)};m.fillString=function(t,e){for(var r="";e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return r};m.xorBytes=function(t,e,r){for(var n="",i="",o="",s=0,a=0;r>0;--r,++s)i=t.charCodeAt(s)^e.charCodeAt(s),a>=10&&(n+=o,o="",a=0),o+=String.fromCharCode(i),++a;return n+=o,n};m.hexToBytes=function(t){var e="",r=0;for(t.length&!0&&(r=1,e+=String.fromCharCode(parseInt(t[0],16)));r<t.length;r+=2)e+=String.fromCharCode(parseInt(t.substr(r,2),16));return e};m.bytesToHex=function(t){return m.createBuffer(t).toHex()};m.int32ToBytes=function(t){return String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255)};var Xe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Je=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],ga="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";m.encode64=function(t,e){for(var r="",n="",i,o,s,a=0;a<t.length;)i=t.charCodeAt(a++),o=t.charCodeAt(a++),s=t.charCodeAt(a++),r+=Xe.charAt(i>>2),r+=Xe.charAt((i&3)<<4|o>>4),isNaN(o)?r+="==":(r+=Xe.charAt((o&15)<<2|s>>6),r+=isNaN(s)?"=":Xe.charAt(s&63)),e&&r.length>e&&(n+=r.substr(0,e)+`\r
`,r=r.substr(e));return n+=r,n};m.decode64=function(t){t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var e="",r,n,i,o,s=0;s<t.length;)r=Je[t.charCodeAt(s++)-43],n=Je[t.charCodeAt(s++)-43],i=Je[t.charCodeAt(s++)-43],o=Je[t.charCodeAt(s++)-43],e+=String.fromCharCode(r<<2|n>>4),i!==64&&(e+=String.fromCharCode((n&15)<<4|i>>2),o!==64&&(e+=String.fromCharCode((i&3)<<6|o)));return e};m.encodeUtf8=function(t){return unescape(encodeURIComponent(t))};m.decodeUtf8=function(t){return decodeURIComponent(escape(t))};m.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:xa.encode,decode:xa.decode}};m.binary.raw.encode=function(t){return String.fromCharCode.apply(null,t)};m.binary.raw.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length)),r=r||0;for(var i=r,o=0;o<t.length;++o)n[i++]=t.charCodeAt(o);return e?i-r:n};m.binary.hex.encode=m.bytesToHex;m.binary.hex.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/2))),r=r||0;var i=0,o=r;for(t.length&1&&(i=1,n[o++]=parseInt(t[0],16));i<t.length;i+=2)n[o++]=parseInt(t.substr(i,2),16);return e?o-r:n};m.binary.base64.encode=function(t,e){for(var r="",n="",i,o,s,a=0;a<t.byteLength;)i=t[a++],o=t[a++],s=t[a++],r+=Xe.charAt(i>>2),r+=Xe.charAt((i&3)<<4|o>>4),isNaN(o)?r+="==":(r+=Xe.charAt((o&15)<<2|s>>6),r+=isNaN(s)?"=":Xe.charAt(s&63)),e&&r.length>e&&(n+=r.substr(0,e)+`\r
`,r=r.substr(e));return n+=r,n};m.binary.base64.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/4)*3)),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var i,o,s,a,f=0,c=r;f<t.length;)i=Je[t.charCodeAt(f++)-43],o=Je[t.charCodeAt(f++)-43],s=Je[t.charCodeAt(f++)-43],a=Je[t.charCodeAt(f++)-43],n[c++]=i<<2|o>>4,s!==64&&(n[c++]=(o&15)<<4|s>>2,a!==64&&(n[c++]=(s&3)<<6|a));return e?c-r:n.subarray(0,c)};m.binary.base58.encode=function(t,e){return m.binary.baseN.encode(t,ga,e)};m.binary.base58.decode=function(t,e){return m.binary.baseN.decode(t,ga,e)};m.text={utf8:{},utf16:{}};m.text.utf8.encode=function(t,e,r){t=m.encodeUtf8(t);var n=e;n||(n=new Uint8Array(t.length)),r=r||0;for(var i=r,o=0;o<t.length;++o)n[i++]=t.charCodeAt(o);return e?i-r:n};m.text.utf8.decode=function(t){return m.decodeUtf8(String.fromCharCode.apply(null,t))};m.text.utf16.encode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length*2));var i=new Uint16Array(n.buffer);r=r||0;for(var o=r,s=r,a=0;a<t.length;++a)i[s++]=t.charCodeAt(a),o+=2;return e?o-r:n};m.text.utf16.decode=function(t){return String.fromCharCode.apply(null,new Uint16Array(t.buffer))};m.deflate=function(t,e,r){if(e=m.decode64(t.deflate(m.encode64(e)).rval),r){var n=2,i=e.charCodeAt(1);i&32&&(n=6),e=e.substring(n,e.length-4)}return e};m.inflate=function(t,e,r){var n=t.inflate(m.encode64(e)).rval;return n===null?null:m.decode64(n)};var Ji=function(t,e,r){if(!t)throw new Error("WebStorage not available.");var n;if(r===null?n=t.removeItem(e):(r=m.encode64(JSON.stringify(r)),n=t.setItem(e,r)),typeof n<"u"&&n.rval!==!0){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},ji=function(t,e){if(!t)throw new Error("WebStorage not available.");var r=t.getItem(e);if(t.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(m.decode64(r))),r},fl=function(t,e,r,n){var i=ji(t,e);i===null&&(i={}),i[r]=n,Ji(t,e,i)},cl=function(t,e,r){var n=ji(t,e);return n!==null&&(n=r in n?n[r]:null),n},ul=function(t,e,r){var n=ji(t,e);if(n!==null&&r in n){delete n[r];var i=!0;for(var o in n){i=!1;break}i&&(n=null),Ji(t,e,n)}},ll=function(t,e){Ji(t,e,null)},Yn=function(t,e,r){var n=null;typeof r>"u"&&(r=["web","flash"]);var i,o=!1,s=null;for(var a in r){i=r[a];try{if(i==="flash"||i==="both"){if(e[0]===null)throw new Error("Flash local storage not available.");n=t.apply(this,e),o=i==="flash"}(i==="web"||i==="both")&&(e[0]=localStorage,n=t.apply(this,e),o=!0)}catch(f){s=f}if(o)break}if(!o)throw s;return n};m.setItem=function(t,e,r,n,i){Yn(fl,arguments,i)};m.getItem=function(t,e,r,n){return Yn(cl,arguments,n)};m.removeItem=function(t,e,r,n){Yn(ul,arguments,n)};m.clearItems=function(t,e,r){Yn(ll,arguments,r)};m.isEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0};m.format=function(t){for(var e=/%./g,r,n,i=0,o=[],s=0;r=e.exec(t);){n=t.substring(s,e.lastIndex-2),n.length>0&&o.push(n),s=e.lastIndex;var a=r[0][1];switch(a){case"s":case"o":i<arguments.length?o.push(arguments[i+++1]):o.push("<?>");break;case"%":o.push("%");break;default:o.push("<%"+a+"?>")}}return o.push(t.substring(s)),o.join("")};m.formatNumber=function(t,e,r,n){var i=t,o=isNaN(e=Math.abs(e))?2:e,s=r===void 0?",":r,a=n===void 0?".":n,f=i<0?"-":"",c=parseInt(i=Math.abs(+i||0).toFixed(o),10)+"",u=c.length>3?c.length%3:0;return f+(u?c.substr(0,u)+a:"")+c.substr(u).replace(/(\d{3})(?=\d)/g,"$1"+a)+(o?s+Math.abs(i-c).toFixed(o).slice(2):"")};m.formatSize=function(t){return t>=1073741824?t=m.formatNumber(t/1073741824,2,".","")+" GiB":t>=1048576?t=m.formatNumber(t/1048576,2,".","")+" MiB":t>=1024?t=m.formatNumber(t/1024,0)+" KiB":t=m.formatNumber(t,0)+" bytes",t};m.bytesFromIP=function(t){return t.indexOf(".")!==-1?m.bytesFromIPv4(t):t.indexOf(":")!==-1?m.bytesFromIPv6(t):null};m.bytesFromIPv4=function(t){if(t=t.split("."),t.length!==4)return null;for(var e=m.createBuffer(),r=0;r<t.length;++r){var n=parseInt(t[r],10);if(isNaN(n))return null;e.putByte(n)}return e.getBytes()};m.bytesFromIPv6=function(t){var e=0;t=t.split(":").filter(function(s){return s.length===0&&++e,!0});for(var r=(8-t.length+e)*2,n=m.createBuffer(),i=0;i<8;++i){if(!t[i]||t[i].length===0){n.fillWithByte(0,r),r=0;continue}var o=m.hexToBytes(t[i]);o.length<2&&n.putByte(0),n.putBytes(o)}return n.getBytes()};m.bytesToIP=function(t){return t.length===4?m.bytesToIPv4(t):t.length===16?m.bytesToIPv6(t):null};m.bytesToIPv4=function(t){if(t.length!==4)return null;for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e.join(".")};m.bytesToIPv6=function(t){if(t.length!==16)return null;for(var e=[],r=[],n=0,i=0;i<t.length;i+=2){for(var o=m.bytesToHex(t[i]+t[i+1]);o[0]==="0"&&o!=="0";)o=o.substr(1);if(o==="0"){var s=r[r.length-1],a=e.length;!s||a!==s.end+1?r.push({start:a,end:a}):(s.end=a,s.end-s.start>r[n].end-r[n].start&&(n=r.length-1))}e.push(o)}if(r.length>0){var f=r[n];f.end-f.start>0&&(e.splice(f.start,f.end-f.start+1,""),f.start===0&&e.unshift(""),f.end===7&&e.push(""))}return e.join(":")};m.estimateCores=function(t,e){if(typeof t=="function"&&(e=t,t={}),t=t||{},"cores"in m&&!t.update)return e(null,m.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return m.cores=navigator.hardwareConcurrency,e(null,m.cores);if(typeof Worker>"u")return m.cores=1,e(null,m.cores);if(typeof Blob>"u")return m.cores=2,e(null,m.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(s){for(var a=Date.now(),f=a+4;Date.now()<f;);self.postMessage({st:a,et:f})})}.toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(s,a,f){if(a===0){var c=Math.floor(s.reduce(function(u,l){return u+l},0)/s.length);return m.cores=Math.max(1,c),URL.revokeObjectURL(r),e(null,m.cores)}i(f,function(u,l){s.push(o(f,l)),n(s,a-1,f)})}function i(s,a){for(var f=[],c=[],u=0;u<s;++u){var l=new Worker(r);l.addEventListener("message",function(h){if(c.push(h.data),c.length===s){for(var x=0;x<s;++x)f[x].terminate();a(null,c)}}),f.push(l)}for(var u=0;u<s;++u)f[u].postMessage(u)}function o(s,a){for(var f=[],c=0;c<s;++c)for(var u=a[c],l=f[c]=[],h=0;h<s;++h)if(c!==h){var x=a[h];(u.st>x.st&&u.st<x.et||x.st>u.st&&x.st<u.et)&&l.push(h)}return f.reduce(function(d,p){return Math.max(d,p.length)},0)}}});var Wn=ct((Px,va)=>{var gn=ht();gn.pki=gn.pki||{};var to=va.exports=gn.pki.oids=gn.oids=gn.oids||{};function D(t,e){to[t]=e,to[e]=t}function ut(t,e){to[t]=e}D("1.2.840.113549.1.1.1","rsaEncryption");D("1.2.840.113549.1.1.4","md5WithRSAEncryption");D("1.2.840.113549.1.1.5","sha1WithRSAEncryption");D("1.2.840.113549.1.1.7","RSAES-OAEP");D("1.2.840.113549.1.1.8","mgf1");D("1.2.840.113549.1.1.9","pSpecified");D("1.2.840.113549.1.1.10","RSASSA-PSS");D("1.2.840.113549.1.1.11","sha256WithRSAEncryption");D("1.2.840.113549.1.1.12","sha384WithRSAEncryption");D("1.2.840.113549.1.1.13","sha512WithRSAEncryption");D("1.3.101.112","EdDSA25519");D("1.2.840.10040.4.3","dsa-with-sha1");D("1.3.14.3.2.7","desCBC");D("1.3.14.3.2.26","sha1");D("1.3.14.3.2.29","sha1WithRSASignature");D("2.16.840.1.101.3.4.2.1","sha256");D("2.16.840.1.101.3.4.2.2","sha384");D("2.16.840.1.101.3.4.2.3","sha512");D("2.16.840.1.101.3.4.2.4","sha224");D("2.16.840.1.101.3.4.2.5","sha512-224");D("2.16.840.1.101.3.4.2.6","sha512-256");D("1.2.840.113549.2.2","md2");D("1.2.840.113549.2.5","md5");D("1.2.840.113549.1.7.1","data");D("1.2.840.113549.1.7.2","signedData");D("1.2.840.113549.1.7.3","envelopedData");D("1.2.840.113549.1.7.4","signedAndEnvelopedData");D("1.2.840.113549.1.7.5","digestedData");D("1.2.840.113549.1.7.6","encryptedData");D("1.2.840.113549.1.9.1","emailAddress");D("1.2.840.113549.1.9.2","unstructuredName");D("1.2.840.113549.1.9.3","contentType");D("1.2.840.113549.1.9.4","messageDigest");D("1.2.840.113549.1.9.5","signingTime");D("1.2.840.113549.1.9.6","counterSignature");D("1.2.840.113549.1.9.7","challengePassword");D("1.2.840.113549.1.9.8","unstructuredAddress");D("1.2.840.113549.1.9.14","extensionRequest");D("1.2.840.113549.1.9.20","friendlyName");D("1.2.840.113549.1.9.21","localKeyId");D("1.2.840.113549.1.9.22.1","x509Certificate");D("1.2.840.113549.1.12.10.1.1","keyBag");D("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");D("1.2.840.113549.1.12.10.1.3","certBag");D("1.2.840.113549.1.12.10.1.4","crlBag");D("1.2.840.113549.1.12.10.1.5","secretBag");D("1.2.840.113549.1.12.10.1.6","safeContentsBag");D("1.2.840.113549.1.5.13","pkcs5PBES2");D("1.2.840.113549.1.5.12","pkcs5PBKDF2");D("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");D("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");D("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");D("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");D("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");D("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");D("1.2.840.113549.2.7","hmacWithSHA1");D("1.2.840.113549.2.8","hmacWithSHA224");D("1.2.840.113549.2.9","hmacWithSHA256");D("1.2.840.113549.2.10","hmacWithSHA384");D("1.2.840.113549.2.11","hmacWithSHA512");D("1.2.840.113549.3.7","des-EDE3-CBC");D("2.16.840.1.101.3.4.1.2","aes128-CBC");D("2.16.840.1.101.3.4.1.22","aes192-CBC");D("2.16.840.1.101.3.4.1.42","aes256-CBC");D("2.5.4.3","commonName");D("2.5.4.4","surname");D("2.5.4.5","serialNumber");D("2.5.4.6","countryName");D("2.5.4.7","localityName");D("2.5.4.8","stateOrProvinceName");D("2.5.4.9","streetAddress");D("2.5.4.10","organizationName");D("2.5.4.11","organizationalUnitName");D("2.5.4.12","title");D("2.5.4.13","description");D("2.5.4.15","businessCategory");D("2.5.4.17","postalCode");D("2.5.4.42","givenName");D("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");D("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");D("2.16.840.1.113730.1.1","nsCertType");D("2.16.840.1.113730.1.13","nsComment");ut("2.5.29.1","authorityKeyIdentifier");ut("2.5.29.2","keyAttributes");ut("2.5.29.3","certificatePolicies");ut("2.5.29.4","keyUsageRestriction");ut("2.5.29.5","policyMapping");ut("2.5.29.6","subtreesConstraint");ut("2.5.29.7","subjectAltName");ut("2.5.29.8","issuerAltName");ut("2.5.29.9","subjectDirectoryAttributes");ut("2.5.29.10","basicConstraints");ut("2.5.29.11","nameConstraints");ut("2.5.29.12","policyConstraints");ut("2.5.29.13","basicConstraints");D("2.5.29.14","subjectKeyIdentifier");D("2.5.29.15","keyUsage");ut("2.5.29.16","privateKeyUsagePeriod");D("2.5.29.17","subjectAltName");D("2.5.29.18","issuerAltName");D("2.5.29.19","basicConstraints");ut("2.5.29.20","cRLNumber");ut("2.5.29.21","cRLReason");ut("2.5.29.22","expirationDate");ut("2.5.29.23","instructionCode");ut("2.5.29.24","invalidityDate");ut("2.5.29.25","cRLDistributionPoints");ut("2.5.29.26","issuingDistributionPoint");ut("2.5.29.27","deltaCRLIndicator");ut("2.5.29.28","issuingDistributionPoint");ut("2.5.29.29","certificateIssuer");ut("2.5.29.30","nameConstraints");D("2.5.29.31","cRLDistributionPoints");D("2.5.29.32","certificatePolicies");ut("2.5.29.33","policyMappings");ut("2.5.29.34","policyConstraints");D("2.5.29.35","authorityKeyIdentifier");ut("2.5.29.36","policyConstraints");D("2.5.29.37","extKeyUsage");ut("2.5.29.46","freshestCRL");ut("2.5.29.54","inhibitAnyPolicy");D("1.3.6.1.4.1.11129.2.4.2","timestampList");D("1.3.6.1.5.5.7.1.1","authorityInfoAccess");D("1.3.6.1.5.5.7.3.1","serverAuth");D("1.3.6.1.5.5.7.3.2","clientAuth");D("1.3.6.1.5.5.7.3.3","codeSigning");D("1.3.6.1.5.5.7.3.4","emailProtection");D("1.3.6.1.5.5.7.3.8","timeStamping")});var vn=ct((Kx,Ea)=>{var xt=ht();Ct();Wn();var M=Ea.exports=xt.asn1=xt.asn1||{};M.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};M.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};M.create=function(t,e,r,n,i){if(xt.util.isArray(n)){for(var o=[],s=0;s<n.length;++s)n[s]!==void 0&&o.push(n[s]);n=o}var a={tagClass:t,type:e,constructed:r,composed:r||xt.util.isArray(n),value:n};return i&&"bitStringContents"in i&&(a.bitStringContents=i.bitStringContents,a.original=M.copy(a)),a};M.copy=function(t,e){var r;if(xt.util.isArray(t)){r=[];for(var n=0;n<t.length;++n)r.push(M.copy(t[n],e));return r}return typeof t=="string"?t:(r={tagClass:t.tagClass,type:t.type,constructed:t.constructed,composed:t.composed,value:M.copy(t.value,e)},e&&!e.excludeBitStringContents&&(r.bitStringContents=t.bitStringContents),r)};M.equals=function(t,e,r){if(xt.util.isArray(t)){if(!xt.util.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!M.equals(t[n],e[n]))return!1;return!0}if(typeof t!=typeof e)return!1;if(typeof t=="string")return t===e;var i=t.tagClass===e.tagClass&&t.type===e.type&&t.constructed===e.constructed&&t.composed===e.composed&&M.equals(t.value,e.value);return r&&r.includeBitStringContents&&(i=i&&t.bitStringContents===e.bitStringContents),i};M.getBerValueLength=function(t){var e=t.getByte();if(e!==128){var r,n=e&128;return n?r=t.getInt((e&127)<<3):r=e,r}};function mn(t,e,r){if(r>e){var n=new Error("Too few bytes to parse DER.");throw n.available=t.length(),n.remaining=e,n.requested=r,n}}var hl=function(t,e){var r=t.getByte();if(e--,r!==128){var n,i=r&128;if(!i)n=r;else{var o=r&127;mn(t,e,o),n=t.getInt(o<<3)}if(n<0)throw new Error("Negative length: "+n);return n}};M.fromDer=function(t,e){e===void 0&&(e={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof e=="boolean"&&(e={strict:e,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in e||(e.strict=!0),"parseAllBytes"in e||(e.parseAllBytes=!0),"decodeBitStrings"in e||(e.decodeBitStrings=!0),typeof t=="string"&&(t=xt.util.createBuffer(t));var r=t.length(),n=Zn(t,t.length(),0,e);if(e.parseAllBytes&&t.length()!==0){var i=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw i.byteCount=r,i.remaining=t.length(),i}return n};function Zn(t,e,r,n){var i;mn(t,e,2);var o=t.getByte();e--;var s=o&192,a=o&31;i=t.length();var f=hl(t,e);if(e-=i-t.length(),f!==void 0&&f>e){if(n.strict){var c=new Error("Too few bytes to read ASN.1 value.");throw c.available=t.length(),c.remaining=e,c.requested=f,c}f=e}var u,l,h=(o&32)===32;if(h)if(u=[],f===void 0)for(;;){if(mn(t,e,2),t.bytes(2)==="\0\0"){t.getBytes(2),e-=2;break}i=t.length(),u.push(Zn(t,e,r+1,n)),e-=i-t.length()}else for(;f>0;)i=t.length(),u.push(Zn(t,f,r+1,n)),e-=i-t.length(),f-=i-t.length();if(u===void 0&&s===M.Class.UNIVERSAL&&a===M.Type.BITSTRING&&(l=t.bytes(f)),u===void 0&&n.decodeBitStrings&&s===M.Class.UNIVERSAL&&a===M.Type.BITSTRING&&f>1){var x=t.read,d=e,p=0;if(a===M.Type.BITSTRING&&(mn(t,e,1),p=t.getByte(),e--),p===0)try{i=t.length();var y={strict:!0,decodeBitStrings:!0},g=Zn(t,e,r+1,y),E=i-t.length();e-=E,a==M.Type.BITSTRING&&E++;var b=g.tagClass;E===f&&(b===M.Class.UNIVERSAL||b===M.Class.CONTEXT_SPECIFIC)&&(u=[g])}catch{}u===void 0&&(t.read=x,e=d)}if(u===void 0){if(f===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");f=e}if(a===M.Type.BMPSTRING)for(u="";f>0;f-=2)mn(t,e,2),u+=String.fromCharCode(t.getInt16()),e-=2;else u=t.getBytes(f),e-=f}var L=l===void 0?null:{bitStringContents:l};return M.create(s,a,h,u,L)}M.toDer=function(t){var e=xt.util.createBuffer(),r=t.tagClass|t.type,n=xt.util.createBuffer(),i=!1;if("bitStringContents"in t&&(i=!0,t.original&&(i=M.equals(t,t.original))),i)n.putBytes(t.bitStringContents);else if(t.composed){t.constructed?r|=32:n.putByte(0);for(var o=0;o<t.value.length;++o)t.value[o]!==void 0&&n.putBuffer(M.toDer(t.value[o]))}else if(t.type===M.Type.BMPSTRING)for(var o=0;o<t.value.length;++o)n.putInt16(t.value.charCodeAt(o));else t.type===M.Type.INTEGER&&t.value.length>1&&(t.value.charCodeAt(0)===0&&!(t.value.charCodeAt(1)&128)||t.value.charCodeAt(0)===255&&(t.value.charCodeAt(1)&128)===128)?n.putBytes(t.value.substr(1)):n.putBytes(t.value);if(e.putByte(r),n.length()<=127)e.putByte(n.length()&127);else{var s=n.length(),a="";do a+=String.fromCharCode(s&255),s=s>>>8;while(s>0);e.putByte(a.length|128);for(var o=a.length-1;o>=0;--o)e.putByte(a.charCodeAt(o))}return e.putBuffer(n),e};M.oidToDer=function(t){var e=t.split("."),r=xt.util.createBuffer();r.putByte(40*parseInt(e[0],10)+parseInt(e[1],10));for(var n,i,o,s,a=2;a<e.length;++a){n=!0,i=[],o=parseInt(e[a],10);do s=o&127,o=o>>>7,n||(s|=128),i.push(s),n=!1;while(o>0);for(var f=i.length-1;f>=0;--f)r.putByte(i[f])}return r};M.derToOid=function(t){var e;typeof t=="string"&&(t=xt.util.createBuffer(t));var r=t.getByte();e=Math.floor(r/40)+"."+r%40;for(var n=0;t.length()>0;)r=t.getByte(),n=n<<7,r&128?n+=r&127:(e+="."+(n+r),n=0);return e};M.utcTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(t.substr(2,2),10)-1,i=parseInt(t.substr(4,2),10),o=parseInt(t.substr(6,2),10),s=parseInt(t.substr(8,2),10),a=0;if(t.length>11){var f=t.charAt(10),c=10;f!=="+"&&f!=="-"&&(a=parseInt(t.substr(10,2),10),c+=2)}if(e.setUTCFullYear(r,n,i),e.setUTCHours(o,s,a,0),c&&(f=t.charAt(c),f==="+"||f==="-")){var u=parseInt(t.substr(c+1,2),10),l=parseInt(t.substr(c+4,2),10),h=u*60+l;h*=6e4,f==="+"?e.setTime(+e-h):e.setTime(+e+h)}return e};M.generalizedTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,4),10),n=parseInt(t.substr(4,2),10)-1,i=parseInt(t.substr(6,2),10),o=parseInt(t.substr(8,2),10),s=parseInt(t.substr(10,2),10),a=parseInt(t.substr(12,2),10),f=0,c=0,u=!1;t.charAt(t.length-1)==="Z"&&(u=!0);var l=t.length-5,h=t.charAt(l);if(h==="+"||h==="-"){var x=parseInt(t.substr(l+1,2),10),d=parseInt(t.substr(l+4,2),10);c=x*60+d,c*=6e4,h==="+"&&(c*=-1),u=!0}return t.charAt(14)==="."&&(f=parseFloat(t.substr(14),10)*1e3),u?(e.setUTCFullYear(r,n,i),e.setUTCHours(o,s,a,f),e.setTime(+e+c)):(e.setFullYear(r,n,i),e.setHours(o,s,a,f)),e};M.dateToUtcTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push((""+t.getUTCFullYear()).substr(2)),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z",e};M.dateToGeneralizedTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push(""+t.getUTCFullYear()),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z",e};M.integerToDer=function(t){var e=xt.util.createBuffer();if(t>=-128&&t<128)return e.putSignedInt(t,8);if(t>=-32768&&t<32768)return e.putSignedInt(t,16);if(t>=-8388608&&t<8388608)return e.putSignedInt(t,24);if(t>=-2147483648&&t<2147483648)return e.putSignedInt(t,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=t,r};M.derToInteger=function(t){typeof t=="string"&&(t=xt.util.createBuffer(t));var e=t.length()*8;if(e>32)throw new Error("Integer too large; max is 32-bits.");return t.getSignedInt(e)};M.validate=function(t,e,r,n){var i=!1;if((t.tagClass===e.tagClass||typeof e.tagClass>"u")&&(t.type===e.type||typeof e.type>"u"))if(t.constructed===e.constructed||typeof e.constructed>"u"){if(i=!0,e.value&&xt.util.isArray(e.value))for(var o=0,s=0;i&&s<e.value.length;++s)i=e.value[s].optional||!1,t.value[o]&&(i=M.validate(t.value[o],e.value[s],r,n),i?++o:e.value[s].optional&&(i=!0)),!i&&n&&n.push("["+e.name+'] Tag class "'+e.tagClass+'", type "'+e.type+'" expected value length "'+e.value.length+'", got "'+t.value.length+'"');if(i&&r&&(e.capture&&(r[e.capture]=t.value),e.captureAsn1&&(r[e.captureAsn1]=t),e.captureBitStringContents&&"bitStringContents"in t&&(r[e.captureBitStringContents]=t.bitStringContents),e.captureBitStringValue&&"bitStringContents"in t)){var a;if(t.bitStringContents.length<2)r[e.captureBitStringValue]="";else{var f=t.bitStringContents.charCodeAt(0);if(f!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[e.captureBitStringValue]=t.bitStringContents.slice(1)}}}else n&&n.push("["+e.name+'] Expected constructed "'+e.constructed+'", got "'+t.constructed+'"');else n&&(t.tagClass!==e.tagClass&&n.push("["+e.name+'] Expected tag class "'+e.tagClass+'", got "'+t.tagClass+'"'),t.type!==e.type&&n.push("["+e.name+'] Expected type "'+e.type+'", got "'+t.type+'"'));return i};var ba=/[^\\u0000-\\u00ff]/;M.prettyPrint=function(t,e,r){var n="";e=e||0,r=r||2,e>0&&(n+=`
`);for(var i="",o=0;o<e*r;++o)i+=" ";switch(n+=i+"Tag: ",t.tagClass){case M.Class.UNIVERSAL:n+="Universal:";break;case M.Class.APPLICATION:n+="Application:";break;case M.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case M.Class.PRIVATE:n+="Private:";break}if(t.tagClass===M.Class.UNIVERSAL)switch(n+=t.type,t.type){case M.Type.NONE:n+=" (None)";break;case M.Type.BOOLEAN:n+=" (Boolean)";break;case M.Type.INTEGER:n+=" (Integer)";break;case M.Type.BITSTRING:n+=" (Bit string)";break;case M.Type.OCTETSTRING:n+=" (Octet string)";break;case M.Type.NULL:n+=" (Null)";break;case M.Type.OID:n+=" (Object Identifier)";break;case M.Type.ODESC:n+=" (Object Descriptor)";break;case M.Type.EXTERNAL:n+=" (External or Instance of)";break;case M.Type.REAL:n+=" (Real)";break;case M.Type.ENUMERATED:n+=" (Enumerated)";break;case M.Type.EMBEDDED:n+=" (Embedded PDV)";break;case M.Type.UTF8:n+=" (UTF8)";break;case M.Type.ROID:n+=" (Relative Object Identifier)";break;case M.Type.SEQUENCE:n+=" (Sequence)";break;case M.Type.SET:n+=" (Set)";break;case M.Type.PRINTABLESTRING:n+=" (Printable String)";break;case M.Type.IA5String:n+=" (IA5String (ASCII))";break;case M.Type.UTCTIME:n+=" (UTC time)";break;case M.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case M.Type.BMPSTRING:n+=" (BMP String)";break}else n+=t.type;if(n+=`
`,n+=i+"Constructed: "+t.constructed+`
`,t.composed){for(var s=0,a="",o=0;o<t.value.length;++o)t.value[o]!==void 0&&(s+=1,a+=M.prettyPrint(t.value[o],e+1,r),o+1<t.value.length&&(a+=","));n+=i+"Sub values: "+s+a}else{if(n+=i+"Value: ",t.type===M.Type.OID){var f=M.derToOid(t.value);n+=f,xt.pki&&xt.pki.oids&&f in xt.pki.oids&&(n+=" ("+xt.pki.oids[f]+") ")}if(t.type===M.Type.INTEGER)try{n+=M.derToInteger(t.value)}catch{n+="0x"+xt.util.bytesToHex(t.value)}else if(t.type===M.Type.BITSTRING){if(t.value.length>1?n+="0x"+xt.util.bytesToHex(t.value.slice(1)):n+="(none)",t.value.length>0){var c=t.value.charCodeAt(0);c==1?n+=" (1 unused bit shown)":c>1&&(n+=" ("+c+" unused bits shown)")}}else if(t.type===M.Type.OCTETSTRING)ba.test(t.value)||(n+="("+t.value+") "),n+="0x"+xt.util.bytesToHex(t.value);else if(t.type===M.Type.UTF8)try{n+=xt.util.decodeUtf8(t.value)}catch(u){if(u.message==="URI malformed")n+="0x"+xt.util.bytesToHex(t.value)+" (malformed UTF8)";else throw u}else t.type===M.Type.PRINTABLESTRING||t.type===M.Type.IA5String?n+=t.value:ba.test(t.value)?n+="0x"+xt.util.bytesToHex(t.value):t.value.length===0?n+="[null]":n+=t.value}return n}});var ro=ct((Ox,wa)=>{var Nt=ht();Ct();wa.exports=Nt.cipher=Nt.cipher||{};Nt.cipher.algorithms=Nt.cipher.algorithms||{};Nt.cipher.createCipher=function(t,e){var r=t;if(typeof r=="string"&&(r=Nt.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new Nt.cipher.BlockCipher({algorithm:r,key:e,decrypt:!1})};Nt.cipher.createDecipher=function(t,e){var r=t;if(typeof r=="string"&&(r=Nt.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new Nt.cipher.BlockCipher({algorithm:r,key:e,decrypt:!0})};Nt.cipher.registerAlgorithm=function(t,e){t=t.toUpperCase(),Nt.cipher.algorithms[t]=e};Nt.cipher.getAlgorithm=function(t){return t=t.toUpperCase(),t in Nt.cipher.algorithms?Nt.cipher.algorithms[t]:null};var eo=Nt.cipher.BlockCipher=function(t){this.algorithm=t.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=t.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=t.decrypt,this.algorithm.initialize(t)};eo.prototype.start=function(t){t=t||{};var e={};for(var r in t)e[r]=t[r];e.decrypt=this._decrypt,this._finish=!1,this._input=Nt.util.createBuffer(),this.output=t.output||Nt.util.createBuffer(),this.mode.start(e)};eo.prototype.update=function(t){for(t&&this._input.putBuffer(t);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};eo.prototype.finish=function(t){t&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return t(this.blockSize,r,!1)},this.mode.unpad=function(r){return t(this.blockSize,r,!0)});var e={};return e.decrypt=this._decrypt,e.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,e)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,e))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,e))}});var io=ct((Fx,Sa)=>{var Dt=ht();Ct();Dt.cipher=Dt.cipher||{};var et=Sa.exports=Dt.cipher.modes=Dt.cipher.modes||{};et.ecb=function(t){t=t||{},this.name="ECB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};et.ecb.prototype.start=function(t){};et.ecb.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])};et.ecb.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])};et.ecb.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};et.ecb.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return n>this.blockSize<<2?!1:(t.truncate(n),!0)};et.cbc=function(t){t=t||{},this.name="CBC",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};et.cbc.prototype.start=function(t){if(t.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in t)this._iv=Qn(t.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};et.cbc.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n]);this._prev=this._outBlock};et.cbc.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};et.cbc.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};et.cbc.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return n>this.blockSize<<2?!1:(t.truncate(n),!0)};et.cfb=function(t){t=t||{},this.name="CFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=Dt.util.createBuffer(),this._partialBytes=0};et.cfb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=Qn(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};et.cfb.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32()^this._outBlock[i],e.putInt32(this._inBlock[i]);return}var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(o>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};et.cfb.prototype.decrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32(),e.putInt32(this._inBlock[i]^this._outBlock[i]);return}var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(o>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};et.ofb=function(t){t=t||{},this.name="OFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Dt.util.createBuffer(),this._partialBytes=0};et.ofb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=Qn(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};et.ofb.prototype.encrypt=function(t,e,r){var n=t.length();if(t.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];return}var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(o>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};et.ofb.prototype.decrypt=et.ofb.prototype.encrypt;et.ctr=function(t){t=t||{},this.name="CTR",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Dt.util.createBuffer(),this._partialBytes=0};et.ctr.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=Qn(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};et.ctr.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]);else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(o>0&&(t.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}Xn(this._inBlock)};et.ctr.prototype.decrypt=et.ctr.prototype.encrypt;et.gcm=function(t){t=t||{},this.name="GCM",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=Dt.util.createBuffer(),this._partialBytes=0,this._R=3774873600};et.gcm.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");var e=Dt.util.createBuffer(t.iv);this._cipherLength=0;var r;if("additionalData"in t?r=Dt.util.createBuffer(t.additionalData):r=Dt.util.createBuffer(),"tagLength"in t?this._tagLength=t.tagLength:this._tagLength=128,this._tag=null,t.decrypt&&(this._tag=Dt.util.createBuffer(t.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=e.length();if(n===12)this._j0=[e.getInt32(),e.getInt32(),e.getInt32(),1];else{for(this._j0=[0,0,0,0];e.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(no(n*8)))}this._inBlock=this._j0.slice(0),Xn(this._inBlock),this._partialBytes=0,r=Dt.util.createBuffer(r),this._aDataLength=no(r.length()*8);var i=r.length()%this.blockSize;for(i&&r.fillWithByte(0,this.blockSize-i),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};et.gcm.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]^=t.getInt32());this._cipherLength+=this.blockSize}else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(o<=0||r){if(r){var s=n%this.blockSize;this._cipherLength+=s,this._partialOutput.truncate(this.blockSize-s)}else this._cipherLength+=this.blockSize;for(var i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.read-=this.blockSize,e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),Xn(this._inBlock)};et.gcm.prototype.decrypt=function(t,e,r){var n=t.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),Xn(this._inBlock),this._hashBlock[0]=t.getInt32(),this._hashBlock[1]=t.getInt32(),this._hashBlock[2]=t.getInt32(),this._hashBlock[3]=t.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};et.gcm.prototype.afterFinish=function(t,e){var r=!0;e.decrypt&&e.overflow&&t.truncate(this.blockSize-e.overflow),this.tag=Dt.util.createBuffer();var n=this._aDataLength.concat(no(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var i=[];this.cipher.encrypt(this._j0,i);for(var o=0;o<this._ints;++o)this.tag.putInt32(this._s[o]^i[o]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),e.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};et.gcm.prototype.multiply=function(t,e){for(var r=[0,0,0,0],n=e.slice(0),i=0;i<128;++i){var o=t[i/32|0]&1<<31-i%32;o&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};et.gcm.prototype.pow=function(t,e){for(var r=t[3]&1,n=3;n>0;--n)e[n]=t[n]>>>1|(t[n-1]&1)<<31;e[0]=t[0]>>>1,r&&(e[0]^=this._R)};et.gcm.prototype.tableMultiply=function(t){for(var e=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,i=t[n]>>>(7-r%8)*4&15,o=this._m[r][i];e[0]^=o[0],e[1]^=o[1],e[2]^=o[2],e[3]^=o[3]}return e};et.gcm.prototype.ghash=function(t,e,r){return e[0]^=r[0],e[1]^=r[1],e[2]^=r[2],e[3]^=r[3],this.tableMultiply(e)};et.gcm.prototype.generateHashTable=function(t,e){for(var r=8/e,n=4*r,i=16*r,o=new Array(i),s=0;s<i;++s){var a=[0,0,0,0],f=s/n|0,c=(n-1-s%n)*e;a[f]=1<<e-1<<c,o[s]=this.generateSubHashTable(this.multiply(a,t),e)}return o};et.gcm.prototype.generateSubHashTable=function(t,e){var r=1<<e,n=r>>>1,i=new Array(r);i[n]=t.slice(0);for(var o=n>>>1;o>0;)this.pow(i[2*o],i[o]=[]),o>>=1;for(o=2;o<n;){for(var s=1;s<o;++s){var a=i[o],f=i[s];i[o+s]=[a[0]^f[0],a[1]^f[1],a[2]^f[2],a[3]^f[3]]}o*=2}for(i[0]=[0,0,0,0],o=n+1;o<r;++o){var c=i[o^n];i[o]=[t[0]^c[0],t[1]^c[1],t[2]^c[2],t[3]^c[3]]}return i};function Qn(t,e){if(typeof t=="string"&&(t=Dt.util.createBuffer(t)),Dt.util.isArray(t)&&t.length>4){var r=t;t=Dt.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(t.length()<e)throw new Error("Invalid IV length; got "+t.length()+" bytes and expected "+e+" bytes.");if(!Dt.util.isArray(t)){for(var i=[],o=e/4,n=0;n<o;++n)i.push(t.getInt32());t=i}return t}function Xn(t){t[t.length-1]=t[t.length-1]+1&4294967295}function no(t){return[t/4294967296|0,t&4294967295]}});var fo=ct((Mx,Ta)=>{var pt=ht();ro();io();Ct();Ta.exports=pt.aes=pt.aes||{};pt.aes.startEncrypting=function(t,e,r,n){var i=Jn({key:t,output:r,decrypt:!1,mode:n});return i.start(e),i};pt.aes.createEncryptionCipher=function(t,e){return Jn({key:t,output:null,decrypt:!1,mode:e})};pt.aes.startDecrypting=function(t,e,r,n){var i=Jn({key:t,output:r,decrypt:!0,mode:n});return i.start(e),i};pt.aes.createDecryptionCipher=function(t,e){return Jn({key:t,output:null,decrypt:!0,mode:e})};pt.aes.Algorithm=function(t,e){ao||Aa();var r=this;r.name=t,r.mode=new e({blockSize:16,cipher:{encrypt:function(n,i){return so(r._w,n,i,!1)},decrypt:function(n,i){return so(r._w,n,i,!0)}}}),r._init=!1};pt.aes.Algorithm.prototype.initialize=function(t){if(!this._init){var e=t.key,r;if(typeof e=="string"&&(e.length===16||e.length===24||e.length===32))e=pt.util.createBuffer(e);else if(pt.util.isArray(e)&&(e.length===16||e.length===24||e.length===32)){r=e,e=pt.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(!pt.util.isArray(e)){r=e,e=[];var i=r.length();if(i===16||i===24||i===32){i=i>>>2;for(var n=0;n<i;++n)e.push(r.getInt32())}}if(!pt.util.isArray(e)||!(e.length===4||e.length===6||e.length===8))throw new Error("Invalid key parameter.");var o=this.mode.name,s=["CFB","OFB","CTR","GCM"].indexOf(o)!==-1;this._w=Ca(e,t.decrypt&&!s),this._init=!0}};pt.aes._expandKey=function(t,e){return ao||Aa(),Ca(t,e)};pt.aes._updateBlock=so;Ur("AES-ECB",pt.cipher.modes.ecb);Ur("AES-CBC",pt.cipher.modes.cbc);Ur("AES-CFB",pt.cipher.modes.cfb);Ur("AES-OFB",pt.cipher.modes.ofb);Ur("AES-CTR",pt.cipher.modes.ctr);Ur("AES-GCM",pt.cipher.modes.gcm);function Ur(t,e){var r=function(){return new pt.aes.Algorithm(t,e)};pt.cipher.registerAlgorithm(t,r)}var ao=!1,kr=4,zt,oo,Ba,dr,le;function Aa(){ao=!0,Ba=[0,1,2,4,8,16,32,64,128,27,54];for(var t=new Array(256),e=0;e<128;++e)t[e]=e<<1,t[e+128]=e+128<<1^283;zt=new Array(256),oo=new Array(256),dr=new Array(4),le=new Array(4);for(var e=0;e<4;++e)dr[e]=new Array(256),le[e]=new Array(256);for(var r=0,n=0,i,o,s,a,f,c,u,e=0;e<256;++e){a=n^n<<1^n<<2^n<<3^n<<4,a=a>>8^a&255^99,zt[r]=a,oo[a]=r,f=t[a],i=t[r],o=t[i],s=t[o],c=f<<24^a<<16^a<<8^(a^f),u=(i^o^s)<<24^(r^s)<<16^(r^o^s)<<8^(r^i^s);for(var l=0;l<4;++l)dr[l][r]=c,le[l][a]=u,c=c<<24|c>>>8,u=u<<24|u>>>8;r===0?r=n=1:(r=i^t[t[t[i^s]]],n^=t[t[n]])}}function Ca(t,e){for(var r=t.slice(0),n,i=1,o=r.length,s=o+6+1,a=kr*s,f=o;f<a;++f)n=r[f-1],f%o===0?(n=zt[n>>>16&255]<<24^zt[n>>>8&255]<<16^zt[n&255]<<8^zt[n>>>24]^Ba[i]<<24,i++):o>6&&f%o===4&&(n=zt[n>>>24]<<24^zt[n>>>16&255]<<16^zt[n>>>8&255]<<8^zt[n&255]),r[f]=r[f-o]^n;if(e){var c,u=le[0],l=le[1],h=le[2],x=le[3],d=r.slice(0);a=r.length;for(var f=0,p=a-kr;f<a;f+=kr,p-=kr)if(f===0||f===a-kr)d[f]=r[p],d[f+1]=r[p+3],d[f+2]=r[p+2],d[f+3]=r[p+1];else for(var y=0;y<kr;++y)c=r[p+y],d[f+(3&-y)]=u[zt[c>>>24]]^l[zt[c>>>16&255]]^h[zt[c>>>8&255]]^x[zt[c&255]];r=d}return r}function so(t,e,r,n){var i=t.length/4-1,o,s,a,f,c;n?(o=le[0],s=le[1],a=le[2],f=le[3],c=oo):(o=dr[0],s=dr[1],a=dr[2],f=dr[3],c=zt);var u,l,h,x,d,p,y;u=e[0]^t[0],l=e[n?3:1]^t[1],h=e[2]^t[2],x=e[n?1:3]^t[3];for(var g=3,E=1;E<i;++E)d=o[u>>>24]^s[l>>>16&255]^a[h>>>8&255]^f[x&255]^t[++g],p=o[l>>>24]^s[h>>>16&255]^a[x>>>8&255]^f[u&255]^t[++g],y=o[h>>>24]^s[x>>>16&255]^a[u>>>8&255]^f[l&255]^t[++g],x=o[x>>>24]^s[u>>>16&255]^a[l>>>8&255]^f[h&255]^t[++g],u=d,l=p,h=y;r[0]=c[u>>>24]<<24^c[l>>>16&255]<<16^c[h>>>8&255]<<8^c[x&255]^t[++g],r[n?3:1]=c[l>>>24]<<24^c[h>>>16&255]<<16^c[x>>>8&255]<<8^c[u&255]^t[++g],r[2]=c[h>>>24]<<24^c[x>>>16&255]<<16^c[u>>>8&255]<<8^c[l&255]^t[++g],r[n?1:3]=c[x>>>24]<<24^c[u>>>16&255]<<16^c[l>>>8&255]<<8^c[h&255]^t[++g]}function Jn(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="AES-"+e,n;t.decrypt?n=pt.cipher.createDecipher(r,t.key):n=pt.cipher.createCipher(r,t.key);var i=n.start;return n.start=function(o,s){var a=null;s instanceof pt.util.ByteBuffer&&(a=s,s={}),s=s||{},s.output=a,s.iv=o,i.call(n,s)},n}});var Ra=ct((Vx,_a)=>{var mt=ht();ro();io();Ct();_a.exports=mt.des=mt.des||{};mt.des.startEncrypting=function(t,e,r,n){var i=jn({key:t,output:r,decrypt:!1,mode:n||(e===null?"ECB":"CBC")});return i.start(e),i};mt.des.createEncryptionCipher=function(t,e){return jn({key:t,output:null,decrypt:!1,mode:e})};mt.des.startDecrypting=function(t,e,r,n){var i=jn({key:t,output:r,decrypt:!0,mode:n||(e===null?"ECB":"CBC")});return i.start(e),i};mt.des.createDecryptionCipher=function(t,e){return jn({key:t,output:null,decrypt:!0,mode:e})};mt.des.Algorithm=function(t,e){var r=this;r.name=t,r.mode=new e({blockSize:8,cipher:{encrypt:function(n,i){return Ia(r._keys,n,i,!1)},decrypt:function(n,i){return Ia(r._keys,n,i,!0)}}}),r._init=!1};mt.des.Algorithm.prototype.initialize=function(t){if(!this._init){var e=mt.util.createBuffer(t.key);if(this.name.indexOf("3DES")===0&&e.length()!==24)throw new Error("Invalid Triple-DES key size: "+e.length()*8);this._keys=El(e),this._init=!0}};Se("DES-ECB",mt.cipher.modes.ecb);Se("DES-CBC",mt.cipher.modes.cbc);Se("DES-CFB",mt.cipher.modes.cfb);Se("DES-OFB",mt.cipher.modes.ofb);Se("DES-CTR",mt.cipher.modes.ctr);Se("3DES-ECB",mt.cipher.modes.ecb);Se("3DES-CBC",mt.cipher.modes.cbc);Se("3DES-CFB",mt.cipher.modes.cfb);Se("3DES-OFB",mt.cipher.modes.ofb);Se("3DES-CTR",mt.cipher.modes.ctr);function Se(t,e){var r=function(){return new mt.des.Algorithm(t,e)};mt.cipher.registerAlgorithm(t,r)}var dl=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],pl=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],yl=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],xl=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],gl=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],ml=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],vl=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],bl=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function El(t){for(var e=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],o=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],s=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],a=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],f=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],c=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],u=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],l=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],h=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],x=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],d=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],p=t.length()>8?3:1,y=[],g=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],E=0,b,L=0;L<p;L++){var w=t.getInt32(),S=t.getInt32();b=(w>>>4^S)&252645135,S^=b,w^=b<<4,b=(S>>>-16^w)&65535,w^=b,S^=b<<-16,b=(w>>>2^S)&858993459,S^=b,w^=b<<2,b=(S>>>-16^w)&65535,w^=b,S^=b<<-16,b=(w>>>1^S)&1431655765,S^=b,w^=b<<1,b=(S>>>8^w)&16711935,w^=b,S^=b<<8,b=(w>>>1^S)&1431655765,S^=b,w^=b<<1,b=w<<8|S>>>20&240,w=S<<24|S<<8&16711680|S>>>8&65280|S>>>24&240,S=b;for(var k=0;k<g.length;++k){g[k]?(w=w<<2|w>>>26,S=S<<2|S>>>26):(w=w<<1|w>>>27,S=S<<1|S>>>27),w&=-15,S&=-15;var B=e[w>>>28]|r[w>>>24&15]|n[w>>>20&15]|i[w>>>16&15]|o[w>>>12&15]|s[w>>>8&15]|a[w>>>4&15],K=f[S>>>28]|c[S>>>24&15]|u[S>>>20&15]|l[S>>>16&15]|h[S>>>12&15]|x[S>>>8&15]|d[S>>>4&15];b=(K>>>16^B)&65535,y[E++]=B^b,y[E++]=K^b<<16}}return y}function Ia(t,e,r,n){var i=t.length===32?3:9,o;i===3?o=n?[30,-2,-2]:[0,32,2]:o=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var s,a=e[0],f=e[1];s=(a>>>4^f)&252645135,f^=s,a^=s<<4,s=(a>>>16^f)&65535,f^=s,a^=s<<16,s=(f>>>2^a)&858993459,a^=s,f^=s<<2,s=(f>>>8^a)&16711935,a^=s,f^=s<<8,s=(a>>>1^f)&1431655765,f^=s,a^=s<<1,a=a<<1|a>>>31,f=f<<1|f>>>31;for(var c=0;c<i;c+=3){for(var u=o[c+1],l=o[c+2],h=o[c];h!=u;h+=l){var x=f^t[h],d=(f>>>4|f<<28)^t[h+1];s=a,a=f,f=s^(pl[x>>>24&63]|xl[x>>>16&63]|ml[x>>>8&63]|bl[x&63]|dl[d>>>24&63]|yl[d>>>16&63]|gl[d>>>8&63]|vl[d&63])}s=a,a=f,f=s}a=a>>>1|a<<31,f=f>>>1|f<<31,s=(a>>>1^f)&1431655765,f^=s,a^=s<<1,s=(f>>>8^a)&16711935,a^=s,f^=s<<8,s=(f>>>2^a)&858993459,a^=s,f^=s<<2,s=(a>>>16^f)&65535,f^=s,a^=s<<16,s=(a>>>4^f)&252645135,f^=s,a^=s<<4,r[0]=a,r[1]=f}function jn(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="DES-"+e,n;t.decrypt?n=mt.cipher.createDecipher(r,t.key):n=mt.cipher.createCipher(r,t.key);var i=n.start;return n.start=function(o,s){var a=null;s instanceof mt.util.ByteBuffer&&(a=s,s={}),s=s||{},s.output=a,s.iv=o,i.call(n,s)},n}});var pr=ct((qx,Na)=>{var ti=ht();Na.exports=ti.md=ti.md||{};ti.md.algorithms=ti.md.algorithms||{}});var La=ct((Hx,Da)=>{var Pe=ht();pr();Ct();var wl=Da.exports=Pe.hmac=Pe.hmac||{};wl.create=function(){var t=null,e=null,r=null,n=null,i={};return i.start=function(o,s){if(o!==null)if(typeof o=="string")if(o=o.toLowerCase(),o in Pe.md.algorithms)e=Pe.md.algorithms[o].create();else throw new Error('Unknown hash algorithm "'+o+'"');else e=o;if(s===null)s=t;else{if(typeof s=="string")s=Pe.util.createBuffer(s);else if(Pe.util.isArray(s)){var a=s;s=Pe.util.createBuffer();for(var f=0;f<a.length;++f)s.putByte(a[f])}var c=s.length();c>e.blockLength&&(e.start(),e.update(s.bytes()),s=e.digest()),r=Pe.util.createBuffer(),n=Pe.util.createBuffer(),c=s.length();for(var f=0;f<c;++f){var a=s.at(f);r.putByte(54^a),n.putByte(92^a)}if(c<e.blockLength)for(var a=e.blockLength-c,f=0;f<a;++f)r.putByte(54),n.putByte(92);t=s,r=r.bytes(),n=n.bytes()}e.start(),e.update(r)},i.update=function(o){e.update(o)},i.getMac=function(){var o=e.digest().bytes();return e.start(),e.update(n),e.update(o),e.digest()},i.digest=i.getMac,i}});var ei=ct(()=>{});var Ua=ct(($x,ka)=>{var Gt=ht();La();pr();Ct();var Sl=Gt.pkcs5=Gt.pkcs5||{},Ke;Gt.util.isNodejs&&!Gt.options.usePureJavaScript&&(Ke=ei());ka.exports=Gt.pbkdf2=Sl.pbkdf2=function(t,e,r,n,i,o){if(typeof i=="function"&&(o=i,i=null),Gt.util.isNodejs&&!Gt.options.usePureJavaScript&&Ke.pbkdf2&&(i===null||typeof i!="object")&&(Ke.pbkdf2Sync.length>4||!i||i==="sha1"))return typeof i!="string"&&(i="sha1"),t=Buffer.from(t,"binary"),e=Buffer.from(e,"binary"),o?Ke.pbkdf2Sync.length===4?Ke.pbkdf2(t,e,r,n,function(b,L){if(b)return o(b);o(null,L.toString("binary"))}):Ke.pbkdf2(t,e,r,n,i,function(b,L){if(b)return o(b);o(null,L.toString("binary"))}):Ke.pbkdf2Sync.length===4?Ke.pbkdf2Sync(t,e,r,n).toString("binary"):Ke.pbkdf2Sync(t,e,r,n,i).toString("binary");if((typeof i>"u"||i===null)&&(i="sha1"),typeof i=="string"){if(!(i in Gt.md.algorithms))throw new Error("Unknown hash algorithm: "+i);i=Gt.md[i].create()}var s=i.digestLength;if(n>4294967295*s){var a=new Error("Derived key is too long.");if(o)return o(a);throw a}var f=Math.ceil(n/s),c=n-(f-1)*s,u=Gt.hmac.create();u.start(i,t);var l="",h,x,d;if(!o){for(var p=1;p<=f;++p){u.start(null,null),u.update(e),u.update(Gt.util.int32ToBytes(p)),h=d=u.digest().getBytes();for(var y=2;y<=r;++y)u.start(null,null),u.update(d),x=u.digest().getBytes(),h=Gt.util.xorBytes(h,x,s),d=x;l+=p<f?h:h.substr(0,c)}return l}var p=1,y;function g(){if(p>f)return o(null,l);u.start(null,null),u.update(e),u.update(Gt.util.int32ToBytes(p)),h=d=u.digest().getBytes(),y=2,E()}function E(){if(y<=r)return u.start(null,null),u.update(d),x=u.digest().getBytes(),h=Gt.util.xorBytes(h,x,s),d=x,++y,Gt.util.setImmediate(E);l+=p<f?h:h.substr(0,c),++p,g()}g()}});var Oa=ct((Yx,Ka)=>{var ni=ht();Ct();var Pa=Ka.exports=ni.pem=ni.pem||{};Pa.encode=function(t,e){e=e||{};var r="-----BEGIN "+t.type+`-----\r
`,n;if(t.procType&&(n={name:"Proc-Type",values:[String(t.procType.version),t.procType.type]},r+=ri(n)),t.contentDomain&&(n={name:"Content-Domain",values:[t.contentDomain]},r+=ri(n)),t.dekInfo&&(n={name:"DEK-Info",values:[t.dekInfo.algorithm]},t.dekInfo.parameters&&n.values.push(t.dekInfo.parameters),r+=ri(n)),t.headers)for(var i=0;i<t.headers.length;++i)r+=ri(t.headers[i]);return t.procType&&(r+=`\r
`),r+=ni.util.encode64(t.body,e.maxline||64)+`\r
`,r+="-----END "+t.type+`-----\r
`,r};Pa.decode=function(t){for(var e=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,i=/\r?\n/,o;o=r.exec(t),!!o;){var s=o[1];s==="NEW CERTIFICATE REQUEST"&&(s="CERTIFICATE REQUEST");var a={type:s,procType:null,contentDomain:null,dekInfo:null,headers:[],body:ni.util.decode64(o[3])};if(e.push(a),!!o[2]){for(var f=o[2].split(i),c=0;o&&c<f.length;){for(var u=f[c].replace(/\s+$/,""),l=c+1;l<f.length;++l){var h=f[l];if(!/\s/.test(h[0]))break;u+=h,c=l}if(o=u.match(n),o){for(var x={name:o[1],values:[]},d=o[2].split(","),p=0;p<d.length;++p)x.values.push(Bl(d[p]));if(a.procType)if(!a.contentDomain&&x.name==="Content-Domain")a.contentDomain=d[0]||"";else if(!a.dekInfo&&x.name==="DEK-Info"){if(x.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');a.dekInfo={algorithm:d[0],parameters:d[1]||null}}else a.headers.push(x);else{if(x.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(x.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');a.procType={version:d[0],type:d[1]}}}++c}if(a.procType==="ENCRYPTED"&&!a.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(e.length===0)throw new Error("Invalid PEM formatted message.");return e};function ri(t){for(var e=t.name+": ",r=[],n=function(f,c){return" "+c},i=0;i<t.values.length;++i)r.push(t.values[i].replace(/^(\S+\r\n)/,n));e+=r.join(",")+`\r
`;for(var o=0,s=-1,i=0;i<e.length;++i,++o)if(o>65&&s!==-1){var a=e[s];a===","?(++s,e=e.substr(0,s)+`\r
 `+e.substr(s)):e=e.substr(0,s)+`\r
`+a+e.substr(s+1),o=i-s-1,s=-1,++i}else(e[i]===" "||e[i]==="	"||e[i]===",")&&(s=i);return e}function Bl(t){return t.replace(/^\s+/,"")}});var za=ct((Wx,Ha)=>{var Be=ht();pr();Ct();var Ma=Ha.exports=Be.sha256=Be.sha256||{};Be.md.sha256=Be.md.algorithms.sha256=Ma;Ma.create=function(){Va||Al();var t=null,e=Be.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,o=0;o<i;++o)n.fullMessageLength.push(0);return e=Be.util.createBuffer(),t={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(i,o){o==="utf8"&&(i=Be.util.encodeUtf8(i));var s=i.length;n.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var a=n.fullMessageLength.length-1;a>=0;--a)n.fullMessageLength[a]+=s[1],s[1]=s[0]+(n.fullMessageLength[a]/4294967296>>>0),n.fullMessageLength[a]=n.fullMessageLength[a]>>>0,s[0]=s[1]/4294967296>>>0;return e.putBytes(i),Fa(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var i=Be.util.createBuffer();i.putBytes(e.bytes());var o=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,s=o&n.blockLength-1;i.putBytes(co.substr(0,n.blockLength-s));for(var a,f,c=n.fullMessageLength[0]*8,u=0;u<n.fullMessageLength.length-1;++u)a=n.fullMessageLength[u+1]*8,f=a/4294967296>>>0,c+=f,i.putInt32(c>>>0),c=a>>>0;i.putInt32(c);var l={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4,h5:t.h5,h6:t.h6,h7:t.h7};Fa(l,r,i);var h=Be.util.createBuffer();return h.putInt32(l.h0),h.putInt32(l.h1),h.putInt32(l.h2),h.putInt32(l.h3),h.putInt32(l.h4),h.putInt32(l.h5),h.putInt32(l.h6),h.putInt32(l.h7),h},n};var co=null,Va=!1,qa=null;function Al(){co="\x80",co+=Be.util.fillString("\0",64),qa=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Va=!0}function Fa(t,e,r){for(var n,i,o,s,a,f,c,u,l,h,x,d,p,y,g,E=r.length();E>=64;){for(c=0;c<16;++c)e[c]=r.getInt32();for(;c<64;++c)n=e[c-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=e[c-15],i=(i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,e[c]=n+e[c-7]+i+e[c-16]|0;for(u=t.h0,l=t.h1,h=t.h2,x=t.h3,d=t.h4,p=t.h5,y=t.h6,g=t.h7,c=0;c<64;++c)s=(d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7),a=y^d&(p^y),o=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),f=u&l|h&(u^l),n=g+s+a+qa[c]+e[c],i=o+f,g=y,y=p,p=d,d=x+n>>>0,x=h,h=l,l=u,u=n+i>>>0;t.h0=t.h0+u|0,t.h1=t.h1+l|0,t.h2=t.h2+h|0,t.h3=t.h3+x|0,t.h4=t.h4+d|0,t.h5=t.h5+p|0,t.h6=t.h6+y|0,t.h7=t.h7+g|0,E-=64}}});var $a=ct((Zx,Ga)=>{var Ae=ht();Ct();var ii=null;Ae.util.isNodejs&&!Ae.options.usePureJavaScript&&!process.versions["node-webkit"]&&(ii=ei());var Cl=Ga.exports=Ae.prng=Ae.prng||{};Cl.create=function(t){for(var e={plugin:t,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=t.md,n=new Array(32),i=0;i<32;++i)n[i]=r.create();e.pools=n,e.pool=0,e.generate=function(c,u){if(!u)return e.generateSync(c);var l=e.plugin.cipher,h=e.plugin.increment,x=e.plugin.formatKey,d=e.plugin.formatSeed,p=Ae.util.createBuffer();e.key=null,y();function y(g){if(g)return u(g);if(p.length()>=c)return u(null,p.getBytes(c));if(e.generated>1048575&&(e.key=null),e.key===null)return Ae.util.nextTick(function(){o(y)});var E=l(e.key,e.seed);e.generated+=E.length,p.putBytes(E),e.key=x(l(e.key,h(e.seed))),e.seed=d(l(e.key,e.seed)),Ae.util.setImmediate(y)}},e.generateSync=function(c){var u=e.plugin.cipher,l=e.plugin.increment,h=e.plugin.formatKey,x=e.plugin.formatSeed;e.key=null;for(var d=Ae.util.createBuffer();d.length()<c;){e.generated>1048575&&(e.key=null),e.key===null&&s();var p=u(e.key,e.seed);e.generated+=p.length,d.putBytes(p),e.key=h(u(e.key,l(e.seed))),e.seed=x(u(e.key,e.seed))}return d.getBytes(c)};function o(c){if(e.pools[0].messageLength>=32)return a(),c();var u=32-e.pools[0].messageLength<<5;e.seedFile(u,function(l,h){if(l)return c(l);e.collect(h),a(),c()})}function s(){if(e.pools[0].messageLength>=32)return a();var c=32-e.pools[0].messageLength<<5;e.collect(e.seedFileSync(c)),a()}function a(){e.reseeds=e.reseeds===4294967295?0:e.reseeds+1;var c=e.plugin.md.create();c.update(e.keyBytes);for(var u=1,l=0;l<32;++l)e.reseeds%u===0&&(c.update(e.pools[l].digest().getBytes()),e.pools[l].start()),u=u<<1;e.keyBytes=c.digest().getBytes(),c.start(),c.update(e.keyBytes);var h=c.digest().getBytes();e.key=e.plugin.formatKey(e.keyBytes),e.seed=e.plugin.formatSeed(h),e.generated=0}function f(c){var u=null,l=Ae.util.globalScope,h=l.crypto||l.msCrypto;h&&h.getRandomValues&&(u=function(w){return h.getRandomValues(w)});var x=Ae.util.createBuffer();if(u)for(;x.length()<c;){var d=Math.max(1,Math.min(c-x.length(),65536)/4),p=new Uint32Array(Math.floor(d));try{u(p);for(var y=0;y<p.length;++y)x.putInt32(p[y])}catch(w){if(!(typeof QuotaExceededError<"u"&&w instanceof QuotaExceededError))throw w}}if(x.length()<c)for(var g,E,b,L=Math.floor(Math.random()*65536);x.length()<c;){E=16807*(L&65535),g=16807*(L>>16),E+=(g&32767)<<16,E+=g>>15,E=(E&2147483647)+(E>>31),L=E&4294967295;for(var y=0;y<3;++y)b=L>>>(y<<3),b^=Math.floor(Math.random()*256),x.putByte(b&255)}return x.getBytes(c)}return ii?(e.seedFile=function(c,u){ii.randomBytes(c,function(l,h){if(l)return u(l);u(null,h.toString())})},e.seedFileSync=function(c){return ii.randomBytes(c).toString()}):(e.seedFile=function(c,u){try{u(null,f(c))}catch(l){u(l)}},e.seedFileSync=f),e.collect=function(c){for(var u=c.length,l=0;l<u;++l)e.pools[e.pool].update(c.substr(l,1)),e.pool=e.pool===31?0:e.pool+1},e.collectInt=function(c,u){for(var l="",h=0;h<u;h+=8)l+=String.fromCharCode(c>>h&255);e.collect(l)},e.registerWorker=function(c){if(c===self)e.seedFile=function(l,h){function x(d){var p=d.data;p.forge&&p.forge.prng&&(self.removeEventListener("message",x),h(p.forge.prng.err,p.forge.prng.bytes))}self.addEventListener("message",x),self.postMessage({forge:{prng:{needed:l}}})};else{var u=function(l){var h=l.data;h.forge&&h.forge.prng&&e.seedFile(h.forge.prng.needed,function(x,d){c.postMessage({forge:{prng:{err:x,bytes:d}}})})};c.addEventListener("message",u)}},e}});var bn=ct((Qx,uo)=>{var Lt=ht();fo();za();$a();Ct();(function(){if(Lt.random&&Lt.random.getBytes){uo.exports=Lt.random;return}(function(t){var e={},r=new Array(4),n=Lt.util.createBuffer();e.formatKey=function(l){var h=Lt.util.createBuffer(l);return l=new Array(4),l[0]=h.getInt32(),l[1]=h.getInt32(),l[2]=h.getInt32(),l[3]=h.getInt32(),Lt.aes._expandKey(l,!1)},e.formatSeed=function(l){var h=Lt.util.createBuffer(l);return l=new Array(4),l[0]=h.getInt32(),l[1]=h.getInt32(),l[2]=h.getInt32(),l[3]=h.getInt32(),l},e.cipher=function(l,h){return Lt.aes._updateBlock(l,h,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},e.increment=function(l){return++l[3],l},e.md=Lt.md.sha256;function i(){var l=Lt.prng.create(e);return l.getBytes=function(h,x){return l.generate(h,x)},l.getBytesSync=function(h){return l.generate(h)},l}var o=i(),s=null,a=Lt.util.globalScope,f=a.crypto||a.msCrypto;if(f&&f.getRandomValues&&(s=function(l){return f.getRandomValues(l)}),Lt.options.usePureJavaScript||!Lt.util.isNodejs&&!s){if(typeof window>"u"||window.document,o.collectInt(+new Date,32),typeof navigator<"u"){var c="";for(var u in navigator)try{typeof navigator[u]=="string"&&(c+=navigator[u])}catch{}o.collect(c),c=null}t&&(t().mousemove(function(l){o.collectInt(l.clientX,16),o.collectInt(l.clientY,16)}),t().keypress(function(l){o.collectInt(l.charCode,8)}))}if(!Lt.random)Lt.random=o;else for(var u in o)Lt.random[u]=o[u];Lt.random.createInstance=i,uo.exports=Lt.random})(typeof jQuery<"u"?jQuery:null)})()});var Qa=ct((Xx,Za)=>{var Yt=ht();Ct();var lo=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],Ya=[1,2,3,5],Tl=function(t,e){return t<<e&65535|(t&65535)>>16-e},Il=function(t,e){return(t&65535)>>e|t<<16-e&65535};Za.exports=Yt.rc2=Yt.rc2||{};Yt.rc2.expandKey=function(t,e){typeof t=="string"&&(t=Yt.util.createBuffer(t)),e=e||128;var r=t,n=t.length(),i=e,o=Math.ceil(i/8),s=255>>(i&7),a;for(a=n;a<128;a++)r.putByte(lo[r.at(a-1)+r.at(a-n)&255]);for(r.setAt(128-o,lo[r.at(128-o)&s]),a=127-o;a>=0;a--)r.setAt(a,lo[r.at(a+1)^r.at(a+o)]);return r};var Wa=function(t,e,r){var n=!1,i=null,o=null,s=null,a,f,c,u,l=[];for(t=Yt.rc2.expandKey(t,e),c=0;c<64;c++)l.push(t.getInt16Le());r?(a=function(d){for(c=0;c<4;c++)d[c]+=l[u]+(d[(c+3)%4]&d[(c+2)%4])+(~d[(c+3)%4]&d[(c+1)%4]),d[c]=Tl(d[c],Ya[c]),u++},f=function(d){for(c=0;c<4;c++)d[c]+=l[d[(c+3)%4]&63]}):(a=function(d){for(c=3;c>=0;c--)d[c]=Il(d[c],Ya[c]),d[c]-=l[u]+(d[(c+3)%4]&d[(c+2)%4])+(~d[(c+3)%4]&d[(c+1)%4]),u--},f=function(d){for(c=3;c>=0;c--)d[c]-=l[d[(c+3)%4]&63]});var h=function(d){var p=[];for(c=0;c<4;c++){var y=i.getInt16Le();s!==null&&(r?y^=s.getInt16Le():s.putInt16Le(y)),p.push(y&65535)}u=r?0:63;for(var g=0;g<d.length;g++)for(var E=0;E<d[g][0];E++)d[g][1](p);for(c=0;c<4;c++)s!==null&&(r?s.putInt16Le(p[c]):p[c]^=s.getInt16Le()),o.putInt16Le(p[c])},x=null;return x={start:function(d,p){d&&typeof d=="string"&&(d=Yt.util.createBuffer(d)),n=!1,i=Yt.util.createBuffer(),o=p||new Yt.util.createBuffer,s=d,x.output=o},update:function(d){for(n||i.putBuffer(d);i.length()>=8;)h([[5,a],[1,f],[6,a],[1,f],[5,a]])},finish:function(d){var p=!0;if(r)if(d)p=d(8,i,!r);else{var y=i.length()===8?8:8-i.length();i.fillWithByte(y,y)}if(p&&(n=!0,x.update()),!r&&(p=i.length()===0,p))if(d)p=d(8,o,!r);else{var g=o.length(),E=o.at(g-1);E>g?p=!1:o.truncate(E)}return p}},x};Yt.rc2.startEncrypting=function(t,e,r){var n=Yt.rc2.createEncryptionCipher(t,128);return n.start(e,r),n};Yt.rc2.createEncryptionCipher=function(t,e){return Wa(t,e,!0)};Yt.rc2.startDecrypting=function(t,e,r){var n=Yt.rc2.createDecryptionCipher(t,128);return n.start(e,r),n};Yt.rc2.createDecryptionCipher=function(t,e){return Wa(t,e,!1)}});var ai=ct((Jx,i0)=>{var ho=ht();i0.exports=ho.jsbn=ho.jsbn||{};var Oe,_l=0xdeadbeefcafe,Xa=(_l&16777215)==15715070;function _(t,e,r){this.data=[],t!=null&&(typeof t=="number"?this.fromNumber(t,e,r):e==null&&typeof t!="string"?this.fromString(t,256):this.fromString(t,e))}ho.jsbn.BigInteger=_;function st(){return new _(null)}function Rl(t,e,r,n,i,o){for(;--o>=0;){var s=e*this.data[t++]+r.data[n]+i;i=Math.floor(s/67108864),r.data[n++]=s&67108863}return i}function Nl(t,e,r,n,i,o){for(var s=e&32767,a=e>>15;--o>=0;){var f=this.data[t]&32767,c=this.data[t++]>>15,u=a*f+c*s;f=s*f+((u&32767)<<15)+r.data[n]+(i&1073741823),i=(f>>>30)+(u>>>15)+a*c+(i>>>30),r.data[n++]=f&1073741823}return i}function Ja(t,e,r,n,i,o){for(var s=e&16383,a=e>>14;--o>=0;){var f=this.data[t]&16383,c=this.data[t++]>>14,u=a*f+c*s;f=s*f+((u&16383)<<14)+r.data[n]+i,i=(f>>28)+(u>>14)+a*c,r.data[n++]=f&268435455}return i}typeof navigator>"u"?(_.prototype.am=Ja,Oe=28):Xa&&navigator.appName=="Microsoft Internet Explorer"?(_.prototype.am=Nl,Oe=30):Xa&&navigator.appName!="Netscape"?(_.prototype.am=Rl,Oe=26):(_.prototype.am=Ja,Oe=28);_.prototype.DB=Oe;_.prototype.DM=(1<<Oe)-1;_.prototype.DV=1<<Oe;var po=52;_.prototype.FV=Math.pow(2,po);_.prototype.F1=po-Oe;_.prototype.F2=2*Oe-po;var Dl="0123456789abcdefghijklmnopqrstuvwxyz",oi=new Array,Pr,oe;Pr=48;for(oe=0;oe<=9;++oe)oi[Pr++]=oe;Pr=97;for(oe=10;oe<36;++oe)oi[Pr++]=oe;Pr=65;for(oe=10;oe<36;++oe)oi[Pr++]=oe;function ja(t){return Dl.charAt(t)}function t0(t,e){var r=oi[t.charCodeAt(e)];return r??-1}function Ll(t){for(var e=this.t-1;e>=0;--e)t.data[e]=this.data[e];t.t=this.t,t.s=this.s}function kl(t){this.t=1,this.s=t<0?-1:0,t>0?this.data[0]=t:t<-1?this.data[0]=t+this.DV:this.t=0}function je(t){var e=st();return e.fromInt(t),e}function Ul(t,e){var r;if(e==16)r=4;else if(e==8)r=3;else if(e==256)r=8;else if(e==2)r=1;else if(e==32)r=5;else if(e==4)r=2;else{this.fromRadix(t,e);return}this.t=0,this.s=0;for(var n=t.length,i=!1,o=0;--n>=0;){var s=r==8?t[n]&255:t0(t,n);if(s<0){t.charAt(n)=="-"&&(i=!0);continue}i=!1,o==0?this.data[this.t++]=s:o+r>this.DB?(this.data[this.t-1]|=(s&(1<<this.DB-o)-1)<<o,this.data[this.t++]=s>>this.DB-o):this.data[this.t-1]|=s<<o,o+=r,o>=this.DB&&(o-=this.DB)}r==8&&t[0]&128&&(this.s=-1,o>0&&(this.data[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),i&&_.ZERO.subTo(this,this)}function Pl(){for(var t=this.s&this.DM;this.t>0&&this.data[this.t-1]==t;)--this.t}function Kl(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(t==16)e=4;else if(t==8)e=3;else if(t==2)e=1;else if(t==32)e=5;else if(t==4)e=2;else return this.toRadix(t);var r=(1<<e)-1,n,i=!1,o="",s=this.t,a=this.DB-s*this.DB%e;if(s-- >0)for(a<this.DB&&(n=this.data[s]>>a)>0&&(i=!0,o=ja(n));s>=0;)a<e?(n=(this.data[s]&(1<<a)-1)<<e-a,n|=this.data[--s]>>(a+=this.DB-e)):(n=this.data[s]>>(a-=e)&r,a<=0&&(a+=this.DB,--s)),n>0&&(i=!0),i&&(o+=ja(n));return i?o:"0"}function Ol(){var t=st();return _.ZERO.subTo(this,t),t}function Fl(){return this.s<0?this.negate():this}function Ml(t){var e=this.s-t.s;if(e!=0)return e;var r=this.t;if(e=r-t.t,e!=0)return this.s<0?-e:e;for(;--r>=0;)if((e=this.data[r]-t.data[r])!=0)return e;return 0}function si(t){var e=1,r;return(r=t>>>16)!=0&&(t=r,e+=16),(r=t>>8)!=0&&(t=r,e+=8),(r=t>>4)!=0&&(t=r,e+=4),(r=t>>2)!=0&&(t=r,e+=2),(r=t>>1)!=0&&(t=r,e+=1),e}function Vl(){return this.t<=0?0:this.DB*(this.t-1)+si(this.data[this.t-1]^this.s&this.DM)}function ql(t,e){var r;for(r=this.t-1;r>=0;--r)e.data[r+t]=this.data[r];for(r=t-1;r>=0;--r)e.data[r]=0;e.t=this.t+t,e.s=this.s}function Hl(t,e){for(var r=t;r<this.t;++r)e.data[r-t]=this.data[r];e.t=Math.max(this.t-t,0),e.s=this.s}function zl(t,e){var r=t%this.DB,n=this.DB-r,i=(1<<n)-1,o=Math.floor(t/this.DB),s=this.s<<r&this.DM,a;for(a=this.t-1;a>=0;--a)e.data[a+o+1]=this.data[a]>>n|s,s=(this.data[a]&i)<<r;for(a=o-1;a>=0;--a)e.data[a]=0;e.data[o]=s,e.t=this.t+o+1,e.s=this.s,e.clamp()}function Gl(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t){e.t=0;return}var n=t%this.DB,i=this.DB-n,o=(1<<n)-1;e.data[0]=this.data[r]>>n;for(var s=r+1;s<this.t;++s)e.data[s-r-1]|=(this.data[s]&o)<<i,e.data[s-r]=this.data[s]>>n;n>0&&(e.data[this.t-r-1]|=(this.s&o)<<i),e.t=this.t-r,e.clamp()}function $l(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]-t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e.data[r++]=this.DV+n:n>0&&(e.data[r++]=n),e.t=r,e.clamp()}function Yl(t,e){var r=this.abs(),n=t.abs(),i=r.t;for(e.t=i+n.t;--i>=0;)e.data[i]=0;for(i=0;i<n.t;++i)e.data[i+r.t]=r.am(0,n.data[i],e,i,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&_.ZERO.subTo(e,e)}function Wl(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t.data[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e.data[r],t,2*r,0,1);(t.data[r+e.t]+=e.am(r+1,2*e.data[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t.data[r+e.t]-=e.DV,t.data[r+e.t+1]=1)}t.t>0&&(t.data[t.t-1]+=e.am(r,e.data[r],t,2*r,0,1)),t.s=0,t.clamp()}function Zl(t,e,r){var n=t.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t){e?.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=st());var o=st(),s=this.s,a=t.s,f=this.DB-si(n.data[n.t-1]);f>0?(n.lShiftTo(f,o),i.lShiftTo(f,r)):(n.copyTo(o),i.copyTo(r));var c=o.t,u=o.data[c-1];if(u!=0){var l=u*(1<<this.F1)+(c>1?o.data[c-2]>>this.F2:0),h=this.FV/l,x=(1<<this.F1)/l,d=1<<this.F2,p=r.t,y=p-c,g=e??st();for(o.dlShiftTo(y,g),r.compareTo(g)>=0&&(r.data[r.t++]=1,r.subTo(g,r)),_.ONE.dlShiftTo(c,g),g.subTo(o,o);o.t<c;)o.data[o.t++]=0;for(;--y>=0;){var E=r.data[--p]==u?this.DM:Math.floor(r.data[p]*h+(r.data[p-1]+d)*x);if((r.data[p]+=o.am(0,E,r,y,0,c))<E)for(o.dlShiftTo(y,g),r.subTo(g,r);r.data[p]<--E;)r.subTo(g,r)}e!=null&&(r.drShiftTo(c,e),s!=a&&_.ZERO.subTo(e,e)),r.t=c,r.clamp(),f>0&&r.rShiftTo(f,r),s<0&&_.ZERO.subTo(r,r)}}}function Ql(t){var e=st();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(_.ZERO)>0&&t.subTo(e,e),e}function yr(t){this.m=t}function Xl(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function Jl(t){return t}function jl(t){t.divRemTo(this.m,null,t)}function th(t,e,r){t.multiplyTo(e,r),this.reduce(r)}function eh(t,e){t.squareTo(e),this.reduce(e)}yr.prototype.convert=Xl;yr.prototype.revert=Jl;yr.prototype.reduce=jl;yr.prototype.mulTo=th;yr.prototype.sqrTo=eh;function rh(){if(this.t<1)return 0;var t=this.data[0];if(!(t&1))return 0;var e=t&3;return e=e*(2-(t&15)*e)&15,e=e*(2-(t&255)*e)&255,e=e*(2-((t&65535)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function xr(t){this.m=t,this.mp=t.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function nh(t){var e=st();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(_.ZERO)>0&&this.m.subTo(e,e),e}function ih(t){var e=st();return t.copyTo(e),this.reduce(e),e}function oh(t){for(;t.t<=this.mt2;)t.data[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=t.data[e]&32767,n=r*this.mpl+((r*this.mph+(t.data[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(r=e+this.m.t,t.data[r]+=this.m.am(0,n,t,e,0,this.m.t);t.data[r]>=t.DV;)t.data[r]-=t.DV,t.data[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function sh(t,e){t.squareTo(e),this.reduce(e)}function ah(t,e,r){t.multiplyTo(e,r),this.reduce(r)}xr.prototype.convert=nh;xr.prototype.revert=ih;xr.prototype.reduce=oh;xr.prototype.mulTo=ah;xr.prototype.sqrTo=sh;function fh(){return(this.t>0?this.data[0]&1:this.s)==0}function ch(t,e){if(t>4294967295||t<1)return _.ONE;var r=st(),n=st(),i=e.convert(this),o=si(t)-1;for(i.copyTo(r);--o>=0;)if(e.sqrTo(r,n),(t&1<<o)>0)e.mulTo(n,i,r);else{var s=r;r=n,n=s}return e.revert(r)}function uh(t,e){var r;return t<256||e.isEven()?r=new yr(e):r=new xr(e),this.exp(t,r)}_.prototype.copyTo=Ll;_.prototype.fromInt=kl;_.prototype.fromString=Ul;_.prototype.clamp=Pl;_.prototype.dlShiftTo=ql;_.prototype.drShiftTo=Hl;_.prototype.lShiftTo=zl;_.prototype.rShiftTo=Gl;_.prototype.subTo=$l;_.prototype.multiplyTo=Yl;_.prototype.squareTo=Wl;_.prototype.divRemTo=Zl;_.prototype.invDigit=rh;_.prototype.isEven=fh;_.prototype.exp=ch;_.prototype.toString=Kl;_.prototype.negate=Ol;_.prototype.abs=Fl;_.prototype.compareTo=Ml;_.prototype.bitLength=Vl;_.prototype.mod=Ql;_.prototype.modPowInt=uh;_.ZERO=je(0);_.ONE=je(1);function lh(){var t=st();return this.copyTo(t),t}function hh(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function dh(){return this.t==0?this.s:this.data[0]<<24>>24}function ph(){return this.t==0?this.s:this.data[0]<<16>>16}function yh(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function xh(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function gh(t){if(t==null&&(t=10),this.signum()==0||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),n=je(r),i=st(),o=st(),s="";for(this.divRemTo(n,i,o);i.signum()>0;)s=(r+o.intValue()).toString(t).substr(1)+s,i.divRemTo(n,i,o);return o.intValue().toString(t)+s}function mh(t,e){this.fromInt(0),e==null&&(e=10);for(var r=this.chunkSize(e),n=Math.pow(e,r),i=!1,o=0,s=0,a=0;a<t.length;++a){var f=t0(t,a);if(f<0){t.charAt(a)=="-"&&this.signum()==0&&(i=!0);continue}s=e*s+f,++o>=r&&(this.dMultiply(n),this.dAddOffset(s,0),o=0,s=0)}o>0&&(this.dMultiply(Math.pow(e,o)),this.dAddOffset(s,0)),i&&_.ZERO.subTo(this,this)}function vh(t,e,r){if(typeof e=="number")if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(_.ONE.shiftLeft(t-1),yo,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(_.ONE.shiftLeft(t-1),this);else{var n=new Array,i=t&7;n.length=(t>>3)+1,e.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}}function bh(){var t=this.t,e=new Array;e[0]=this.s;var r=this.DB-t*this.DB%8,n,i=0;if(t-- >0)for(r<this.DB&&(n=this.data[t]>>r)!=(this.s&this.DM)>>r&&(e[i++]=n|this.s<<this.DB-r);t>=0;)r<8?(n=(this.data[t]&(1<<r)-1)<<8-r,n|=this.data[--t]>>(r+=this.DB-8)):(n=this.data[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),n&128&&(n|=-256),i==0&&(this.s&128)!=(n&128)&&++i,(i>0||n!=this.s)&&(e[i++]=n);return e}function Eh(t){return this.compareTo(t)==0}function wh(t){return this.compareTo(t)<0?this:t}function Sh(t){return this.compareTo(t)>0?this:t}function Bh(t,e,r){var n,i,o=Math.min(t.t,this.t);for(n=0;n<o;++n)r.data[n]=e(this.data[n],t.data[n]);if(t.t<this.t){for(i=t.s&this.DM,n=o;n<this.t;++n)r.data[n]=e(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=o;n<t.t;++n)r.data[n]=e(i,t.data[n]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()}function Ah(t,e){return t&e}function Ch(t){var e=st();return this.bitwiseTo(t,Ah,e),e}function yo(t,e){return t|e}function Th(t){var e=st();return this.bitwiseTo(t,yo,e),e}function e0(t,e){return t^e}function Ih(t){var e=st();return this.bitwiseTo(t,e0,e),e}function r0(t,e){return t&~e}function _h(t){var e=st();return this.bitwiseTo(t,r0,e),e}function Rh(){for(var t=st(),e=0;e<this.t;++e)t.data[e]=this.DM&~this.data[e];return t.t=this.t,t.s=~this.s,t}function Nh(t){var e=st();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}function Dh(t){var e=st();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}function Lh(t){if(t==0)return-1;var e=0;return t&65535||(t>>=16,e+=16),t&255||(t>>=8,e+=8),t&15||(t>>=4,e+=4),t&3||(t>>=2,e+=2),t&1||++e,e}function kh(){for(var t=0;t<this.t;++t)if(this.data[t]!=0)return t*this.DB+Lh(this.data[t]);return this.s<0?this.t*this.DB:-1}function Uh(t){for(var e=0;t!=0;)t&=t-1,++e;return e}function Ph(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=Uh(this.data[r]^e);return t}function Kh(t){var e=Math.floor(t/this.DB);return e>=this.t?this.s!=0:(this.data[e]&1<<t%this.DB)!=0}function Oh(t,e){var r=_.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r}function Fh(t){return this.changeBit(t,yo)}function Mh(t){return this.changeBit(t,r0)}function Vh(t){return this.changeBit(t,e0)}function qh(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]+t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e.data[r++]=n:n<-1&&(e.data[r++]=this.DV+n),e.t=r,e.clamp()}function Hh(t){var e=st();return this.addTo(t,e),e}function zh(t){var e=st();return this.subTo(t,e),e}function Gh(t){var e=st();return this.multiplyTo(t,e),e}function $h(t){var e=st();return this.divRemTo(t,e,null),e}function Yh(t){var e=st();return this.divRemTo(t,null,e),e}function Wh(t){var e=st(),r=st();return this.divRemTo(t,e,r),new Array(e,r)}function Zh(t){this.data[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function Qh(t,e){if(t!=0){for(;this.t<=e;)this.data[this.t++]=0;for(this.data[e]+=t;this.data[e]>=this.DV;)this.data[e]-=this.DV,++e>=this.t&&(this.data[this.t++]=0),++this.data[e]}}function En(){}function n0(t){return t}function Xh(t,e,r){t.multiplyTo(e,r)}function Jh(t,e){t.squareTo(e)}En.prototype.convert=n0;En.prototype.revert=n0;En.prototype.mulTo=Xh;En.prototype.sqrTo=Jh;function jh(t){return this.exp(t,new En)}function td(t,e,r){var n=Math.min(this.t+t.t,e);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r.data[n+this.t]=this.am(0,t.data[n],r,n,0,this.t);for(i=Math.min(t.t,e);n<i;++n)this.am(0,t.data[n],r,n,0,e-n);r.clamp()}function ed(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r.data[this.t+n-e]=this.am(e-n,t.data[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)}function Kr(t){this.r2=st(),this.q3=st(),_.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function rd(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=st();return t.copyTo(e),this.reduce(e),e}function nd(t){return t}function id(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function od(t,e){t.squareTo(e),this.reduce(e)}function sd(t,e,r){t.multiplyTo(e,r),this.reduce(r)}Kr.prototype.convert=rd;Kr.prototype.revert=nd;Kr.prototype.reduce=id;Kr.prototype.mulTo=sd;Kr.prototype.sqrTo=od;function ad(t,e){var r=t.bitLength(),n,i=je(1),o;if(r<=0)return i;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?o=new yr(e):e.isEven()?o=new Kr(e):o=new xr(e);var s=new Array,a=3,f=n-1,c=(1<<n)-1;if(s[1]=o.convert(this),n>1){var u=st();for(o.sqrTo(s[1],u);a<=c;)s[a]=st(),o.mulTo(u,s[a-2],s[a]),a+=2}var l=t.t-1,h,x=!0,d=st(),p;for(r=si(t.data[l])-1;l>=0;){for(r>=f?h=t.data[l]>>r-f&c:(h=(t.data[l]&(1<<r+1)-1)<<f-r,l>0&&(h|=t.data[l-1]>>this.DB+r-f)),a=n;!(h&1);)h>>=1,--a;if((r-=a)<0&&(r+=this.DB,--l),x)s[h].copyTo(i),x=!1;else{for(;a>1;)o.sqrTo(i,d),o.sqrTo(d,i),a-=2;a>0?o.sqrTo(i,d):(p=i,i=d,d=p),o.mulTo(d,s[h],i)}for(;l>=0&&!(t.data[l]&1<<r);)o.sqrTo(i,d),p=i,i=d,d=p,--r<0&&(r=this.DB-1,--l)}return o.revert(i)}function fd(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var i=e.getLowestSetBit(),o=r.getLowestSetBit();if(o<0)return e;for(i<o&&(o=i),o>0&&(e.rShiftTo(o,e),r.rShiftTo(o,r));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return o>0&&r.lShiftTo(o,r),r}function cd(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(e==0)r=this.data[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this.data[n])%t;return r}function ud(t){var e=t.isEven();if(this.isEven()&&e||t.signum()==0)return _.ZERO;for(var r=t.clone(),n=this.clone(),i=je(1),o=je(0),s=je(0),a=je(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),e?((!i.isEven()||!o.isEven())&&(i.addTo(this,i),o.subTo(t,o)),i.rShiftTo(1,i)):o.isEven()||o.subTo(t,o),o.rShiftTo(1,o);for(;n.isEven();)n.rShiftTo(1,n),e?((!s.isEven()||!a.isEven())&&(s.addTo(this,s),a.subTo(t,a)),s.rShiftTo(1,s)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);r.compareTo(n)>=0?(r.subTo(n,r),e&&i.subTo(s,i),o.subTo(a,o)):(n.subTo(r,n),e&&s.subTo(i,s),a.subTo(o,a))}if(n.compareTo(_.ONE)!=0)return _.ZERO;if(a.compareTo(t)>=0)return a.subtract(t);if(a.signum()<0)a.addTo(t,a);else return a;return a.signum()<0?a.add(t):a}var he=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],ld=(1<<26)/he[he.length-1];function hd(t){var e,r=this.abs();if(r.t==1&&r.data[0]<=he[he.length-1]){for(e=0;e<he.length;++e)if(r.data[0]==he[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<he.length;){for(var n=he[e],i=e+1;i<he.length&&n<ld;)n*=he[i++];for(n=r.modInt(n);e<i;)if(n%he[e++]==0)return!1}return r.millerRabin(t)}function dd(t){var e=this.subtract(_.ONE),r=e.getLowestSetBit();if(r<=0)return!1;for(var n=e.shiftRight(r),i=pd(),o,s=0;s<t;++s){do o=new _(this.bitLength(),i);while(o.compareTo(_.ONE)<=0||o.compareTo(e)>=0);var a=o.modPow(n,this);if(a.compareTo(_.ONE)!=0&&a.compareTo(e)!=0){for(var f=1;f++<r&&a.compareTo(e)!=0;)if(a=a.modPowInt(2,this),a.compareTo(_.ONE)==0)return!1;if(a.compareTo(e)!=0)return!1}}return!0}function pd(){return{nextBytes:function(t){for(var e=0;e<t.length;++e)t[e]=Math.floor(Math.random()*256)}}}_.prototype.chunkSize=yh;_.prototype.toRadix=gh;_.prototype.fromRadix=mh;_.prototype.fromNumber=vh;_.prototype.bitwiseTo=Bh;_.prototype.changeBit=Oh;_.prototype.addTo=qh;_.prototype.dMultiply=Zh;_.prototype.dAddOffset=Qh;_.prototype.multiplyLowerTo=td;_.prototype.multiplyUpperTo=ed;_.prototype.modInt=cd;_.prototype.millerRabin=dd;_.prototype.clone=lh;_.prototype.intValue=hh;_.prototype.byteValue=dh;_.prototype.shortValue=ph;_.prototype.signum=xh;_.prototype.toByteArray=bh;_.prototype.equals=Eh;_.prototype.min=wh;_.prototype.max=Sh;_.prototype.and=Ch;_.prototype.or=Th;_.prototype.xor=Ih;_.prototype.andNot=_h;_.prototype.not=Rh;_.prototype.shiftLeft=Nh;_.prototype.shiftRight=Dh;_.prototype.getLowestSetBit=kh;_.prototype.bitCount=Ph;_.prototype.testBit=Kh;_.prototype.setBit=Fh;_.prototype.clearBit=Mh;_.prototype.flipBit=Vh;_.prototype.add=Hh;_.prototype.subtract=zh;_.prototype.multiply=Gh;_.prototype.divide=$h;_.prototype.remainder=Yh;_.prototype.divideAndRemainder=Wh;_.prototype.modPow=ad;_.prototype.modInverse=ud;_.prototype.pow=jh;_.prototype.gcd=fd;_.prototype.isProbablePrime=hd});var c0=ct((jx,f0)=>{var Ce=ht();pr();Ct();var s0=f0.exports=Ce.sha1=Ce.sha1||{};Ce.md.sha1=Ce.md.algorithms.sha1=s0;s0.create=function(){a0||yd();var t=null,e=Ce.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,o=0;o<i;++o)n.fullMessageLength.push(0);return e=Ce.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(i,o){o==="utf8"&&(i=Ce.util.encodeUtf8(i));var s=i.length;n.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var a=n.fullMessageLength.length-1;a>=0;--a)n.fullMessageLength[a]+=s[1],s[1]=s[0]+(n.fullMessageLength[a]/4294967296>>>0),n.fullMessageLength[a]=n.fullMessageLength[a]>>>0,s[0]=s[1]/4294967296>>>0;return e.putBytes(i),o0(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var i=Ce.util.createBuffer();i.putBytes(e.bytes());var o=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,s=o&n.blockLength-1;i.putBytes(xo.substr(0,n.blockLength-s));for(var a,f,c=n.fullMessageLength[0]*8,u=0;u<n.fullMessageLength.length-1;++u)a=n.fullMessageLength[u+1]*8,f=a/4294967296>>>0,c+=f,i.putInt32(c>>>0),c=a>>>0;i.putInt32(c);var l={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4};o0(l,r,i);var h=Ce.util.createBuffer();return h.putInt32(l.h0),h.putInt32(l.h1),h.putInt32(l.h2),h.putInt32(l.h3),h.putInt32(l.h4),h},n};var xo=null,a0=!1;function yd(){xo="\x80",xo+=Ce.util.fillString("\0",64),a0=!0}function o0(t,e,r){for(var n,i,o,s,a,f,c,u,l=r.length();l>=64;){for(i=t.h0,o=t.h1,s=t.h2,a=t.h3,f=t.h4,u=0;u<16;++u)n=r.getInt32(),e[u]=n,c=a^o&(s^a),n=(i<<5|i>>>27)+c+f+1518500249+n,f=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=n;for(;u<20;++u)n=e[u-3]^e[u-8]^e[u-14]^e[u-16],n=n<<1|n>>>31,e[u]=n,c=a^o&(s^a),n=(i<<5|i>>>27)+c+f+1518500249+n,f=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=n;for(;u<32;++u)n=e[u-3]^e[u-8]^e[u-14]^e[u-16],n=n<<1|n>>>31,e[u]=n,c=o^s^a,n=(i<<5|i>>>27)+c+f+1859775393+n,f=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=n;for(;u<40;++u)n=e[u-6]^e[u-16]^e[u-28]^e[u-32],n=n<<2|n>>>30,e[u]=n,c=o^s^a,n=(i<<5|i>>>27)+c+f+1859775393+n,f=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=n;for(;u<60;++u)n=e[u-6]^e[u-16]^e[u-28]^e[u-32],n=n<<2|n>>>30,e[u]=n,c=o&s|a&(o^s),n=(i<<5|i>>>27)+c+f+2400959708+n,f=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=n;for(;u<80;++u)n=e[u-6]^e[u-16]^e[u-28]^e[u-32],n=n<<2|n>>>30,e[u]=n,c=o^s^a,n=(i<<5|i>>>27)+c+f+3395469782+n,f=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=n;t.h0=t.h0+i|0,t.h1=t.h1+o|0,t.h2=t.h2+s|0,t.h3=t.h3+a|0,t.h4=t.h4+f|0,l-=64}}});var h0=ct((tg,l0)=>{var Te=ht();Ct();bn();c0();var u0=l0.exports=Te.pkcs1=Te.pkcs1||{};u0.encode_rsa_oaep=function(t,e,r){var n,i,o,s;typeof r=="string"?(n=r,i=arguments[3]||void 0,o=arguments[4]||void 0):r&&(n=r.label||void 0,i=r.seed||void 0,o=r.md||void 0,r.mgf1&&r.mgf1.md&&(s=r.mgf1.md)),o?o.start():o=Te.md.sha1.create(),s||(s=o);var a=Math.ceil(t.n.bitLength()/8),f=a-2*o.digestLength-2;if(e.length>f){var c=new Error("RSAES-OAEP input message length is too long.");throw c.length=e.length,c.maxLength=f,c}n||(n=""),o.update(n,"raw");for(var u=o.digest(),l="",h=f-e.length,x=0;x<h;x++)l+="\0";var d=u.getBytes()+l+""+e;if(!i)i=Te.random.getBytes(o.digestLength);else if(i.length!==o.digestLength){var c=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw c.seedLength=i.length,c.digestLength=o.digestLength,c}var p=fi(i,a-o.digestLength-1,s),y=Te.util.xorBytes(d,p,d.length),g=fi(y,o.digestLength,s),E=Te.util.xorBytes(i,g,i.length);return"\0"+E+y};u0.decode_rsa_oaep=function(t,e,r){var n,i,o;typeof r=="string"?(n=r,i=arguments[3]||void 0):r&&(n=r.label||void 0,i=r.md||void 0,r.mgf1&&r.mgf1.md&&(o=r.mgf1.md));var s=Math.ceil(t.n.bitLength()/8);if(e.length!==s){var y=new Error("RSAES-OAEP encoded message length is invalid.");throw y.length=e.length,y.expectedLength=s,y}if(i===void 0?i=Te.md.sha1.create():i.start(),o||(o=i),s<2*i.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),i.update(n,"raw");for(var a=i.digest().getBytes(),f=e.charAt(0),c=e.substring(1,i.digestLength+1),u=e.substring(1+i.digestLength),l=fi(u,i.digestLength,o),h=Te.util.xorBytes(c,l,c.length),x=fi(h,s-i.digestLength-1,o),d=Te.util.xorBytes(u,x,u.length),p=d.substring(0,i.digestLength),y=f!=="\0",g=0;g<i.digestLength;++g)y|=a.charAt(g)!==p.charAt(g);for(var E=1,b=i.digestLength,L=i.digestLength;L<d.length;L++){var w=d.charCodeAt(L),S=w&1^1,k=E?65534:0;y|=w&k,E=E&S,b+=E}if(y||d.charCodeAt(b)!==1)throw new Error("Invalid RSAES-OAEP padding.");return d.substring(b+1)};function fi(t,e,r){r||(r=Te.md.sha1.create());for(var n="",i=Math.ceil(e/r.digestLength),o=0;o<i;++o){var s=String.fromCharCode(o>>24&255,o>>16&255,o>>8&255,o&255);r.start(),r.update(t+s),n+=r.digest().getBytes()}return n.substring(0,e)}});var d0=ct((eg,go)=>{var tr=ht();Ct();ai();bn();(function(){if(tr.prime){go.exports=tr.prime;return}var t=go.exports=tr.prime=tr.prime||{},e=tr.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new e(null);n.fromInt(30);var i=function(l,h){return l|h};t.generateProbablePrime=function(l,h,x){typeof h=="function"&&(x=h,h={}),h=h||{};var d=h.algorithm||"PRIMEINC";typeof d=="string"&&(d={name:d}),d.options=d.options||{};var p=h.prng||tr.random,y={nextBytes:function(g){for(var E=p.getBytesSync(g.length),b=0;b<g.length;++b)g[b]=E.charCodeAt(b)}};if(d.name==="PRIMEINC")return o(l,y,d.options,x);throw new Error("Invalid prime generation algorithm: "+d.name)};function o(l,h,x,d){return"workers"in x?f(l,h,x,d):s(l,h,x,d)}function s(l,h,x,d){var p=c(l,h),y=0,g=u(p.bitLength());"millerRabinTests"in x&&(g=x.millerRabinTests);var E=10;"maxBlockTime"in x&&(E=x.maxBlockTime),a(p,l,h,y,g,E,d)}function a(l,h,x,d,p,y,g){var E=+new Date;do{if(l.bitLength()>h&&(l=c(h,x)),l.isProbablePrime(p))return g(null,l);l.dAddOffset(r[d++%8],0)}while(y<0||+new Date-E<y);tr.util.setImmediate(function(){a(l,h,x,d,p,y,g)})}function f(l,h,x,d){if(typeof Worker>"u")return s(l,h,x,d);var p=c(l,h),y=x.workers,g=x.workLoad||100,E=g*30/8,b=x.workerScript||"forge/prime.worker.js";if(y===-1)return tr.util.estimateCores(function(w,S){w&&(S=2),y=S-1,L()});L();function L(){y=Math.max(1,y);for(var w=[],S=0;S<y;++S)w[S]=new Worker(b);for(var k=y,S=0;S<y;++S)w[S].addEventListener("message",K);var B=!1;function K(F){if(!B){--k;var P=F.data;if(P.found){for(var V=0;V<w.length;++V)w[V].terminate();return B=!0,d(null,new e(P.prime,16))}p.bitLength()>l&&(p=c(l,h));var Y=p.toString(16);F.target.postMessage({hex:Y,workLoad:g}),p.dAddOffset(E,0)}}}}function c(l,h){var x=new e(l,h),d=l-1;return x.testBit(d)||x.bitwiseTo(e.ONE.shiftLeft(d),i,x),x.dAddOffset(31-x.mod(n).byteValue(),0),x}function u(l){return l<=100?27:l<=150?18:l<=200?15:l<=250?12:l<=300?9:l<=350?8:l<=400?7:l<=500?6:l<=600?5:l<=800?4:l<=1250?3:2}})()});var ui=ct((rg,b0)=>{var $=ht();vn();ai();Wn();h0();d0();bn();Ct();typeof ot>"u"&&(ot=$.jsbn.BigInteger);var ot,mo=$.util.isNodejs?ei():null,v=$.asn1,se=$.util;$.pki=$.pki||{};b0.exports=$.pki.rsa=$.rsa=$.rsa||{};var Q=$.pki,xd=[6,4,2,4,2,4,6,2],gd={name:"PrivateKeyInfo",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:v.Class.UNIVERSAL,type:v.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:v.Class.UNIVERSAL,type:v.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},md={name:"RSAPrivateKey",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},vd={name:"RSAPublicKey",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},bd=$.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:v.Class.UNIVERSAL,type:v.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:v.Class.UNIVERSAL,type:v.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},Ed={name:"DigestInfo",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:v.Class.UNIVERSAL,type:v.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:v.Class.UNIVERSAL,type:v.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:v.Class.UNIVERSAL,type:v.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},wd=function(t){var e;if(t.algorithm in Q.oids)e=Q.oids[t.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=t.algorithm,r}var n=v.oidToDer(e).getBytes(),i=v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[]),o=v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[]);o.value.push(v.create(v.Class.UNIVERSAL,v.Type.OID,!1,n)),o.value.push(v.create(v.Class.UNIVERSAL,v.Type.NULL,!1,""));var s=v.create(v.Class.UNIVERSAL,v.Type.OCTETSTRING,!1,t.digest().getBytes());return i.value.push(o),i.value.push(s),v.toDer(i).getBytes()},m0=function(t,e,r){if(r)return t.modPow(e.e,e.n);if(!e.p||!e.q)return t.modPow(e.d,e.n);e.dP||(e.dP=e.d.mod(e.p.subtract(ot.ONE))),e.dQ||(e.dQ=e.d.mod(e.q.subtract(ot.ONE))),e.qInv||(e.qInv=e.q.modInverse(e.p));var n;do n=new ot($.util.bytesToHex($.random.getBytes(e.n.bitLength()/8)),16);while(n.compareTo(e.n)>=0||!n.gcd(e.n).equals(ot.ONE));t=t.multiply(n.modPow(e.e,e.n)).mod(e.n);for(var i=t.mod(e.p).modPow(e.dP,e.p),o=t.mod(e.q).modPow(e.dQ,e.q);i.compareTo(o)<0;)i=i.add(e.p);var s=i.subtract(o).multiply(e.qInv).mod(e.p).multiply(e.q).add(o);return s=s.multiply(n.modInverse(e.n)).mod(e.n),s};Q.rsa.encrypt=function(t,e,r){var n=r,i,o=Math.ceil(e.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,i=v0(t,e,r)):(i=$.util.createBuffer(),i.putBytes(t));for(var s=new ot(i.toHex(),16),a=m0(s,e,n),f=a.toString(16),c=$.util.createBuffer(),u=o-Math.ceil(f.length/2);u>0;)c.putByte(0),--u;return c.putBytes($.util.hexToBytes(f)),c.getBytes()};Q.rsa.decrypt=function(t,e,r,n){var i=Math.ceil(e.n.bitLength()/8);if(t.length!==i){var o=new Error("Encrypted message length is invalid.");throw o.length=t.length,o.expected=i,o}var s=new ot($.util.createBuffer(t).toHex(),16);if(s.compareTo(e.n)>=0)throw new Error("Encrypted message is invalid.");for(var a=m0(s,e,r),f=a.toString(16),c=$.util.createBuffer(),u=i-Math.ceil(f.length/2);u>0;)c.putByte(0),--u;return c.putBytes($.util.hexToBytes(f)),n!==!1?ci(c.getBytes(),e,r):c.getBytes()};Q.rsa.createKeyPairGenerationState=function(t,e,r){typeof t=="string"&&(t=parseInt(t,10)),t=t||2048,r=r||{};var n=r.prng||$.random,i={nextBytes:function(a){for(var f=n.getBytesSync(a.length),c=0;c<a.length;++c)a[c]=f.charCodeAt(c)}},o=r.algorithm||"PRIMEINC",s;if(o==="PRIMEINC")s={algorithm:o,state:0,bits:t,rng:i,eInt:e||65537,e:new ot(null),p:null,q:null,qBits:t>>1,pBits:t-(t>>1),pqState:0,num:null,keys:null},s.e.fromInt(s.eInt);else throw new Error("Invalid key generation algorithm: "+o);return s};Q.rsa.stepKeyPairGenerationState=function(t,e){"algorithm"in t||(t.algorithm="PRIMEINC");var r=new ot(null);r.fromInt(30);for(var n=0,i=function(l,h){return l|h},o=+new Date,s,a=0;t.keys===null&&(e<=0||a<e);){if(t.state===0){var f=t.p===null?t.pBits:t.qBits,c=f-1;t.pqState===0?(t.num=new ot(f,t.rng),t.num.testBit(c)||t.num.bitwiseTo(ot.ONE.shiftLeft(c),i,t.num),t.num.dAddOffset(31-t.num.mod(r).byteValue(),0),n=0,++t.pqState):t.pqState===1?t.num.bitLength()>f?t.pqState=0:t.num.isProbablePrime(Bd(t.num.bitLength()))?++t.pqState:t.num.dAddOffset(xd[n++%8],0):t.pqState===2?t.pqState=t.num.subtract(ot.ONE).gcd(t.e).compareTo(ot.ONE)===0?3:0:t.pqState===3&&(t.pqState=0,t.p===null?t.p=t.num:t.q=t.num,t.p!==null&&t.q!==null&&++t.state,t.num=null)}else if(t.state===1)t.p.compareTo(t.q)<0&&(t.num=t.p,t.p=t.q,t.q=t.num),++t.state;else if(t.state===2)t.p1=t.p.subtract(ot.ONE),t.q1=t.q.subtract(ot.ONE),t.phi=t.p1.multiply(t.q1),++t.state;else if(t.state===3)t.phi.gcd(t.e).compareTo(ot.ONE)===0?++t.state:(t.p=null,t.q=null,t.state=0);else if(t.state===4)t.n=t.p.multiply(t.q),t.n.bitLength()===t.bits?++t.state:(t.q=null,t.state=0);else if(t.state===5){var u=t.e.modInverse(t.phi);t.keys={privateKey:Q.rsa.setPrivateKey(t.n,t.e,u,t.p,t.q,u.mod(t.p1),u.mod(t.q1),t.q.modInverse(t.p)),publicKey:Q.rsa.setPublicKey(t.n,t.e)}}s=+new Date,a+=s-o,o=s}return t.keys!==null};Q.rsa.generateKeyPair=function(t,e,r,n){if(arguments.length===1?typeof t=="object"?(r=t,t=void 0):typeof t=="function"&&(n=t,t=void 0):arguments.length===2?typeof t=="number"?typeof e=="function"?(n=e,e=void 0):typeof e!="number"&&(r=e,e=void 0):(r=t,n=e,t=void 0,e=void 0):arguments.length===3&&(typeof e=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=e,e=void 0)),r=r||{},t===void 0&&(t=r.bits||2048),e===void 0&&(e=r.e||65537),!$.options.usePureJavaScript&&!r.prng&&t>=256&&t<=16384&&(e===65537||e===3)){if(n){if(p0("generateKeyPair"))return mo.generateKeyPair("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(a,f,c){if(a)return n(a);n(null,{privateKey:Q.privateKeyFromPem(c),publicKey:Q.publicKeyFromPem(f)})});if(y0("generateKey")&&y0("exportKey"))return se.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:g0(e),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(a){return se.globalScope.crypto.subtle.exportKey("pkcs8",a.privateKey)}).then(void 0,function(a){n(a)}).then(function(a){if(a){var f=Q.privateKeyFromAsn1(v.fromDer($.util.createBuffer(a)));n(null,{privateKey:f,publicKey:Q.setRsaPublicKey(f.n,f.e)})}});if(x0("generateKey")&&x0("exportKey")){var i=se.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:g0(e),hash:{name:"SHA-256"}},!0,["sign","verify"]);i.oncomplete=function(a){var f=a.target.result,c=se.globalScope.msCrypto.subtle.exportKey("pkcs8",f.privateKey);c.oncomplete=function(u){var l=u.target.result,h=Q.privateKeyFromAsn1(v.fromDer($.util.createBuffer(l)));n(null,{privateKey:h,publicKey:Q.setRsaPublicKey(h.n,h.e)})},c.onerror=function(u){n(u)}},i.onerror=function(a){n(a)};return}}else if(p0("generateKeyPairSync")){var o=mo.generateKeyPairSync("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:Q.privateKeyFromPem(o.privateKey),publicKey:Q.publicKeyFromPem(o.publicKey)}}}var s=Q.rsa.createKeyPairGenerationState(t,e,r);if(!n)return Q.rsa.stepKeyPairGenerationState(s,0),s.keys;Sd(s,r,n)};Q.setRsaPublicKey=Q.rsa.setPublicKey=function(t,e){var r={n:t,e};return r.encrypt=function(n,i,o){if(typeof i=="string"?i=i.toUpperCase():i===void 0&&(i="RSAES-PKCS1-V1_5"),i==="RSAES-PKCS1-V1_5")i={encode:function(a,f,c){return v0(a,f,2).getBytes()}};else if(i==="RSA-OAEP"||i==="RSAES-OAEP")i={encode:function(a,f){return $.pkcs1.encode_rsa_oaep(f,a,o)}};else if(["RAW","NONE","NULL",null].indexOf(i)!==-1)i={encode:function(a){return a}};else if(typeof i=="string")throw new Error('Unsupported encryption scheme: "'+i+'".');var s=i.encode(n,r,!0);return Q.rsa.encrypt(s,r,!0)},r.verify=function(n,i,o,s){typeof o=="string"?o=o.toUpperCase():o===void 0&&(o="RSASSA-PKCS1-V1_5"),s===void 0&&(s={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in s||(s._parseAllDigestBytes=!0),o==="RSASSA-PKCS1-V1_5"?o={verify:function(f,c){c=ci(c,r,!0);var u=v.fromDer(c,{parseAllBytes:s._parseAllDigestBytes}),l={},h=[];if(!v.validate(u,Ed,l,h)){var x=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw x.errors=h,x}var d=v.derToOid(l.algorithmIdentifier);if(!(d===$.oids.md2||d===$.oids.md5||d===$.oids.sha1||d===$.oids.sha224||d===$.oids.sha256||d===$.oids.sha384||d===$.oids.sha512||d===$.oids["sha512-224"]||d===$.oids["sha512-256"])){var x=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw x.oid=d,x}if((d===$.oids.md2||d===$.oids.md5)&&!("parameters"in l))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return f===l.digest}}:(o==="NONE"||o==="NULL"||o===null)&&(o={verify:function(f,c){return c=ci(c,r,!0),f===c}});var a=Q.rsa.decrypt(i,r,!0,!1);return o.verify(n,a,r.n.bitLength())},r};Q.setRsaPrivateKey=Q.rsa.setPrivateKey=function(t,e,r,n,i,o,s,a){var f={n:t,e,d:r,p:n,q:i,dP:o,dQ:s,qInv:a};return f.decrypt=function(c,u,l){typeof u=="string"?u=u.toUpperCase():u===void 0&&(u="RSAES-PKCS1-V1_5");var h=Q.rsa.decrypt(c,f,!1,!1);if(u==="RSAES-PKCS1-V1_5")u={decode:ci};else if(u==="RSA-OAEP"||u==="RSAES-OAEP")u={decode:function(x,d){return $.pkcs1.decode_rsa_oaep(d,x,l)}};else if(["RAW","NONE","NULL",null].indexOf(u)!==-1)u={decode:function(x){return x}};else throw new Error('Unsupported encryption scheme: "'+u+'".');return u.decode(h,f,!1)},f.sign=function(c,u){var l=!1;typeof u=="string"&&(u=u.toUpperCase()),u===void 0||u==="RSASSA-PKCS1-V1_5"?(u={encode:wd},l=1):(u==="NONE"||u==="NULL"||u===null)&&(u={encode:function(){return c}},l=1);var h=u.encode(c,f.n.bitLength());return Q.rsa.encrypt(h,f,l)},f};Q.wrapRsaPrivateKey=function(t){return v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,v.integerToDer(0).getBytes()),v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.OID,!1,v.oidToDer(Q.oids.rsaEncryption).getBytes()),v.create(v.Class.UNIVERSAL,v.Type.NULL,!1,"")]),v.create(v.Class.UNIVERSAL,v.Type.OCTETSTRING,!1,v.toDer(t).getBytes())])};Q.privateKeyFromAsn1=function(t){var e={},r=[];if(v.validate(t,gd,e,r)&&(t=v.fromDer($.util.createBuffer(e.privateKey))),e={},r=[],!v.validate(t,md,e,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var i,o,s,a,f,c,u,l;return i=$.util.createBuffer(e.privateKeyModulus).toHex(),o=$.util.createBuffer(e.privateKeyPublicExponent).toHex(),s=$.util.createBuffer(e.privateKeyPrivateExponent).toHex(),a=$.util.createBuffer(e.privateKeyPrime1).toHex(),f=$.util.createBuffer(e.privateKeyPrime2).toHex(),c=$.util.createBuffer(e.privateKeyExponent1).toHex(),u=$.util.createBuffer(e.privateKeyExponent2).toHex(),l=$.util.createBuffer(e.privateKeyCoefficient).toHex(),Q.setRsaPrivateKey(new ot(i,16),new ot(o,16),new ot(s,16),new ot(a,16),new ot(f,16),new ot(c,16),new ot(u,16),new ot(l,16))};Q.privateKeyToAsn1=Q.privateKeyToRSAPrivateKey=function(t){return v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,v.integerToDer(0).getBytes()),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,Ie(t.n)),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,Ie(t.e)),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,Ie(t.d)),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,Ie(t.p)),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,Ie(t.q)),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,Ie(t.dP)),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,Ie(t.dQ)),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,Ie(t.qInv))])};Q.publicKeyFromAsn1=function(t){var e={},r=[];if(v.validate(t,bd,e,r)){var n=v.derToOid(e.publicKeyOid);if(n!==Q.oids.rsaEncryption){var i=new Error("Cannot read public key. Unknown OID.");throw i.oid=n,i}t=e.rsaPublicKey}if(r=[],!v.validate(t,vd,e,r)){var i=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw i.errors=r,i}var o=$.util.createBuffer(e.publicKeyModulus).toHex(),s=$.util.createBuffer(e.publicKeyExponent).toHex();return Q.setRsaPublicKey(new ot(o,16),new ot(s,16))};Q.publicKeyToAsn1=Q.publicKeyToSubjectPublicKeyInfo=function(t){return v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.OID,!1,v.oidToDer(Q.oids.rsaEncryption).getBytes()),v.create(v.Class.UNIVERSAL,v.Type.NULL,!1,"")]),v.create(v.Class.UNIVERSAL,v.Type.BITSTRING,!1,[Q.publicKeyToRSAPublicKey(t)])])};Q.publicKeyToRSAPublicKey=function(t){return v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,Ie(t.n)),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,Ie(t.e))])};function v0(t,e,r){var n=$.util.createBuffer(),i=Math.ceil(e.n.bitLength()/8);if(t.length>i-11){var o=new Error("Message is too long for PKCS#1 v1.5 padding.");throw o.length=t.length,o.max=i-11,o}n.putByte(0),n.putByte(r);var s=i-3-t.length,a;if(r===0||r===1){a=r===0?0:255;for(var f=0;f<s;++f)n.putByte(a)}else for(;s>0;){for(var c=0,u=$.random.getBytes(s),f=0;f<s;++f)a=u.charCodeAt(f),a===0?++c:n.putByte(a);s=c}return n.putByte(0),n.putBytes(t),n}function ci(t,e,r,n){var i=Math.ceil(e.n.bitLength()/8),o=$.util.createBuffer(t),s=o.getByte(),a=o.getByte();if(s!==0||r&&a!==0&&a!==1||!r&&a!=2||r&&a===0&&typeof n>"u")throw new Error("Encryption block is invalid.");var f=0;if(a===0){f=i-3-n;for(var c=0;c<f;++c)if(o.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(a===1)for(f=0;o.length()>1;){if(o.getByte()!==255){--o.read;break}++f}else if(a===2)for(f=0;o.length()>1;){if(o.getByte()===0){--o.read;break}++f}var u=o.getByte();if(u!==0||f!==i-3-o.length())throw new Error("Encryption block is invalid.");return o.getBytes()}function Sd(t,e,r){typeof e=="function"&&(r=e,e={}),e=e||{};var n={algorithm:{name:e.algorithm||"PRIMEINC",options:{workers:e.workers||2,workLoad:e.workLoad||100,workerScript:e.workerScript}}};"prng"in e&&(n.prng=e.prng),i();function i(){o(t.pBits,function(a,f){if(a)return r(a);if(t.p=f,t.q!==null)return s(a,t.q);o(t.qBits,s)})}function o(a,f){$.prime.generateProbablePrime(a,n,f)}function s(a,f){if(a)return r(a);if(t.q=f,t.p.compareTo(t.q)<0){var c=t.p;t.p=t.q,t.q=c}if(t.p.subtract(ot.ONE).gcd(t.e).compareTo(ot.ONE)!==0){t.p=null,i();return}if(t.q.subtract(ot.ONE).gcd(t.e).compareTo(ot.ONE)!==0){t.q=null,o(t.qBits,s);return}if(t.p1=t.p.subtract(ot.ONE),t.q1=t.q.subtract(ot.ONE),t.phi=t.p1.multiply(t.q1),t.phi.gcd(t.e).compareTo(ot.ONE)!==0){t.p=t.q=null,i();return}if(t.n=t.p.multiply(t.q),t.n.bitLength()!==t.bits){t.q=null,o(t.qBits,s);return}var u=t.e.modInverse(t.phi);t.keys={privateKey:Q.rsa.setPrivateKey(t.n,t.e,u,t.p,t.q,u.mod(t.p1),u.mod(t.q1),t.q.modInverse(t.p)),publicKey:Q.rsa.setPublicKey(t.n,t.e)},r(null,t.keys)}}function Ie(t){var e=t.toString(16);e[0]>="8"&&(e="00"+e);var r=$.util.hexToBytes(e);return r.length>1&&(r.charCodeAt(0)===0&&!(r.charCodeAt(1)&128)||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)===128)?r.substr(1):r}function Bd(t){return t<=100?27:t<=150?18:t<=200?15:t<=250?12:t<=300?9:t<=350?8:t<=400?7:t<=500?6:t<=600?5:t<=800?4:t<=1250?3:2}function p0(t){return $.util.isNodejs&&typeof mo[t]=="function"}function y0(t){return typeof se.globalScope<"u"&&typeof se.globalScope.crypto=="object"&&typeof se.globalScope.crypto.subtle=="object"&&typeof se.globalScope.crypto.subtle[t]=="function"}function x0(t){return typeof se.globalScope<"u"&&typeof se.globalScope.msCrypto=="object"&&typeof se.globalScope.msCrypto.subtle=="object"&&typeof se.globalScope.msCrypto.subtle[t]=="function"}function g0(t){for(var e=$.util.hexToBytes(t.toString(16)),r=new Uint8Array(e.length),n=0;n<e.length;++n)r[n]=e.charCodeAt(n);return r}});var C0=ct((ng,A0)=>{var q=ht();fo();vn();Ra();pr();Wn();Ua();Oa();bn();Qa();ui();Ct();typeof E0>"u"&&(E0=q.jsbn.BigInteger);var E0,C=q.asn1,X=q.pki=q.pki||{};A0.exports=X.pbe=q.pbe=q.pbe||{};var gr=X.oids,Ad={name:"EncryptedPrivateKeyInfo",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:C.Class.UNIVERSAL,type:C.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:C.Class.UNIVERSAL,type:C.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},Cd={name:"PBES2Algorithms",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:C.Class.UNIVERSAL,type:C.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:C.Class.UNIVERSAL,type:C.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:C.Class.UNIVERSAL,type:C.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:C.Class.UNIVERSAL,type:C.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:C.Class.UNIVERSAL,type:C.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:C.Class.UNIVERSAL,type:C.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:C.Class.UNIVERSAL,type:C.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},Td={name:"pkcs-12PbeParams",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:C.Class.UNIVERSAL,type:C.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:C.Class.UNIVERSAL,type:C.Type.INTEGER,constructed:!1,capture:"iterations"}]};X.encryptPrivateKeyInfo=function(t,e,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=q.random.getBytesSync(r.saltSize),i=r.count,o=C.integerToDer(i),s,a,f;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var c,u,l;switch(r.algorithm){case"aes128":s=16,c=16,u=gr["aes128-CBC"],l=q.aes.createEncryptionCipher;break;case"aes192":s=24,c=16,u=gr["aes192-CBC"],l=q.aes.createEncryptionCipher;break;case"aes256":s=32,c=16,u=gr["aes256-CBC"],l=q.aes.createEncryptionCipher;break;case"des":s=8,c=8,u=gr.desCBC,l=q.des.createEncryptionCipher;break;default:var h=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw h.algorithm=r.algorithm,h}var x="hmacWith"+r.prfAlgorithm.toUpperCase(),d=B0(x),p=q.pkcs5.pbkdf2(e,n,i,s,d),y=q.random.getBytesSync(c),g=l(p);g.start(y),g.update(C.toDer(t)),g.finish(),f=g.output.getBytes();var E=Id(n,o,s,x);a=C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[C.create(C.Class.UNIVERSAL,C.Type.OID,!1,C.oidToDer(gr.pkcs5PBES2).getBytes()),C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[C.create(C.Class.UNIVERSAL,C.Type.OID,!1,C.oidToDer(gr.pkcs5PBKDF2).getBytes()),E]),C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[C.create(C.Class.UNIVERSAL,C.Type.OID,!1,C.oidToDer(u).getBytes()),C.create(C.Class.UNIVERSAL,C.Type.OCTETSTRING,!1,y)])])])}else if(r.algorithm==="3des"){s=24;var b=new q.util.ByteBuffer(n),p=X.pbe.generatePkcs12Key(e,b,1,i,s),y=X.pbe.generatePkcs12Key(e,b,2,i,s),g=q.des.createEncryptionCipher(p);g.start(y),g.update(C.toDer(t)),g.finish(),f=g.output.getBytes(),a=C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[C.create(C.Class.UNIVERSAL,C.Type.OID,!1,C.oidToDer(gr["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[C.create(C.Class.UNIVERSAL,C.Type.OCTETSTRING,!1,n),C.create(C.Class.UNIVERSAL,C.Type.INTEGER,!1,o.getBytes())])])}else{var h=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw h.algorithm=r.algorithm,h}var L=C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[a,C.create(C.Class.UNIVERSAL,C.Type.OCTETSTRING,!1,f)]);return L};X.decryptPrivateKeyInfo=function(t,e){var r=null,n={},i=[];if(!C.validate(t,Ad,n,i)){var o=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw o.errors=i,o}var s=C.derToOid(n.encryptionOid),a=X.pbe.getCipher(s,n.encryptionParams,e),f=q.util.createBuffer(n.encryptedData);return a.update(f),a.finish()&&(r=C.fromDer(a.output)),r};X.encryptedPrivateKeyToPem=function(t,e){var r={type:"ENCRYPTED PRIVATE KEY",body:C.toDer(t).getBytes()};return q.pem.encode(r,{maxline:e})};X.encryptedPrivateKeyFromPem=function(t){var e=q.pem.decode(t)[0];if(e.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return C.fromDer(e.body)};X.encryptRsaPrivateKey=function(t,e,r){if(r=r||{},!r.legacy){var n=X.wrapRsaPrivateKey(X.privateKeyToAsn1(t));return n=X.encryptPrivateKeyInfo(n,e,r),X.encryptedPrivateKeyToPem(n)}var i,o,s,a;switch(r.algorithm){case"aes128":i="AES-128-CBC",s=16,o=q.random.getBytesSync(16),a=q.aes.createEncryptionCipher;break;case"aes192":i="AES-192-CBC",s=24,o=q.random.getBytesSync(16),a=q.aes.createEncryptionCipher;break;case"aes256":i="AES-256-CBC",s=32,o=q.random.getBytesSync(16),a=q.aes.createEncryptionCipher;break;case"3des":i="DES-EDE3-CBC",s=24,o=q.random.getBytesSync(8),a=q.des.createEncryptionCipher;break;case"des":i="DES-CBC",s=8,o=q.random.getBytesSync(8),a=q.des.createEncryptionCipher;break;default:var f=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw f.algorithm=r.algorithm,f}var c=q.pbe.opensslDeriveBytes(e,o.substr(0,8),s),u=a(c);u.start(o),u.update(C.toDer(X.privateKeyToAsn1(t))),u.finish();var l={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:i,parameters:q.util.bytesToHex(o).toUpperCase()},body:u.output.getBytes()};return q.pem.encode(l)};X.decryptRsaPrivateKey=function(t,e){var r=null,n=q.pem.decode(t)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var i=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw i.headerType=i,i}if(n.procType&&n.procType.type==="ENCRYPTED"){var o,s;switch(n.dekInfo.algorithm){case"DES-CBC":o=8,s=q.des.createDecryptionCipher;break;case"DES-EDE3-CBC":o=24,s=q.des.createDecryptionCipher;break;case"AES-128-CBC":o=16,s=q.aes.createDecryptionCipher;break;case"AES-192-CBC":o=24,s=q.aes.createDecryptionCipher;break;case"AES-256-CBC":o=32,s=q.aes.createDecryptionCipher;break;case"RC2-40-CBC":o=5,s=function(l){return q.rc2.createDecryptionCipher(l,40)};break;case"RC2-64-CBC":o=8,s=function(l){return q.rc2.createDecryptionCipher(l,64)};break;case"RC2-128-CBC":o=16,s=function(l){return q.rc2.createDecryptionCipher(l,128)};break;default:var i=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw i.algorithm=n.dekInfo.algorithm,i}var a=q.util.hexToBytes(n.dekInfo.parameters),f=q.pbe.opensslDeriveBytes(e,a.substr(0,8),o),c=s(f);if(c.start(a),c.update(q.util.createBuffer(n.body)),c.finish())r=c.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=X.decryptPrivateKeyInfo(C.fromDer(r),e):r=C.fromDer(r),r!==null&&(r=X.privateKeyFromAsn1(r)),r};X.pbe.generatePkcs12Key=function(t,e,r,n,i,o){var s,a;if(typeof o>"u"||o===null){if(!("sha1"in q.md))throw new Error('"sha1" hash algorithm unavailable.');o=q.md.sha1.create()}var f=o.digestLength,c=o.blockLength,u=new q.util.ByteBuffer,l=new q.util.ByteBuffer;if(t!=null){for(a=0;a<t.length;a++)l.putInt16(t.charCodeAt(a));l.putInt16(0)}var h=l.length(),x=e.length(),d=new q.util.ByteBuffer;d.fillWithByte(r,c);var p=c*Math.ceil(x/c),y=new q.util.ByteBuffer;for(a=0;a<p;a++)y.putByte(e.at(a%x));var g=c*Math.ceil(h/c),E=new q.util.ByteBuffer;for(a=0;a<g;a++)E.putByte(l.at(a%h));var b=y;b.putBuffer(E);for(var L=Math.ceil(i/f),w=1;w<=L;w++){var S=new q.util.ByteBuffer;S.putBytes(d.bytes()),S.putBytes(b.bytes());for(var k=0;k<n;k++)o.start(),o.update(S.getBytes()),S=o.digest();var B=new q.util.ByteBuffer;for(a=0;a<c;a++)B.putByte(S.at(a%f));var K=Math.ceil(x/c)+Math.ceil(h/c),F=new q.util.ByteBuffer;for(s=0;s<K;s++){var P=new q.util.ByteBuffer(b.getBytes(c)),V=511;for(a=B.length()-1;a>=0;a--)V=V>>8,V+=B.at(a)+P.at(a),P.setAt(a,V&255);F.putBuffer(P)}b=F,u.putBuffer(S)}return u.truncate(u.length()-i),u};X.pbe.getCipher=function(t,e,r){switch(t){case X.oids.pkcs5PBES2:return X.pbe.getCipherForPBES2(t,e,r);case X.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case X.oids["pbewithSHAAnd40BitRC2-CBC"]:return X.pbe.getCipherForPKCS12PBE(t,e,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=t,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};X.pbe.getCipherForPBES2=function(t,e,r){var n={},i=[];if(!C.validate(e,Cd,n,i)){var o=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw o.errors=i,o}if(t=C.derToOid(n.kdfOid),t!==X.oids.pkcs5PBKDF2){var o=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw o.oid=t,o.supportedOids=["pkcs5PBKDF2"],o}if(t=C.derToOid(n.encOid),t!==X.oids["aes128-CBC"]&&t!==X.oids["aes192-CBC"]&&t!==X.oids["aes256-CBC"]&&t!==X.oids["des-EDE3-CBC"]&&t!==X.oids.desCBC){var o=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw o.oid=t,o.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],o}var s=n.kdfSalt,a=q.util.createBuffer(n.kdfIterationCount);a=a.getInt(a.length()<<3);var f,c;switch(X.oids[t]){case"aes128-CBC":f=16,c=q.aes.createDecryptionCipher;break;case"aes192-CBC":f=24,c=q.aes.createDecryptionCipher;break;case"aes256-CBC":f=32,c=q.aes.createDecryptionCipher;break;case"des-EDE3-CBC":f=24,c=q.des.createDecryptionCipher;break;case"desCBC":f=8,c=q.des.createDecryptionCipher;break}var u=S0(n.prfOid),l=q.pkcs5.pbkdf2(r,s,a,f,u),h=n.encIv,x=c(l);return x.start(h),x};X.pbe.getCipherForPKCS12PBE=function(t,e,r){var n={},i=[];if(!C.validate(e,Td,n,i)){var o=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw o.errors=i,o}var s=q.util.createBuffer(n.salt),a=q.util.createBuffer(n.iterations);a=a.getInt(a.length()<<3);var f,c,u;switch(t){case X.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:f=24,c=8,u=q.des.startDecrypting;break;case X.oids["pbewithSHAAnd40BitRC2-CBC"]:f=5,c=8,u=function(p,y){var g=q.rc2.createDecryptionCipher(p,40);return g.start(y,null),g};break;default:var o=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw o.oid=t,o}var l=S0(n.prfOid),h=X.pbe.generatePkcs12Key(r,s,1,a,f,l);l.start();var x=X.pbe.generatePkcs12Key(r,s,2,a,c,l);return u(h,x)};X.pbe.opensslDeriveBytes=function(t,e,r,n){if(typeof n>"u"||n===null){if(!("md5"in q.md))throw new Error('"md5" hash algorithm unavailable.');n=q.md.md5.create()}e===null&&(e="");for(var i=[w0(n,t+e)],o=16,s=1;o<r;++s,o+=16)i.push(w0(n,i[s-1]+t+e));return i.join("").substr(0,r)};function w0(t,e){return t.start().update(e).digest().getBytes()}function S0(t){var e;if(!t)e="hmacWithSHA1";else if(e=X.oids[C.derToOid(t)],!e){var r=new Error("Unsupported PRF OID.");throw r.oid=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return B0(e)}function B0(t){var e=q.md;switch(t){case"hmacWithSHA224":e=q.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":t=t.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!e||!(t in e))throw new Error("Unknown hash algorithm: "+t);return e[t].create()}function Id(t,e,r,n){var i=C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[C.create(C.Class.UNIVERSAL,C.Type.OCTETSTRING,!1,t),C.create(C.Class.UNIVERSAL,C.Type.INTEGER,!1,e.getBytes())]);return n!=="hmacWithSHA1"&&i.value.push(C.create(C.Class.UNIVERSAL,C.Type.INTEGER,!1,q.util.hexToBytes(r.toString(16))),C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[C.create(C.Class.UNIVERSAL,C.Type.OID,!1,C.oidToDer(X.oids[n]).getBytes()),C.create(C.Class.UNIVERSAL,C.Type.NULL,!1,"")])),i}});var Kf=ct((jv,Pf)=>{var gt=ht();pr();Ct();var Ln=Pf.exports=gt.sha512=gt.sha512||{};gt.md.sha512=gt.md.algorithms.sha512=Ln;var kf=gt.sha384=gt.sha512.sha384=gt.sha512.sha384||{};kf.create=function(){return Ln.create("SHA-384")};gt.md.sha384=gt.md.algorithms.sha384=kf;gt.sha512.sha256=gt.sha512.sha256||{create:function(){return Ln.create("SHA-512/256")}};gt.md["sha512/256"]=gt.md.algorithms["sha512/256"]=gt.sha512.sha256;gt.sha512.sha224=gt.sha512.sha224||{create:function(){return Ln.create("SHA-512/224")}};gt.md["sha512/224"]=gt.md.algorithms["sha512/224"]=gt.sha512.sha224;Ln.create=function(t){if(Uf||X1(),typeof t>"u"&&(t="SHA-512"),!(t in Tr))throw new Error("Invalid SHA-512 algorithm: "+t);for(var e=Tr[t],r=null,n=gt.util.createBuffer(),i=new Array(80),o=0;o<80;++o)i[o]=new Array(2);var s=64;switch(t){case"SHA-384":s=48;break;case"SHA-512/256":s=32;break;case"SHA-512/224":s=28;break}var a={algorithm:t.replace("-","").toLowerCase(),blockLength:128,digestLength:s,messageLength:0,fullMessageLength:null,messageLengthSize:16};return a.start=function(){a.messageLength=0,a.fullMessageLength=a.messageLength128=[];for(var f=a.messageLengthSize/4,c=0;c<f;++c)a.fullMessageLength.push(0);n=gt.util.createBuffer(),r=new Array(e.length);for(var c=0;c<e.length;++c)r[c]=e[c].slice(0);return a},a.start(),a.update=function(f,c){c==="utf8"&&(f=gt.util.encodeUtf8(f));var u=f.length;a.messageLength+=u,u=[u/4294967296>>>0,u>>>0];for(var l=a.fullMessageLength.length-1;l>=0;--l)a.fullMessageLength[l]+=u[1],u[1]=u[0]+(a.fullMessageLength[l]/4294967296>>>0),a.fullMessageLength[l]=a.fullMessageLength[l]>>>0,u[0]=u[1]/4294967296>>>0;return n.putBytes(f),Lf(r,i,n),(n.read>2048||n.length()===0)&&n.compact(),a},a.digest=function(){var f=gt.util.createBuffer();f.putBytes(n.bytes());var c=a.fullMessageLength[a.fullMessageLength.length-1]+a.messageLengthSize,u=c&a.blockLength-1;f.putBytes(bs.substr(0,a.blockLength-u));for(var l,h,x=a.fullMessageLength[0]*8,d=0;d<a.fullMessageLength.length-1;++d)l=a.fullMessageLength[d+1]*8,h=l/4294967296>>>0,x+=h,f.putInt32(x>>>0),x=l>>>0;f.putInt32(x);for(var p=new Array(r.length),d=0;d<r.length;++d)p[d]=r[d].slice(0);Lf(p,i,f);var y=gt.util.createBuffer(),g;t==="SHA-512"?g=p.length:t==="SHA-384"?g=p.length-2:g=p.length-4;for(var d=0;d<g;++d)y.putInt32(p[d][0]),(d!==g-1||t!=="SHA-512/224")&&y.putInt32(p[d][1]);return y},a};var bs=null,Uf=!1,Es=null,Tr=null;function X1(){bs="\x80",bs+=gt.util.fillString("\0",128),Es=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],Tr={},Tr["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],Tr["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],Tr["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],Tr["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],Uf=!0}function Lf(t,e,r){for(var n,i,o,s,a,f,c,u,l,h,x,d,p,y,g,E,b,L,w,S,k,B,K,F,P,V,Y,j,A,R,N,U,I,H,G,W=r.length();W>=128;){for(A=0;A<16;++A)e[A][0]=r.getInt32()>>>0,e[A][1]=r.getInt32()>>>0;for(;A<80;++A)U=e[A-2],R=U[0],N=U[1],n=((R>>>19|N<<13)^(N>>>29|R<<3)^R>>>6)>>>0,i=((R<<13|N>>>19)^(N<<3|R>>>29)^(R<<26|N>>>6))>>>0,H=e[A-15],R=H[0],N=H[1],o=((R>>>1|N<<31)^(R>>>8|N<<24)^R>>>7)>>>0,s=((R<<31|N>>>1)^(R<<24|N>>>8)^(R<<25|N>>>7))>>>0,I=e[A-7],G=e[A-16],N=i+I[1]+s+G[1],e[A][0]=n+I[0]+o+G[0]+(N/4294967296>>>0)>>>0,e[A][1]=N>>>0;for(p=t[0][0],y=t[0][1],g=t[1][0],E=t[1][1],b=t[2][0],L=t[2][1],w=t[3][0],S=t[3][1],k=t[4][0],B=t[4][1],K=t[5][0],F=t[5][1],P=t[6][0],V=t[6][1],Y=t[7][0],j=t[7][1],A=0;A<80;++A)c=((k>>>14|B<<18)^(k>>>18|B<<14)^(B>>>9|k<<23))>>>0,u=((k<<18|B>>>14)^(k<<14|B>>>18)^(B<<23|k>>>9))>>>0,l=(P^k&(K^P))>>>0,h=(V^B&(F^V))>>>0,a=((p>>>28|y<<4)^(y>>>2|p<<30)^(y>>>7|p<<25))>>>0,f=((p<<4|y>>>28)^(y<<30|p>>>2)^(y<<25|p>>>7))>>>0,x=(p&g|b&(p^g))>>>0,d=(y&E|L&(y^E))>>>0,N=j+u+h+Es[A][1]+e[A][1],n=Y+c+l+Es[A][0]+e[A][0]+(N/4294967296>>>0)>>>0,i=N>>>0,N=f+d,o=a+x+(N/4294967296>>>0)>>>0,s=N>>>0,Y=P,j=V,P=K,V=F,K=k,F=B,N=S+i,k=w+n+(N/4294967296>>>0)>>>0,B=N>>>0,w=b,S=L,b=g,L=E,g=p,E=y,N=i+s,p=n+o+(N/4294967296>>>0)>>>0,y=N>>>0;N=t[0][1]+y,t[0][0]=t[0][0]+p+(N/4294967296>>>0)>>>0,t[0][1]=N>>>0,N=t[1][1]+E,t[1][0]=t[1][0]+g+(N/4294967296>>>0)>>>0,t[1][1]=N>>>0,N=t[2][1]+L,t[2][0]=t[2][0]+b+(N/4294967296>>>0)>>>0,t[2][1]=N>>>0,N=t[3][1]+S,t[3][0]=t[3][0]+w+(N/4294967296>>>0)>>>0,t[3][1]=N>>>0,N=t[4][1]+B,t[4][0]=t[4][0]+k+(N/4294967296>>>0)>>>0,t[4][1]=N>>>0,N=t[5][1]+F,t[5][0]=t[5][0]+K+(N/4294967296>>>0)>>>0,t[5][1]=N>>>0,N=t[6][1]+V,t[6][0]=t[6][0]+P+(N/4294967296>>>0)>>>0,t[6][1]=N>>>0,N=t[7][1]+j,t[7][0]=t[7][0]+Y+(N/4294967296>>>0)>>>0,t[7][1]=N>>>0,W-=128}}});var uc=ct((pE,cc)=>{var nn=1e3,on=nn*60,sn=on*60,Nr=sn*24,By=Nr*7,Ay=Nr*365.25;cc.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return Cy(t);if(r==="number"&&isFinite(t))return e.long?Iy(t):Ty(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Cy(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*Ay;case"weeks":case"week":case"w":return r*By;case"days":case"day":case"d":return r*Nr;case"hours":case"hour":case"hrs":case"hr":case"h":return r*sn;case"minutes":case"minute":case"mins":case"min":case"m":return r*on;case"seconds":case"second":case"secs":case"sec":case"s":return r*nn;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function Ty(t){var e=Math.abs(t);return e>=Nr?Math.round(t/Nr)+"d":e>=sn?Math.round(t/sn)+"h":e>=on?Math.round(t/on)+"m":e>=nn?Math.round(t/nn)+"s":t+"ms"}function Iy(t){var e=Math.abs(t);return e>=Nr?Li(t,e,Nr,"day"):e>=sn?Li(t,e,sn,"hour"):e>=on?Li(t,e,on,"minute"):e>=nn?Li(t,e,nn,"second"):t+" ms"}function Li(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var hc=ct((yE,lc)=>{function _y(t){r.debug=r,r.default=r,r.coerce=f,r.disable=o,r.enable=i,r.enabled=s,r.humanize=uc(),r.destroy=c,Object.keys(t).forEach(u=>{r[u]=t[u]}),r.names=[],r.skips=[],r.formatters={};function e(u){let l=0;for(let h=0;h<u.length;h++)l=(l<<5)-l+u.charCodeAt(h),l|=0;return r.colors[Math.abs(l)%r.colors.length]}r.selectColor=e;function r(u){let l,h=null,x,d;function p(...y){if(!p.enabled)return;let g=p,E=Number(new Date),b=E-(l||E);g.diff=b,g.prev=l,g.curr=E,l=E,y[0]=r.coerce(y[0]),typeof y[0]!="string"&&y.unshift("%O");let L=0;y[0]=y[0].replace(/%([a-zA-Z%])/g,(S,k)=>{if(S==="%%")return"%";L++;let B=r.formatters[k];if(typeof B=="function"){let K=y[L];S=B.call(g,K),y.splice(L,1),L--}return S}),r.formatArgs.call(g,y),(g.log||r.log).apply(g,y)}return p.namespace=u,p.useColors=r.useColors(),p.color=r.selectColor(u),p.extend=n,p.destroy=r.destroy,Object.defineProperty(p,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(x!==r.namespaces&&(x=r.namespaces,d=r.enabled(u)),d),set:y=>{h=y}}),typeof r.init=="function"&&r.init(p),p}function n(u,l){let h=r(this.namespace+(typeof l>"u"?":":l)+u);return h.log=this.log,h}function i(u){r.save(u),r.namespaces=u,r.names=[],r.skips=[];let l,h=(typeof u=="string"?u:"").split(/[\s,]+/),x=h.length;for(l=0;l<x;l++)h[l]&&(u=h[l].replace(/\*/g,".*?"),u[0]==="-"?r.skips.push(new RegExp("^"+u.slice(1)+"$")):r.names.push(new RegExp("^"+u+"$")))}function o(){let u=[...r.names.map(a),...r.skips.map(a).map(l=>"-"+l)].join(",");return r.enable(""),u}function s(u){if(u[u.length-1]==="*")return!0;let l,h;for(l=0,h=r.skips.length;l<h;l++)if(r.skips[l].test(u))return!1;for(l=0,h=r.names.length;l<h;l++)if(r.names[l].test(u))return!0;return!1}function a(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function f(u){return u instanceof Error?u.stack||u.message:u}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}lc.exports=_y});var dc=ct((Jt,ki)=>{Jt.formatArgs=Ny;Jt.save=Dy;Jt.load=Ly;Jt.useColors=Ry;Jt.storage=ky();Jt.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Jt.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Ry(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Ny(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+ki.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}Jt.log=console.debug||console.log||(()=>{});function Dy(t){try{t?Jt.storage.setItem("debug",t):Jt.storage.removeItem("debug")}catch{}}function Ly(){let t;try{t=Jt.storage.getItem("debug")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function ky(){try{return localStorage}catch{}}ki.exports=hc()(Jt);var{formatters:Uy}=ki.exports;Uy.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var Ds=ct((SE,yc)=>{"use strict";function pc(t,e){for(let r in e)Object.defineProperty(t,r,{value:e[r],enumerable:!0,configurable:!0});return t}function Ky(t,e,r){if(!t||typeof t=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof e=="object"&&(r=e,e=""),e&&(r.code=e);try{return pc(t,r)}catch{r.message=t.message,r.stack=t.stack;let i=function(){};return i.prototype=Object.create(Object.getPrototypeOf(t)),pc(new i,r)}}yc.exports=Ky});var ks=ct((IE,Ls)=>{var TE=function(){typeof Ls<"u"&&(Ls.exports=p);var t=86400,e=3200,r=146097*e/400,n=t*r,i=1e3*n,o=864e13,s=4294967296,a=1e6,f="000000000",c=Math.trunc||function(B){var K=B-B%1;return K==0&&(B<0||B===0&&1/B!=1/0)?-0:K},u=p.prototype,l=(p.fromDate=function(B){return new p(+B)},p.fromInt64BE=L(0,1,2,3,0,4),p.fromInt64LE=L(3,2,1,0,4,0),p.fromString=function(P){var K,F=new p,P=(P+="").replace(/^\s*[+\-]?\d+/,function(Y){var Y=+Y,j=1970+(Y-1970)%400;return F.year=Y-j,j}).replace(/(?:Z|([+\-]\d{2}):?(\d{2}))$/,function(V,Y,j){return Y<0&&(j*=-1),K=6e4*(60*+Y+ +j),""}).replace(/\.\d+$/,function(V){return F.nano=+(V+f).substr(1,9),""}).split(/\D+/);if(1<P.length?P[1]--:P[1]=0,F.time=K=Date.UTC.apply(Date,P)-(K||0),isNaN(K))throw new TypeError("Invalid Date");return y(F)},p.fromTimeT=function(B){return E(B,0)},u.year=0,u.time=0,u.nano=0,u.addNano=function(B){return this.nano+=+B||0,this},u.getNano=function(){var B=y(this);return(B.time%1e3*a+ +B.nano+1e9)%1e9},u.getTimeT=function(){var K=y(this),B=Math.floor(K.time/1e3),K=K.year;return K&&(B+=K*r*t/e),B},u.getYear=function(){return this.toDate().getUTCFullYear()+this.year},u.toDate=function(){return g(y(this).time)},u.toJSON=function(){return this.toString().replace(/0{1,6}Z$/,"Z")},u.toString=function(B){var K=this,F=K.toDate(),P={H:function(){return S(F.getUTCHours())},L:function(){return k(F.getUTCMilliseconds(),3)},M:function(){return S(F.getUTCMinutes())},N:function(){return k(K.getNano(),9)},S:function(){return S(F.getUTCSeconds())},Y:function(){var V=K.getYear();return 999999<V?"+"+V:9999<V?"+"+k(V,6):0<=V?k(V,4):-999999<=V?"-"+k(-V,6):V},a:function(){return x[F.getUTCDay()]},b:function(){return h[F.getUTCMonth()]},d:function(){return S(F.getUTCDate())},e:function(){return function(V){return(9<V?"":" ")+(0|V)}(F.getUTCDate())},m:function(){return S(F.getUTCMonth()+1)}};return function V(Y){return Y.replace(/%./g,function(j){var R=j[1],A=d[R],R=P[R];return A?V(A):R?R():j})}(B||l)},u.writeInt64BE=b(0,1,2,3,0,4),u.writeInt64LE=b(3,2,1,0,4,0),"%Y-%m-%dT%H:%M:%S.%NZ"),h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],x=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],d={"%":"%",F:"%Y-%m-%d",n:`
`,R:"%H:%M",T:"%H:%M:%S",t:"	",X:"%T",Z:"GMT",z:"+0000"};return p;function p(B,K,F){var P=this;if(!(P instanceof p))return new p(B,K,F);P.time=+B||0,P.nano=+K||0,P.year=+F||0,y(P)}function y(B){var K,F,P,V=B.year,Y=B.time,j=B.nano,A=((j<0||a<=j)&&(j-=(F=Math.floor(j/a))*a,Y+=F,F=1),V%e);return(Y<-o||o<Y||A)&&((K=c(Y/i))&&(V+=K*e,Y-=K*i),(P=g(Y)).setUTCFullYear(A+P.getUTCFullYear()),P=(Y=+P)+(K=c((V-=A)/e))*i,K&&-o<=P&&P<=o&&(V-=K*e,Y=P),F=1),F&&(B.year=V,B.time=Y,B.nano=j),B}function g(B){var K=new Date(0);return K.setTime(B),K}function E(V,P){V=+V||0;var F=c((P=(P|0)*s)/n)+c(V/n),P=P%n+V%n,V=c(P/n);return V&&(F+=V,P-=V*n),new p(1e3*P,0,F*e)}function b(B,K,F,P,V,Y){return function(A,R){var U=y(this);A=A||new Array(8),w(A,R|=0);var I=Math.floor(U.time/1e3),U=U.year*(r*t/e),N=c(U/s)+c(I/s),U=U%s+I%s,I=Math.floor(U/s);return I&&(N+=I,U-=I*s),j(A,R+V,N),j(A,R+Y,U),A};function j(A,R,N){A[R+B]=N>>24&255,A[R+K]=N>>16&255,A[R+F]=N>>8&255,A[R+P]=255&N}}function L(B,K,F,P,V,Y){return function(A,R){w(A,R|=0);var N=j(A,R+V);return E(j(A,R+Y),N)};function j(A,R){return 16777216*A[R+B]+(A[R+K]<<16|A[R+F]<<8|A[R+P])}}function w(B,K){if(B=B&&B.length,B==null)throw new TypeError("Invalid Buffer");if(B<K+8)throw new RangeError("Out of range")}function S(B){return(9<B?"":"0")+(0|B)}function k(B,K){return(f+(0|B)).substr(-K)}}()});var Nx={};_t(Nx,{create:()=>Cx,createWithExpiration:()=>Tx,extractPublicKey:()=>ku,getLocalKey:()=>_x,marshal:()=>Ku,namespace:()=>Hu,namespaceLength:()=>Ax,peerIdFromRoutingKey:()=>Mu,peerIdToRoutingKey:()=>Fu,unmarshal:()=>Ou});var sE=Rt(vn(),1),aE=Rt(C0(),1);var ig=Symbol.for("@libp2p/connection");var sg=Symbol.for("@libp2p/content-routing");var cg=Symbol.for("@libp2p/peer-discovery");var vo=Symbol.for("@libp2p/peer-id");function T0(t){return t!=null&&!!t[vo]}var hg=Symbol.for("@libp2p/peer-routing");var I0;(function(t){t.Accept="accept",t.Ignore="ignore",t.Reject="reject"})(I0||(I0={}));var xg=Symbol.for("@libp2p/transport");var _0;(function(t){t[t.FATAL_ALL=0]="FATAL_ALL",t[t.NO_FATAL=1]="NO_FATAL"})(_0||(_0={}));var rt=class extends Error{code;props;constructor(e,r,n){super(e),this.code=r,this.name=n?.name??"CodeError",this.props=n??{}}};var bo=class extends Event{detail;constructor(e,r){super(e,r),this.detail=r?.detail}},vg=globalThis.CustomEvent??bo;var Sy=Rt(ht(),1);function mr(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}var Ao={};_t(Ao,{base10:()=>kd});var Qg=new Uint8Array(0);function R0(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}function Fe(t){if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")}function N0(t){return new TextEncoder().encode(t)}function D0(t){return new TextDecoder().decode(t)}function _d(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),s=o.charCodeAt(0);if(r[s]!==255)throw new TypeError(o+" is ambiguous");r[s]=i}var a=t.length,f=t.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function l(d){if(d instanceof Uint8Array||(ArrayBuffer.isView(d)?d=new Uint8Array(d.buffer,d.byteOffset,d.byteLength):Array.isArray(d)&&(d=Uint8Array.from(d))),!(d instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(d.length===0)return"";for(var p=0,y=0,g=0,E=d.length;g!==E&&d[g]===0;)g++,p++;for(var b=(E-g)*u+1>>>0,L=new Uint8Array(b);g!==E;){for(var w=d[g],S=0,k=b-1;(w!==0||S<y)&&k!==-1;k--,S++)w+=256*L[k]>>>0,L[k]=w%a>>>0,w=w/a>>>0;if(w!==0)throw new Error("Non-zero carry");y=S,g++}for(var B=b-y;B!==b&&L[B]===0;)B++;for(var K=f.repeat(p);B<b;++B)K+=t.charAt(L[B]);return K}function h(d){if(typeof d!="string")throw new TypeError("Expected String");if(d.length===0)return new Uint8Array;var p=0;if(d[p]!==" "){for(var y=0,g=0;d[p]===f;)y++,p++;for(var E=(d.length-p)*c+1>>>0,b=new Uint8Array(E);d[p];){var L=r[d.charCodeAt(p)];if(L===255)return;for(var w=0,S=E-1;(L!==0||w<g)&&S!==-1;S--,w++)L+=a*b[S]>>>0,b[S]=L%256>>>0,L=L/256>>>0;if(L!==0)throw new Error("Non-zero carry");g=w,p++}if(d[p]!==" "){for(var k=E-g;k!==E&&b[k]===0;)k++;for(var B=new Uint8Array(y+(E-k)),K=y;k!==E;)B[K++]=b[k++];return B}}}function x(d){var p=h(d);if(p)return p;throw new Error(`Non-${e} character`)}return{encode:l,decodeUnsafe:h,decode:x}}var Rd=_d,Nd=Rd,k0=Nd;var Eo=class{name;prefix;baseEncode;constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},wo=class{name;prefix;baseDecode;prefixCodePoint;constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return U0(this,e)}},So=class{decoders;constructor(e){this.decoders=e}or(e){return U0(this,e)}decode(e){let r=e[0],n=this.decoders[r];if(n!=null)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};function U0(t,e){return new So({...t.decoders??{[t.prefix]:t},...e.decoders??{[e.prefix]:e}})}var Bo=class{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new Eo(e,r,n),this.decoder=new wo(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};function Or({name:t,prefix:e,encode:r,decode:n}){return new Bo(t,e,r,n)}function er({name:t,prefix:e,alphabet:r}){let{encode:n,decode:i}=k0(r,t);return Or({prefix:e,name:t,encode:n,decode:o=>Fe(i(o))})}function Dd(t,e,r,n){let i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let o=t.length;for(;t[o-1]==="=";)--o;let s=new Uint8Array(o*r/8|0),a=0,f=0,c=0;for(let u=0;u<o;++u){let l=i[t[u]];if(l===void 0)throw new SyntaxError(`Non-${n} character`);f=f<<r|l,a+=r,a>=8&&(a-=8,s[c++]=255&f>>a)}if(a>=r||255&f<<8-a)throw new SyntaxError("Unexpected end of data");return s}function Ld(t,e,r){let n=e[e.length-1]==="=",i=(1<<r)-1,o="",s=0,a=0;for(let f=0;f<t.length;++f)for(a=a<<8|t[f],s+=8;s>r;)s-=r,o+=e[i&a>>s];if(s!==0&&(o+=e[i&a<<r-s]),n)for(;o.length*r&7;)o+="=";return o}function St({name:t,prefix:e,bitsPerChar:r,alphabet:n}){return Or({prefix:e,name:t,encode(i){return Ld(i,n,r)},decode(i){return Dd(i,n,r,t)}})}var kd=er({prefix:"9",name:"base10",alphabet:"0123456789"});var Co={};_t(Co,{base16:()=>Ud,base16upper:()=>Pd});var Ud=St({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Pd=St({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var To={};_t(To,{base2:()=>Kd});var Kd=St({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Io={};_t(Io,{base256emoji:()=>qd});var P0=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),Od=P0.reduce((t,e,r)=>(t[r]=e,t),[]),Fd=P0.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function Md(t){return t.reduce((e,r)=>(e+=Od[r],e),"")}function Vd(t){let e=[];for(let r of t){let n=Fd[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}var qd=Or({prefix:"\u{1F680}",name:"base256emoji",encode:Md,decode:Vd});var Ro={};_t(Ro,{base32:()=>rr,base32hex:()=>Gd,base32hexpad:()=>Yd,base32hexpadupper:()=>Wd,base32hexupper:()=>$d,base32pad:()=>Hd,base32padupper:()=>zd,base32upper:()=>_o,base32z:()=>Zd});var rr=St({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),_o=St({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Hd=St({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),zd=St({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Gd=St({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),$d=St({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Yd=St({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Wd=St({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Zd=St({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var No={};_t(No,{base36:()=>li,base36upper:()=>Qd});var li=er({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Qd=er({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Do={};_t(Do,{base58btc:()=>Ft,base58flickr:()=>Xd});var Ft=er({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Xd=er({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Lo={};_t(Lo,{base64:()=>Fr,base64pad:()=>Jd,base64url:()=>jd,base64urlpad:()=>tp});var Fr=St({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Jd=St({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),jd=St({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),tp=St({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var ko={};_t(ko,{base8:()=>ep});var ep=St({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Uo={};_t(Uo,{identity:()=>rp});var rp=Or({prefix:"\0",name:"identity",encode:t=>D0(t),decode:t=>N0(t)});var h2=new TextEncoder,d2=new TextDecoder;var Ko={};_t(Ko,{identity:()=>Re});var op=F0,K0=128,sp=127,ap=~sp,fp=Math.pow(2,31);function F0(t,e,r){e=e||[],r=r||0;for(var n=r;t>=fp;)e[r++]=t&255|K0,t/=128;for(;t&ap;)e[r++]=t&255|K0,t>>>=7;return e[r]=t|0,F0.bytes=r-n+1,e}var cp=Po,up=128,O0=127;function Po(t,n){var r=0,n=n||0,i=0,o=n,s,a=t.length;do{if(o>=a)throw Po.bytes=0,new RangeError("Could not decode varint");s=t[o++],r+=i<28?(s&O0)<<i:(s&O0)*Math.pow(2,i),i+=7}while(s>=up);return Po.bytes=o-n,r}var lp=Math.pow(2,7),hp=Math.pow(2,14),dp=Math.pow(2,21),pp=Math.pow(2,28),yp=Math.pow(2,35),xp=Math.pow(2,42),gp=Math.pow(2,49),mp=Math.pow(2,56),vp=Math.pow(2,63),bp=function(t){return t<lp?1:t<hp?2:t<dp?3:t<pp?4:t<yp?5:t<xp?6:t<gp?7:t<mp?8:t<vp?9:10},Ep={encode:op,decode:cp,encodingLength:bp},wp=Ep,wn=wp;function Sn(t,e=0){return[wn.decode(t,e),wn.decode.bytes]}function Mr(t,e,r=0){return wn.encode(t,e,r),e}function Vr(t){return wn.encodingLength(t)}function _e(t,e){let r=e.byteLength,n=Vr(t),i=n+Vr(r),o=new Uint8Array(i+r);return Mr(t,o,0),Mr(r,o,n),o.set(e,i),new qr(t,r,e,o)}function vr(t){let e=Fe(t),[r,n]=Sn(e),[i,o]=Sn(e.subarray(n)),s=e.subarray(n+o);if(s.byteLength!==i)throw new Error("Incorrect length");return new qr(r,i,s,e)}function M0(t,e){if(t===e)return!0;{let r=e;return t.code===r.code&&t.size===r.size&&r.bytes instanceof Uint8Array&&R0(t.bytes,r.bytes)}}var qr=class{code;size;digest;bytes;constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}};var V0=0,Sp="identity",q0=Fe;function Bp(t){return _e(V0,q0(t))}var Re={code:V0,name:Sp,encode:q0,digest:Bp};var Mo={};_t(Mo,{sha256:()=>Mt,sha512:()=>Ap});function Fo({name:t,code:e,encode:r}){return new Oo(t,e,r)}var Oo=class{name;code;encode;constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?_e(this.code,r):r.then(n=>_e(this.code,n))}else throw Error("Unknown type, must be binary type")}};function z0(t){return async e=>new Uint8Array(await crypto.subtle.digest(t,e))}var Mt=Fo({name:"sha2-256",code:18,encode:z0("SHA-256")}),Ap=Fo({name:"sha2-512",code:19,encode:z0("SHA-512")});function G0(t,e){let{bytes:r,version:n}=t;switch(n){case 0:return Tp(r,Vo(t),e??Ft.encoder);default:return Ip(r,Vo(t),e??rr.encoder)}}var $0=new WeakMap;function Vo(t){let e=$0.get(t);if(e==null){let r=new Map;return $0.set(t,r),r}return e}var de=class t{code;version;multihash;bytes;"/";constructor(e,r,n,i){this.code=r,this.version=e,this.multihash=n,this.bytes=i,this["/"]=i}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:r}=this;if(e!==Bn)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==_p)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return t.createV0(r)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,n=_e(e,r);return t.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return t.equals(this,e)}static equals(e,r){let n=r;return n!=null&&e.code===n.code&&e.version===n.version&&M0(e.multihash,n.multihash)}toString(e){return G0(this,e)}toJSON(){return{"/":G0(this)}}link(){return this}[Symbol.toStringTag]="CID";[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(e==null)return null;let r=e;if(r instanceof t)return r;if(r["/"]!=null&&r["/"]===r.bytes||r.asCID===r){let{version:n,code:i,multihash:o,bytes:s}=r;return new t(n,i,o,s??Y0(n,i,o.bytes))}else if(r[Rp]===!0){let{version:n,multihash:i,code:o}=r,s=vr(i);return t.create(n,o,s)}else return null}static create(e,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");if(!(n.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:{if(r!==Bn)throw new Error(`Version 0 CID must use dag-pb (code: ${Bn}) block encoding`);return new t(e,r,n,n.bytes)}case 1:{let i=Y0(e,r,n.bytes);return new t(e,r,n,i)}default:throw new Error("Invalid version")}}static createV0(e){return t.create(0,Bn,e)}static createV1(e,r){return t.create(1,e,r)}static decode(e){let[r,n]=t.decodeFirst(e);if(n.length!==0)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=t.inspectBytes(e),n=r.size-r.multihashSize,i=Fe(e.subarray(n,n+r.multihashSize));if(i.byteLength!==r.multihashSize)throw new Error("Incorrect length");let o=i.subarray(r.multihashSize-r.digestSize),s=new qr(r.multihashCode,r.digestSize,o,i);return[r.version===0?t.createV0(s):t.createV1(r.codec,s),e.subarray(r.size)]}static inspectBytes(e){let r=0,n=()=>{let[l,h]=Sn(e.subarray(r));return r+=h,l},i=n(),o=Bn;if(i===18?(i=0,r=0):o=n(),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let s=r,a=n(),f=n(),c=r+f,u=c-s;return{version:i,codec:o,multihashCode:a,digestSize:f,multihashSize:u,size:c}}static parse(e,r){let[n,i]=Cp(e,r),o=t.decode(i);if(o.version===0&&e[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return Vo(o).set(n,e),o}};function Cp(t,e){switch(t[0]){case"Q":{let r=e??Ft;return[Ft.prefix,r.decode(`${Ft.prefix}${t}`)]}case Ft.prefix:{let r=e??Ft;return[Ft.prefix,r.decode(t)]}case rr.prefix:{let r=e??rr;return[rr.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}}function Tp(t,e,r){let{prefix:n}=r;if(n!==Ft.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=e.get(n);if(i==null){let o=r.encode(t).slice(1);return e.set(n,o),o}else return i}function Ip(t,e,r){let{prefix:n}=r,i=e.get(n);if(i==null){let o=r.encode(t);return e.set(n,o),o}else return i}var Bn=112,_p=18;function Y0(t,e,r){let n=Vr(t),i=n+Vr(e),o=new Uint8Array(i+r.byteLength);return Mr(t,o,0),Mr(e,o,n),o.set(r,i),o}var Rp=Symbol.for("@ipld/js-cid/CID");var Hr={...Uo,...To,...ko,...Ao,...Co,...Ro,...No,...Do,...Lo,...Io},k2={...Mo,...Ko};function Me(t=0){return globalThis.Buffer?.allocUnsafe!=null?mr(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Z0(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}var W0=Z0("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),qo=Z0("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=Me(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Np={utf8:W0,"utf-8":W0,hex:Hr.base16,latin1:qo,ascii:qo,binary:qo,...Hr},di=Np;function yt(t,e="utf8"){let r=di[e];if(r==null)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?mr(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}var vs={};_t(vs,{Ed25519PrivateKey:()=>Cr,Ed25519PublicKey:()=>Dn,generateKeyPair:()=>Y1,generateKeyPairFromSeed:()=>Df,unmarshalEd25519PrivateKey:()=>G1,unmarshalEd25519PublicKey:()=>$1});function kt(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}var Q2=Rt(Ct(),1),X2=Rt(ai(),1),Q0=Rt(ht(),1);function pe(t,e){if(globalThis.Buffer!=null)return mr(globalThis.Buffer.concat(t,e));e==null&&(e=t.reduce((i,o)=>i+o.length,0));let r=Me(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return mr(r)}function Ut(t,e="utf8"){let r=di[e];if(r==null)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}function ye(t,e){let r=Uint8Array.from(t.abs().toByteArray());if(r=r[0]===0?r.subarray(1):r,e!=null){if(r.length>e)throw new Error("byte array longer than desired length");r=pe([new Uint8Array(e-r.length),r])}return Ut(r,"base64url")}function Qt(t){let e=X0(t);return new Q0.default.jsbn.BigInteger(Ut(e,"base16"),16)}function X0(t,e){let r=yt(t,"base64urlpad");if(e!=null){if(r.length>e)throw new Error("byte array longer than desired length");r=pe([new Uint8Array(e-r.length),r])}return r}function ae(t){return t==null?!1:typeof t.then=="function"&&typeof t.catch=="function"&&typeof t.finally=="function"}function J0(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function Dp(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function Ho(t,...e){if(!Dp(t))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function j0(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");J0(t.outputLen),J0(t.blockLen)}function zr(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function tf(t,e){Ho(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var pi=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function ef(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}var yi=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),xe=(t,e)=>t<<32-e|t>>>e,Lp=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Lp)throw new Error("Non little-endian hardware is not supported");function zo(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function An(t){if(typeof t=="string"&&(t=zo(t)),!ef(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function xi(...t){let e=0;for(let n=0;n<t.length;n++){let i=t[n];if(!ef(i))throw new Error("Uint8Array expected");e+=i.length}let r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}var Gr=class{clone(){return this._cloneInto()}},om={}.toString;function gi(t){let e=n=>t().update(An(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function $r(t=32){if(pi&&typeof pi.getRandomValues=="function")return pi.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}function kp(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),f=n?4:0,c=n?0:4;t.setUint32(e+f,s,n),t.setUint32(e+c,a,n)}var Yr=class extends Gr{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=yi(this.buffer)}update(e){zr(this);let{view:r,buffer:n,blockLen:i}=this;e=An(e);let o=e.length;for(let s=0;s<o;){let a=Math.min(i-this.pos,o-s);if(a===i){let f=yi(e);for(;i<=o-s;s+=i)this.process(f,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){zr(this),tf(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let l=s;l<i;l++)r[l]=0;kp(n,i-8,BigInt(this.length*8),o),this.process(n,0);let a=yi(e),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let c=f/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<c;l++)a.setUint32(4*l,u[l],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:a}=this;return e.length=i,e.pos=a,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};var mi=BigInt(4294967295),Go=BigInt(32);function rf(t,e=!1){return e?{h:Number(t&mi),l:Number(t>>Go&mi)}:{h:Number(t>>Go&mi)|0,l:Number(t&mi)|0}}function Up(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:o,l:s}=rf(t[i],e);[r[i],n[i]]=[o,s]}return[r,n]}var Pp=(t,e)=>BigInt(t>>>0)<<Go|BigInt(e>>>0),Kp=(t,e,r)=>t>>>r,Op=(t,e,r)=>t<<32-r|e>>>r,Fp=(t,e,r)=>t>>>r|e<<32-r,Mp=(t,e,r)=>t<<32-r|e>>>r,Vp=(t,e,r)=>t<<64-r|e>>>r-32,qp=(t,e,r)=>t>>>r-32|e<<64-r,Hp=(t,e)=>e,zp=(t,e)=>t,Gp=(t,e,r)=>t<<r|e>>>32-r,$p=(t,e,r)=>e<<r|t>>>32-r,Yp=(t,e,r)=>e<<r-32|t>>>64-r,Wp=(t,e,r)=>t<<r-32|e>>>64-r;function Zp(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}var Qp=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),Xp=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,Jp=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),jp=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,t1=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),e1=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0;var r1={fromBig:rf,split:Up,toBig:Pp,shrSH:Kp,shrSL:Op,rotrSH:Fp,rotrSL:Mp,rotrBH:Vp,rotrBL:qp,rotr32H:Hp,rotr32L:zp,rotlSH:Gp,rotlSL:$p,rotlBH:Yp,rotlBL:Wp,add:Zp,add3L:Qp,add3H:Xp,add4L:Jp,add4H:jp,add5H:e1,add5L:t1},J=r1;var[n1,i1]=J.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),nr=new Uint32Array(80),ir=new Uint32Array(80),$o=class extends Yr{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:o,Cl:s,Dh:a,Dl:f,Eh:c,El:u,Fh:l,Fl:h,Gh:x,Gl:d,Hh:p,Hl:y}=this;return[e,r,n,i,o,s,a,f,c,u,l,h,x,d,p,y]}set(e,r,n,i,o,s,a,f,c,u,l,h,x,d,p,y){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=f|0,this.Eh=c|0,this.El=u|0,this.Fh=l|0,this.Fl=h|0,this.Gh=x|0,this.Gl=d|0,this.Hh=p|0,this.Hl=y|0}process(e,r){for(let b=0;b<16;b++,r+=4)nr[b]=e.getUint32(r),ir[b]=e.getUint32(r+=4);for(let b=16;b<80;b++){let L=nr[b-15]|0,w=ir[b-15]|0,S=J.rotrSH(L,w,1)^J.rotrSH(L,w,8)^J.shrSH(L,w,7),k=J.rotrSL(L,w,1)^J.rotrSL(L,w,8)^J.shrSL(L,w,7),B=nr[b-2]|0,K=ir[b-2]|0,F=J.rotrSH(B,K,19)^J.rotrBH(B,K,61)^J.shrSH(B,K,6),P=J.rotrSL(B,K,19)^J.rotrBL(B,K,61)^J.shrSL(B,K,6),V=J.add4L(k,P,ir[b-7],ir[b-16]),Y=J.add4H(V,S,F,nr[b-7],nr[b-16]);nr[b]=Y|0,ir[b]=V|0}let{Ah:n,Al:i,Bh:o,Bl:s,Ch:a,Cl:f,Dh:c,Dl:u,Eh:l,El:h,Fh:x,Fl:d,Gh:p,Gl:y,Hh:g,Hl:E}=this;for(let b=0;b<80;b++){let L=J.rotrSH(l,h,14)^J.rotrSH(l,h,18)^J.rotrBH(l,h,41),w=J.rotrSL(l,h,14)^J.rotrSL(l,h,18)^J.rotrBL(l,h,41),S=l&x^~l&p,k=h&d^~h&y,B=J.add5L(E,w,k,i1[b],ir[b]),K=J.add5H(B,g,L,S,n1[b],nr[b]),F=B|0,P=J.rotrSH(n,i,28)^J.rotrBH(n,i,34)^J.rotrBH(n,i,39),V=J.rotrSL(n,i,28)^J.rotrBL(n,i,34)^J.rotrBL(n,i,39),Y=n&o^n&a^o&a,j=i&s^i&f^s&f;g=p|0,E=y|0,p=x|0,y=d|0,x=l|0,d=h|0,{h:l,l:h}=J.add(c|0,u|0,K|0,F|0),c=a|0,u=f|0,a=o|0,f=s|0,o=n|0,s=i|0;let A=J.add3L(F,V,j);n=J.add3H(A,K,P,Y),i=A|0}({h:n,l:i}=J.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:s}=J.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l:f}=J.add(this.Ch|0,this.Cl|0,a|0,f|0),{h:c,l:u}=J.add(this.Dh|0,this.Dl|0,c|0,u|0),{h:l,l:h}=J.add(this.Eh|0,this.El|0,l|0,h|0),{h:x,l:d}=J.add(this.Fh|0,this.Fl|0,x|0,d|0),{h:p,l:y}=J.add(this.Gh|0,this.Gl|0,p|0,y|0),{h:g,l:E}=J.add(this.Hh|0,this.Hl|0,g|0,E|0),this.set(n,i,o,s,a,f,c,u,l,h,x,d,p,y,g,E)}roundClean(){nr.fill(0),ir.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var Yo=gi(()=>new $o);var bi={};_t(bi,{bitGet:()=>l1,bitLen:()=>u1,bitMask:()=>Cn,bitSet:()=>h1,bytesToHex:()=>qe,bytesToNumberBE:()=>He,bytesToNumberLE:()=>or,concatBytes:()=>ze,createHmacDrbg:()=>Qo,ensureBytes:()=>Bt,equalBytes:()=>f1,hexToBytes:()=>Er,hexToNumber:()=>Zo,isBytes:()=>ge,numberToBytesBE:()=>sr,numberToBytesLE:()=>wr,numberToHexUnpadded:()=>af,numberToVarBytesBE:()=>a1,utf8ToBytes:()=>c1,validateObject:()=>Ne});var sf=BigInt(0),vi=BigInt(1),o1=BigInt(2);function ge(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}var s1=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function qe(t){if(!ge(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=s1[t[r]];return e}function af(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function Zo(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}var Ve={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function nf(t){if(t>=Ve._0&&t<=Ve._9)return t-Ve._0;if(t>=Ve._A&&t<=Ve._F)return t-(Ve._A-10);if(t>=Ve._a&&t<=Ve._f)return t-(Ve._a-10)}function Er(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length,r=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){let s=nf(t.charCodeAt(o)),a=nf(t.charCodeAt(o+1));if(s===void 0||a===void 0){let f=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+f+'" at index '+o)}n[i]=s*16+a}return n}function He(t){return Zo(qe(t))}function or(t){if(!ge(t))throw new Error("Uint8Array expected");return Zo(qe(Uint8Array.from(t).reverse()))}function sr(t,e){return Er(t.toString(16).padStart(e*2,"0"))}function wr(t,e){return sr(t,e).reverse()}function a1(t){return Er(af(t))}function Bt(t,e,r){let n;if(typeof e=="string")try{n=Er(e)}catch(o){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${o}`)}else if(ge(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}function ze(...t){let e=0;for(let i=0;i<t.length;i++){let o=t[i];if(!ge(o))throw new Error("Uint8Array expected");e+=o.length}let r=new Uint8Array(e),n=0;for(let i=0;i<t.length;i++){let o=t[i];r.set(o,n),n+=o.length}return r}function f1(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}function c1(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function u1(t){let e;for(e=0;t>sf;t>>=vi,e+=1);return e}function l1(t,e){return t>>BigInt(e)&vi}var h1=(t,e,r)=>t|(r?vi:sf)<<BigInt(e),Cn=t=>(o1<<BigInt(t-1))-vi,Wo=t=>new Uint8Array(t),of=t=>Uint8Array.from(t);function Qo(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=Wo(t),i=Wo(t),o=0,s=()=>{n.fill(1),i.fill(0),o=0},a=(...l)=>r(i,n,...l),f=(l=Wo())=>{i=a(of([0]),l),n=a(),l.length!==0&&(i=a(of([1]),l),n=a())},c=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let l=0,h=[];for(;l<e;){n=a();let x=n.slice();h.push(x),l+=n.length}return ze(...h)};return(l,h)=>{s(),f(l);let x;for(;!(x=h(c()));)f();return s(),x}}var d1={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||ge(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Ne(t,e,r={}){let n=(i,o,s)=>{let a=d1[o];if(typeof a!="function")throw new Error(`Invalid validator "${o}", expected function`);let f=t[i];if(!(s&&f===void 0)&&!a(f,t))throw new Error(`Invalid param ${String(i)}=${f} (${typeof f}), expected ${o}`)};for(let[i,o]of Object.entries(e))n(i,o,!1);for(let[i,o]of Object.entries(r))n(i,o,!0);return t}var It=BigInt(0),vt=BigInt(1),Sr=BigInt(2),p1=BigInt(3),Xo=BigInt(4),ff=BigInt(5),cf=BigInt(8),y1=BigInt(9),x1=BigInt(16);function dt(t,e){let r=t%e;return r>=It?r:e+r}function g1(t,e,r){if(r<=It||e<It)throw new Error("Expected power/modulo > 0");if(r===vt)return It;let n=vt;for(;e>It;)e&vt&&(n=n*t%r),t=t*t%r,e>>=vt;return n}function bt(t,e,r){let n=t;for(;e-- >It;)n*=n,n%=r;return n}function Ei(t,e){if(t===It||e<=It)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=dt(t,e),n=e,i=It,o=vt,s=vt,a=It;for(;r!==It;){let c=n/r,u=n%r,l=i-s*c,h=o-a*c;n=r,r=u,i=s,o=a,s=l,a=h}if(n!==vt)throw new Error("invert: does not exist");return dt(i,e)}function m1(t){let e=(t-vt)/Sr,r,n,i;for(r=t-vt,n=0;r%Sr===It;r/=Sr,n++);for(i=Sr;i<t&&g1(i,e,t)!==t-vt;i++);if(n===1){let s=(t+vt)/Xo;return function(f,c){let u=f.pow(c,s);if(!f.eql(f.sqr(u),c))throw new Error("Cannot find square root");return u}}let o=(r+vt)/Sr;return function(a,f){if(a.pow(f,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=n,u=a.pow(a.mul(a.ONE,i),r),l=a.pow(f,o),h=a.pow(f,r);for(;!a.eql(h,a.ONE);){if(a.eql(h,a.ZERO))return a.ZERO;let x=1;for(let p=a.sqr(h);x<c&&!a.eql(p,a.ONE);x++)p=a.sqr(p);let d=a.pow(u,vt<<BigInt(c-x-1));u=a.sqr(d),l=a.mul(l,d),h=a.mul(h,u),c=x}return l}}function v1(t){if(t%Xo===p1){let e=(t+vt)/Xo;return function(n,i){let o=n.pow(i,e);if(!n.eql(n.sqr(o),i))throw new Error("Cannot find square root");return o}}if(t%cf===ff){let e=(t-ff)/cf;return function(n,i){let o=n.mul(i,Sr),s=n.pow(o,e),a=n.mul(i,s),f=n.mul(n.mul(a,Sr),s),c=n.mul(a,n.sub(f,n.ONE));if(!n.eql(n.sqr(c),i))throw new Error("Cannot find square root");return c}}return t%x1,m1(t)}var uf=(t,e)=>(dt(t,e)&vt)===vt,b1=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Jo(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=b1.reduce((n,i)=>(n[i]="function",n),e);return Ne(t,r)}function E1(t,e,r){if(r<It)throw new Error("Expected power > 0");if(r===It)return t.ONE;if(r===vt)return e;let n=t.ONE,i=e;for(;r>It;)r&vt&&(n=t.mul(n,i)),i=t.sqr(i),r>>=vt;return n}function w1(t,e){let r=new Array(e.length),n=e.reduce((o,s,a)=>t.is0(s)?o:(r[a]=o,t.mul(o,s)),t.ONE),i=t.inv(n);return e.reduceRight((o,s,a)=>t.is0(s)?o:(r[a]=t.mul(o,r[a]),t.mul(o,s)),i),r}function jo(t,e){let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function wi(t,e,r=!1,n={}){if(t<=It)throw new Error(`Expected Field ORDER > 0, got ${t}`);let{nBitLength:i,nByteLength:o}=jo(t,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");let s=v1(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:o,MASK:Cn(i),ZERO:It,ONE:vt,create:f=>dt(f,t),isValid:f=>{if(typeof f!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof f}`);return It<=f&&f<t},is0:f=>f===It,isOdd:f=>(f&vt)===vt,neg:f=>dt(-f,t),eql:(f,c)=>f===c,sqr:f=>dt(f*f,t),add:(f,c)=>dt(f+c,t),sub:(f,c)=>dt(f-c,t),mul:(f,c)=>dt(f*c,t),pow:(f,c)=>E1(a,f,c),div:(f,c)=>dt(f*Ei(c,t),t),sqrN:f=>f*f,addN:(f,c)=>f+c,subN:(f,c)=>f-c,mulN:(f,c)=>f*c,inv:f=>Ei(f,t),sqrt:n.sqrt||(f=>s(a,f)),invertBatch:f=>w1(a,f),cmov:(f,c,u)=>u?c:f,toBytes:f=>r?wr(f,o):sr(f,o),fromBytes:f=>{if(f.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${f.length}`);return r?or(f):He(f)}});return Object.freeze(a)}function lf(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");let r=t.sqrt(e);return t.isOdd(r)?t.neg(r):r}function hf(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}function ts(t){let e=hf(t);return e+Math.ceil(e/2)}function df(t,e,r=!1){let n=t.length,i=hf(e),o=ts(e);if(n<16||n<o||n>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${n}`);let s=r?He(t):or(t),a=dt(s,e-vt)+vt;return r?wr(a,i):sr(a,i)}var B1=BigInt(0),es=BigInt(1);function Si(t,e){let r=(i,o)=>{let s=o.negate();return i?s:o},n=i=>{let o=Math.ceil(e/i)+1,s=2**(i-1);return{windows:o,windowSize:s}};return{constTimeNegate:r,unsafeLadder(i,o){let s=t.ZERO,a=i;for(;o>B1;)o&es&&(s=s.add(a)),a=a.double(),o>>=es;return s},precomputeWindow(i,o){let{windows:s,windowSize:a}=n(o),f=[],c=i,u=c;for(let l=0;l<s;l++){u=c,f.push(u);for(let h=1;h<a;h++)u=u.add(c),f.push(u);c=u.double()}return f},wNAF(i,o,s){let{windows:a,windowSize:f}=n(i),c=t.ZERO,u=t.BASE,l=BigInt(2**i-1),h=2**i,x=BigInt(i);for(let d=0;d<a;d++){let p=d*f,y=Number(s&l);s>>=x,y>f&&(y-=h,s+=es);let g=p,E=p+Math.abs(y)-1,b=d%2!==0,L=y<0;y===0?u=u.add(r(b,o[g])):c=c.add(r(L,o[E]))}return{p:c,f:u}},wNAFCached(i,o,s,a){let f=i._WINDOW_SIZE||1,c=o.get(i);return c||(c=this.precomputeWindow(i,f),f!==1&&o.set(i,a(c))),this.wNAF(f,c,s)}}}function Tn(t){return Jo(t.Fp),Ne(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...jo(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}var me=BigInt(0),Xt=BigInt(1),Bi=BigInt(2),A1=BigInt(8),C1={zip215:!0};function T1(t){let e=Tn(t);return Ne(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function Ai(t){let e=T1(t),{Fp:r,n,prehash:i,hash:o,randomBytes:s,nByteLength:a,h:f}=e,c=Bi<<BigInt(a*8)-Xt,u=r.create,l=e.uvRatio||((U,I)=>{try{return{isValid:!0,value:r.sqrt(U*r.inv(I))}}catch{return{isValid:!1,value:me}}}),h=e.adjustScalarBytes||(U=>U),x=e.domain||((U,I,H)=>{if(I.length||H)throw new Error("Contexts/pre-hash are not supported");return U}),d=U=>typeof U=="bigint"&&me<U,p=(U,I)=>d(U)&&d(I)&&U<I,y=U=>U===me||p(U,c);function g(U,I){if(p(U,I))return U;throw new Error(`Expected valid scalar < ${I}, got ${typeof U} ${U}`)}function E(U){return U===me?U:g(U,n)}let b=new Map;function L(U){if(!(U instanceof w))throw new Error("ExtendedPoint expected")}class w{constructor(I,H,G,W){if(this.ex=I,this.ey=H,this.ez=G,this.et=W,!y(I))throw new Error("x required");if(!y(H))throw new Error("y required");if(!y(G))throw new Error("z required");if(!y(W))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(I){if(I instanceof w)throw new Error("extended point not allowed");let{x:H,y:G}=I||{};if(!y(H)||!y(G))throw new Error("invalid affine point");return new w(H,G,Xt,u(H*G))}static normalizeZ(I){let H=r.invertBatch(I.map(G=>G.ez));return I.map((G,W)=>G.toAffine(H[W])).map(w.fromAffine)}_setWindowSize(I){this._WINDOW_SIZE=I,b.delete(this)}assertValidity(){let{a:I,d:H}=e;if(this.is0())throw new Error("bad point: ZERO");let{ex:G,ey:W,ez:tt,et:nt}=this,lt=u(G*G),it=u(W*W),at=u(tt*tt),At=u(at*at),wt=u(lt*I),Kt=u(at*u(wt+it)),Ot=u(At+u(H*u(lt*it)));if(Kt!==Ot)throw new Error("bad point: equation left != right (1)");let Tt=u(G*W),qt=u(tt*nt);if(Tt!==qt)throw new Error("bad point: equation left != right (2)")}equals(I){L(I);let{ex:H,ey:G,ez:W}=this,{ex:tt,ey:nt,ez:lt}=I,it=u(H*lt),at=u(tt*W),At=u(G*lt),wt=u(nt*W);return it===at&&At===wt}is0(){return this.equals(w.ZERO)}negate(){return new w(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){let{a:I}=e,{ex:H,ey:G,ez:W}=this,tt=u(H*H),nt=u(G*G),lt=u(Bi*u(W*W)),it=u(I*tt),at=H+G,At=u(u(at*at)-tt-nt),wt=it+nt,Kt=wt-lt,Ot=it-nt,Tt=u(At*Kt),qt=u(wt*Ot),Ue=u(At*Ot),hr=u(Kt*wt);return new w(Tt,qt,hr,Ue)}add(I){L(I);let{a:H,d:G}=e,{ex:W,ey:tt,ez:nt,et:lt}=this,{ex:it,ey:at,ez:At,et:wt}=I;if(H===BigInt(-1)){let na=u((tt-W)*(at+it)),ia=u((tt+W)*(at-it)),Zi=u(ia-na);if(Zi===me)return this.double();let oa=u(nt*Bi*wt),sa=u(lt*Bi*At),aa=sa+oa,fa=ia+na,ca=sa-oa,Zu=u(aa*Zi),Qu=u(fa*ca),Xu=u(aa*ca),Ju=u(Zi*fa);return new w(Zu,Qu,Ju,Xu)}let Kt=u(W*it),Ot=u(tt*at),Tt=u(lt*G*wt),qt=u(nt*At),Ue=u((W+tt)*(it+at)-Kt-Ot),hr=qt-Tt,yn=qt+Tt,ra=u(Ot-H*Kt),Gu=u(Ue*hr),$u=u(yn*ra),Yu=u(Ue*ra),Wu=u(hr*yn);return new w(Gu,$u,Wu,Yu)}subtract(I){return this.add(I.negate())}wNAF(I){return B.wNAFCached(this,b,I,w.normalizeZ)}multiply(I){let{p:H,f:G}=this.wNAF(g(I,n));return w.normalizeZ([H,G])[0]}multiplyUnsafe(I){let H=E(I);return H===me?k:this.equals(k)||H===Xt?this:this.equals(S)?this.wNAF(H).p:B.unsafeLadder(this,H)}isSmallOrder(){return this.multiplyUnsafe(f).is0()}isTorsionFree(){return B.unsafeLadder(this,n).is0()}toAffine(I){let{ex:H,ey:G,ez:W}=this,tt=this.is0();I==null&&(I=tt?A1:r.inv(W));let nt=u(H*I),lt=u(G*I),it=u(W*I);if(tt)return{x:me,y:Xt};if(it!==Xt)throw new Error("invZ was invalid");return{x:nt,y:lt}}clearCofactor(){let{h:I}=e;return I===Xt?this:this.multiplyUnsafe(I)}static fromHex(I,H=!1){let{d:G,a:W}=e,tt=r.BYTES;I=Bt("pointHex",I,tt);let nt=I.slice(),lt=I[tt-1];nt[tt-1]=lt&-129;let it=or(nt);it===me||(H?g(it,c):g(it,r.ORDER));let at=u(it*it),At=u(at-Xt),wt=u(G*at-W),{isValid:Kt,value:Ot}=l(At,wt);if(!Kt)throw new Error("Point.fromHex: invalid y coordinate");let Tt=(Ot&Xt)===Xt,qt=(lt&128)!==0;if(!H&&Ot===me&&qt)throw new Error("Point.fromHex: x=0 and x_0=1");return qt!==Tt&&(Ot=u(-Ot)),w.fromAffine({x:Ot,y:it})}static fromPrivateKey(I){return P(I).point}toRawBytes(){let{x:I,y:H}=this.toAffine(),G=wr(H,r.BYTES);return G[G.length-1]|=I&Xt?128:0,G}toHex(){return qe(this.toRawBytes())}}w.BASE=new w(e.Gx,e.Gy,Xt,u(e.Gx*e.Gy)),w.ZERO=new w(me,Xt,Xt,me);let{BASE:S,ZERO:k}=w,B=Si(w,a*8);function K(U){return dt(U,n)}function F(U){return K(or(U))}function P(U){let I=a;U=Bt("private key",U,I);let H=Bt("hashed private key",o(U),2*I),G=h(H.slice(0,I)),W=H.slice(I,2*I),tt=F(G),nt=S.multiply(tt),lt=nt.toRawBytes();return{head:G,prefix:W,scalar:tt,point:nt,pointBytes:lt}}function V(U){return P(U).pointBytes}function Y(U=new Uint8Array,...I){let H=ze(...I);return F(o(x(H,Bt("context",U),!!i)))}function j(U,I,H={}){U=Bt("message",U),i&&(U=i(U));let{prefix:G,scalar:W,pointBytes:tt}=P(I),nt=Y(H.context,G,U),lt=S.multiply(nt).toRawBytes(),it=Y(H.context,lt,tt,U),at=K(nt+it*W);E(at);let At=ze(lt,wr(at,r.BYTES));return Bt("result",At,a*2)}let A=C1;function R(U,I,H,G=A){let{context:W,zip215:tt}=G,nt=r.BYTES;U=Bt("signature",U,2*nt),I=Bt("message",I),i&&(I=i(I));let lt=or(U.slice(nt,2*nt)),it,at,At;try{it=w.fromHex(H,tt),at=w.fromHex(U.slice(0,nt),tt),At=S.multiplyUnsafe(lt)}catch{return!1}if(!tt&&it.isSmallOrder())return!1;let wt=Y(W,at.toRawBytes(),it.toRawBytes(),I);return at.add(it.multiplyUnsafe(wt)).subtract(At).clearCofactor().equals(w.ZERO)}return S._setWindowSize(8),{CURVE:e,getPublicKey:V,sign:j,verify:R,ExtendedPoint:w,utils:{getExtendedPublicKey:P,randomPrivateKey:()=>s(r.BYTES),precompute(U=8,I=w.BASE){return I._setWindowSize(U),I.multiply(BigInt(3)),I}}}}var ns=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),pf=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),Tm=BigInt(0),I1=BigInt(1),rs=BigInt(2),_1=BigInt(5),yf=BigInt(10),R1=BigInt(20),N1=BigInt(40),xf=BigInt(80);function D1(t){let e=ns,n=t*t%e*t%e,i=bt(n,rs,e)*n%e,o=bt(i,I1,e)*t%e,s=bt(o,_1,e)*o%e,a=bt(s,yf,e)*s%e,f=bt(a,R1,e)*a%e,c=bt(f,N1,e)*f%e,u=bt(c,xf,e)*c%e,l=bt(u,xf,e)*c%e,h=bt(l,yf,e)*s%e;return{pow_p_5_8:bt(h,rs,e)*t%e,b2:n}}function L1(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function k1(t,e){let r=ns,n=dt(e*e*e,r),i=dt(n*n*e,r),o=D1(t*i).pow_p_5_8,s=dt(t*n*o,r),a=dt(e*s*s,r),f=s,c=dt(s*pf,r),u=a===t,l=a===dt(-t,r),h=a===dt(-t*pf,r);return u&&(s=f),(l||h)&&(s=c),uf(s,r)&&(s=dt(-s,r)),{isValid:u||l,value:s}}var Ge=wi(ns,void 0,!0),is={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Ge,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Yo,randomBytes:$r,adjustScalarBytes:L1,uvRatio:k1},Wr=Ai(is);function gf(t,e,r){if(e.length>255)throw new Error("Context is too big");return xi(zo("SigEd25519 no Ed25519 collisions"),new Uint8Array([r?1:0,e.length]),e,t)}var Im=Ai({...is,domain:gf}),_m=Ai({...is,domain:gf,prehash:Yo});var U1=(Ge.ORDER+BigInt(3))/BigInt(8),Rm=Ge.pow(rs,U1),Nm=Ge.sqrt(Ge.neg(Ge.ONE)),Dm=(Ge.ORDER-BigInt(5))/BigInt(8),Lm=BigInt(486662);var km=lf(Ge,Ge.neg(BigInt(486664)));var Um=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),Pm=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),Km=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),Om=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");var Fm=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var Zr=32,$e=64,Ci=32;function mf(){let t=Wr.utils.randomPrivateKey(),e=Wr.getPublicKey(t);return{privateKey:wf(t,e),publicKey:e}}function vf(t){if(t.length!==Ci)throw new TypeError('"seed" must be 32 bytes in length.');if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, or Uint8Array.');let e=t,r=Wr.getPublicKey(e);return{privateKey:wf(e,r),publicKey:r}}function bf(t,e){let r=t.subarray(0,Ci);return Wr.sign(e instanceof Uint8Array?e:e.subarray(),r)}function Ef(t,e,r){return Wr.verify(e,r instanceof Uint8Array?r:r.subarray(),t)}function wf(t,e){let r=new Uint8Array($e);for(let n=0;n<Ci;n++)r[n]=t[n],r[Ci+n]=e[n];return r}var Wt={get(t=globalThis){let e=t.crypto;if(e==null||e.subtle==null)throw Object.assign(new Error("Missing Web Crypto API. The most likely cause of this error is that this page is being accessed from an insecure context (i.e. not HTTPS). For more information and possible resolutions see https://github.com/libp2p/js-libp2p/blob/main/packages/crypto/README.md#web-crypto-api"),{code:"ERR_MISSING_WEB_CRYPTO"});return e}};var os={alg:"A128GCM",ext:!0,k:"scm9jmO_4BJAgdwWGVulLg",key_ops:["encrypt","decrypt"],kty:"oct"};function ss(t){let e=t?.algorithm??"AES-GCM",r=t?.keyLength??16,n=t?.nonceLength??12,i=t?.digest??"SHA-256",o=t?.saltLength??16,s=t?.iterations??32767,a=Wt.get();r*=8;async function f(l,h){let x=a.getRandomValues(new Uint8Array(o)),d=a.getRandomValues(new Uint8Array(n)),p={name:e,iv:d};typeof h=="string"&&(h=yt(h));let y;if(h.length===0){y=await a.subtle.importKey("jwk",os,{name:"AES-GCM"},!0,["encrypt"]);try{let E={name:"PBKDF2",salt:x,iterations:s,hash:{name:i}},b=await a.subtle.importKey("raw",h,{name:"PBKDF2"},!1,["deriveKey"]);y=await a.subtle.deriveKey(E,b,{name:e,length:r},!0,["encrypt"])}catch{y=await a.subtle.importKey("jwk",os,{name:"AES-GCM"},!0,["encrypt"])}}else{let E={name:"PBKDF2",salt:x,iterations:s,hash:{name:i}},b=await a.subtle.importKey("raw",h,{name:"PBKDF2"},!1,["deriveKey"]);y=await a.subtle.deriveKey(E,b,{name:e,length:r},!0,["encrypt"])}let g=await a.subtle.encrypt(p,y,l);return pe([x,p.iv,new Uint8Array(g)])}async function c(l,h){let x=l.subarray(0,o),d=l.subarray(o,o+n),p=l.subarray(o+n),y={name:e,iv:d};typeof h=="string"&&(h=yt(h));let g;if(h.length===0)try{let b={name:"PBKDF2",salt:x,iterations:s,hash:{name:i}},L=await a.subtle.importKey("raw",h,{name:"PBKDF2"},!1,["deriveKey"]);g=await a.subtle.deriveKey(b,L,{name:e,length:r},!0,["decrypt"])}catch{g=await a.subtle.importKey("jwk",os,{name:"AES-GCM"},!0,["decrypt"])}else{let b={name:"PBKDF2",salt:x,iterations:s,hash:{name:i}},L=await a.subtle.importKey("raw",h,{name:"PBKDF2"},!1,["deriveKey"]);g=await a.subtle.deriveKey(b,L,{name:e,length:r},!0,["decrypt"])}let E=await a.subtle.decrypt(y,g,p);return new Uint8Array(E)}return{encrypt:f,decrypt:c}}async function Qr(t,e){let n=await ss().encrypt(t,e);return Fr.encode(n)}var as=new Float32Array([-0]),ar=new Uint8Array(as.buffer);function Bf(t,e,r){as[0]=t,e[r]=ar[0],e[r+1]=ar[1],e[r+2]=ar[2],e[r+3]=ar[3]}function Af(t,e){return ar[0]=t[e],ar[1]=t[e+1],ar[2]=t[e+2],ar[3]=t[e+3],as[0]}var fs=new Float64Array([-0]),Ht=new Uint8Array(fs.buffer);function Cf(t,e,r){fs[0]=t,e[r]=Ht[0],e[r+1]=Ht[1],e[r+2]=Ht[2],e[r+3]=Ht[3],e[r+4]=Ht[4],e[r+5]=Ht[5],e[r+6]=Ht[6],e[r+7]=Ht[7]}function Tf(t,e){return Ht[0]=t[e],Ht[1]=t[e+1],Ht[2]=t[e+2],Ht[3]=t[e+3],Ht[4]=t[e+4],Ht[5]=t[e+5],Ht[6]=t[e+6],Ht[7]=t[e+7],fs[0]}var K1=BigInt(Number.MAX_SAFE_INTEGER),O1=BigInt(Number.MIN_SAFE_INTEGER),Zt=class t{lo;hi;constructor(e,r){this.lo=e|0,this.hi=r|0}toNumber(e=!1){if(!e&&this.hi>>>31>0){let r=~this.lo+1>>>0,n=~this.hi>>>0;return r===0&&(n=n+1>>>0),-(r+n*4294967296)}return this.lo+this.hi*4294967296}toBigInt(e=!1){if(e)return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n);if(this.hi>>>31){let r=~this.lo+1>>>0,n=~this.hi>>>0;return r===0&&(n=n+1>>>0),-(BigInt(r)+(BigInt(n)<<32n))}return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n)}toString(e=!1){return this.toBigInt(e).toString()}zzEncode(){let e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this}zzDecode(){let e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this}length(){let e=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?r===0?e<16384?e<128?1:2:e<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:n<128?9:10}static fromBigInt(e){if(e===0n)return Br;if(e<K1&&e>O1)return this.fromNumber(Number(e));let r=e<0n;r&&(e=-e);let n=e>>32n,i=e-(n<<32n);return r&&(n=~n|0n,i=~i|0n,++i>If&&(i=0n,++n>If&&(n=0n))),new t(Number(i),Number(n))}static fromNumber(e){if(e===0)return Br;let r=e<0;r&&(e=-e);let n=e>>>0,i=(e-n)/4294967296>>>0;return r&&(i=~i>>>0,n=~n>>>0,++n>4294967295&&(n=0,++i>4294967295&&(i=0))),new t(n,i)}static from(e){return typeof e=="number"?t.fromNumber(e):typeof e=="bigint"?t.fromBigInt(e):typeof e=="string"?t.fromBigInt(BigInt(e)):e.low!=null||e.high!=null?new t(e.low>>>0,e.high>>>0):Br}},Br=new Zt(0,0);Br.toBigInt=function(){return 0n};Br.zzEncode=Br.zzDecode=function(){return this};Br.length=function(){return 1};var If=4294967296n;function _f(t){let e=0,r=0;for(let n=0;n<t.length;++n)r=t.charCodeAt(n),r<128?e+=1:r<2048?e+=2:(r&64512)===55296&&(t.charCodeAt(n+1)&64512)===56320?(++n,e+=4):e+=3;return e}function Rf(t,e,r){if(r-e<1)return"";let i,o=[],s=0,a;for(;e<r;)a=t[e++],a<128?o[s++]=a:a>191&&a<224?o[s++]=(a&31)<<6|t[e++]&63:a>239&&a<365?(a=((a&7)<<18|(t[e++]&63)<<12|(t[e++]&63)<<6|t[e++]&63)-65536,o[s++]=55296+(a>>10),o[s++]=56320+(a&1023)):o[s++]=(a&15)<<12|(t[e++]&63)<<6|t[e++]&63,s>8191&&((i??(i=[])).push(String.fromCharCode.apply(String,o)),s=0);return i!=null?(s>0&&i.push(String.fromCharCode.apply(String,o.slice(0,s))),i.join("")):String.fromCharCode.apply(String,o.slice(0,s))}function cs(t,e,r){let n=r,i,o;for(let s=0;s<t.length;++s)i=t.charCodeAt(s),i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&((o=t.charCodeAt(s+1))&64512)===56320?(i=65536+((i&1023)<<10)+(o&1023),++s,e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128);return r-n}function ve(t,e){return RangeError(`index out of range: ${t.pos} + ${e??1} > ${t.len}`)}function Ti(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}var us=class{buf;pos;len;_slice=Uint8Array.prototype.subarray;constructor(e){this.buf=e,this.pos=0,this.len=e.length}uint32(){let e=4294967295;if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,ve(this,10);return e}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)|0}bool(){return this.uint32()!==0}fixed32(){if(this.pos+4>this.len)throw ve(this,4);return Ti(this.buf,this.pos+=4)}sfixed32(){if(this.pos+4>this.len)throw ve(this,4);return Ti(this.buf,this.pos+=4)|0}float(){if(this.pos+4>this.len)throw ve(this,4);let e=Af(this.buf,this.pos);return this.pos+=4,e}double(){if(this.pos+8>this.len)throw ve(this,4);let e=Tf(this.buf,this.pos);return this.pos+=8,e}bytes(){let e=this.uint32(),r=this.pos,n=this.pos+e;if(n>this.len)throw ve(this,e);return this.pos+=e,r===n?new Uint8Array(0):this.buf.subarray(r,n)}string(){let e=this.bytes();return Rf(e,0,e.length)}skip(e){if(typeof e=="number"){if(this.pos+e>this.len)throw ve(this,e);this.pos+=e}else do if(this.pos>=this.len)throw ve(this);while(this.buf[this.pos++]&128);return this}skipType(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(e=this.uint32()&7)!==4;)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error(`invalid wire type ${e} at offset ${this.pos}`)}return this}readLongVarint(){let e=new Zt(0,0),r=0;if(this.len-this.pos>4){for(;r<4;++r)if(e.lo=(e.lo|(this.buf[this.pos]&127)<<r*7)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(this.buf[this.pos]&127)<<28)>>>0,e.hi=(e.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return e;r=0}else{for(;r<3;++r){if(this.pos>=this.len)throw ve(this);if(e.lo=(e.lo|(this.buf[this.pos]&127)<<r*7)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(this.buf[this.pos++]&127)<<r*7)>>>0,e}if(this.len-this.pos>4){for(;r<5;++r)if(e.hi=(e.hi|(this.buf[this.pos]&127)<<r*7+3)>>>0,this.buf[this.pos++]<128)return e}else for(;r<5;++r){if(this.pos>=this.len)throw ve(this);if(e.hi=(e.hi|(this.buf[this.pos]&127)<<r*7+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}readFixed64(){if(this.pos+8>this.len)throw ve(this,8);let e=Ti(this.buf,this.pos+=4),r=Ti(this.buf,this.pos+=4);return new Zt(e,r)}int64(){return this.readLongVarint().toBigInt()}int64Number(){return this.readLongVarint().toNumber()}int64String(){return this.readLongVarint().toString()}uint64(){return this.readLongVarint().toBigInt(!0)}uint64Number(){return this.readLongVarint().toNumber(!0)}uint64String(){return this.readLongVarint().toString(!0)}sint64(){return this.readLongVarint().zzDecode().toBigInt()}sint64Number(){return this.readLongVarint().zzDecode().toNumber()}sint64String(){return this.readLongVarint().zzDecode().toString()}fixed64(){return this.readFixed64().toBigInt()}fixed64Number(){return this.readFixed64().toNumber()}fixed64String(){return this.readFixed64().toString()}sfixed64(){return this.readFixed64().toBigInt()}sfixed64Number(){return this.readFixed64().toNumber()}sfixed64String(){return this.readFixed64().toString()}};function ls(t){return new us(t instanceof Uint8Array?t:t.subarray())}function Xr(t,e){let r=ls(t);return e.decode(r)}function hs(t){let e=t??8192,r=e>>>1,n,i=e;return function(s){if(s<1||s>r)return Me(s);i+s>e&&(n=Me(e),i=0);let a=n.subarray(i,i+=s);return i&7&&(i=(i|7)+1),a}}var Ar=class{fn;len;next;val;constructor(e,r,n){this.fn=e,this.len=r,this.next=void 0,this.val=n}};function ds(){}var ys=class{head;tail;len;next;constructor(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}},F1=hs();function M1(t){return globalThis.Buffer!=null?Me(t):F1(t)}var Rn=class{len;head;tail;states;constructor(){this.len=0,this.head=new Ar(ds,0,0),this.tail=this.head,this.states=null}_push(e,r,n){return this.tail=this.tail.next=new Ar(e,r,n),this.len+=r,this}uint32(e){return this.len+=(this.tail=this.tail.next=new xs((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this}int32(e){return e<0?this._push(In,10,Zt.fromNumber(e)):this.uint32(e)}sint32(e){return this.uint32((e<<1^e>>31)>>>0)}uint64(e){let r=Zt.fromBigInt(e);return this._push(In,r.length(),r)}uint64Number(e){let r=Zt.fromNumber(e);return this._push(In,r.length(),r)}uint64String(e){return this.uint64(BigInt(e))}int64(e){return this.uint64(e)}int64Number(e){return this.uint64Number(e)}int64String(e){return this.uint64String(e)}sint64(e){let r=Zt.fromBigInt(e).zzEncode();return this._push(In,r.length(),r)}sint64Number(e){let r=Zt.fromNumber(e).zzEncode();return this._push(In,r.length(),r)}sint64String(e){return this.sint64(BigInt(e))}bool(e){return this._push(ps,1,e?1:0)}fixed32(e){return this._push(_n,4,e>>>0)}sfixed32(e){return this.fixed32(e)}fixed64(e){let r=Zt.fromBigInt(e);return this._push(_n,4,r.lo)._push(_n,4,r.hi)}fixed64Number(e){let r=Zt.fromNumber(e);return this._push(_n,4,r.lo)._push(_n,4,r.hi)}fixed64String(e){return this.fixed64(BigInt(e))}sfixed64(e){return this.fixed64(e)}sfixed64Number(e){return this.fixed64Number(e)}sfixed64String(e){return this.fixed64String(e)}float(e){return this._push(Bf,4,e)}double(e){return this._push(Cf,8,e)}bytes(e){let r=e.length>>>0;return r===0?this._push(ps,1,0):this.uint32(r)._push(q1,r,e)}string(e){let r=_f(e);return r!==0?this.uint32(r)._push(cs,r,e):this._push(ps,1,0)}fork(){return this.states=new ys(this),this.head=this.tail=new Ar(ds,0,0),this.len=0,this}reset(){return this.states!=null?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Ar(ds,0,0),this.len=0),this}ldelim(){let e=this.head,r=this.tail,n=this.len;return this.reset().uint32(n),n!==0&&(this.tail.next=e.next,this.tail=r,this.len+=n),this}finish(){let e=this.head.next,r=M1(this.len),n=0;for(;e!=null;)e.fn(e.val,r,n),n+=e.len,e=e.next;return r}};function ps(t,e,r){e[r]=t&255}function V1(t,e,r){for(;t>127;)e[r++]=t&127|128,t>>>=7;e[r]=t}var xs=class extends Ar{next;constructor(e,r){super(V1,e,r),this.next=void 0}};function In(t,e,r){for(;t.hi!==0;)e[r++]=t.lo&127|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[r++]=t.lo&127|128,t.lo=t.lo>>>7;e[r++]=t.lo}function _n(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}function q1(t,e,r){e.set(t,r)}globalThis.Buffer!=null&&(Rn.prototype.bytes=function(t){let e=t.length>>>0;return this.uint32(e),e>0&&this._push(H1,e,t),this},Rn.prototype.string=function(t){let e=globalThis.Buffer.byteLength(t);return this.uint32(e),e>0&&this._push(z1,e,t),this});function H1(t,e,r){e.set(t,r)}function z1(t,e,r){t.length<40?cs(t,e,r):e.utf8Write!=null?e.utf8Write(t,r):e.set(yt(t),r)}function gs(){return new Rn}function Jr(t,e){let r=gs();return e.encode(t,r,{lengthDelimited:!1}),r.finish()}var jr;(function(t){t[t.VARINT=0]="VARINT",t[t.BIT64=1]="BIT64",t[t.LENGTH_DELIMITED=2]="LENGTH_DELIMITED",t[t.START_GROUP=3]="START_GROUP",t[t.END_GROUP=4]="END_GROUP",t[t.BIT32=5]="BIT32"})(jr||(jr={}));function Ii(t,e,r,n){return{name:t,type:e,encode:r,decode:n}}function Nn(t){function e(i){if(t[i.toString()]==null)throw new Error("Invalid enum value");return t[i]}let r=function(o,s){let a=e(o);s.int32(a)},n=function(o){let s=o.int32();return e(s)};return Ii("enum",jr.VARINT,r,n)}function tn(t,e){return Ii("message",jr.LENGTH_DELIMITED,t,e)}var Et;(function(t){t.RSA="RSA",t.Ed25519="Ed25519",t.Secp256k1="Secp256k1"})(Et||(Et={}));var ms;(function(t){t[t.RSA=0]="RSA",t[t.Ed25519=1]="Ed25519",t[t.Secp256k1=2]="Secp256k1"})(ms||(ms={}));(function(t){t.codec=()=>Nn(ms)})(Et||(Et={}));var De;(function(t){let e;t.codec=()=>(e==null&&(e=tn((r,n,i={})=>{i.lengthDelimited!==!1&&n.fork(),r.Type!=null&&(n.uint32(8),Et.codec().encode(r.Type,n)),r.Data!=null&&(n.uint32(18),n.bytes(r.Data)),i.lengthDelimited!==!1&&n.ldelim()},(r,n)=>{let i={},o=n==null?r.len:r.pos+n;for(;r.pos<o;){let s=r.uint32();switch(s>>>3){case 1:i.Type=Et.codec().decode(r);break;case 2:i.Data=r.bytes();break;default:r.skipType(s&7);break}}return i})),e),t.encode=r=>Jr(r,t.codec()),t.decode=r=>Xr(r,t.codec())})(De||(De={}));var Le;(function(t){let e;t.codec=()=>(e==null&&(e=tn((r,n,i={})=>{i.lengthDelimited!==!1&&n.fork(),r.Type!=null&&(n.uint32(8),Et.codec().encode(r.Type,n)),r.Data!=null&&(n.uint32(18),n.bytes(r.Data)),i.lengthDelimited!==!1&&n.ldelim()},(r,n)=>{let i={},o=n==null?r.len:r.pos+n;for(;r.pos<o;){let s=r.uint32();switch(s>>>3){case 1:i.Type=Et.codec().decode(r);break;case 2:i.Data=r.bytes();break;default:r.skipType(s&7);break}}return i})),e),t.encode=r=>Jr(r,t.codec()),t.decode=r=>Xr(r,t.codec())})(Le||(Le={}));var Dn=class{_key;constructor(e){this._key=en(e,Zr)}verify(e,r){return Ef(this._key,r,e)}marshal(){return this._key}get bytes(){return De.encode({Type:Et.Ed25519,Data:this.marshal()}).subarray()}equals(e){return kt(this.bytes,e.bytes)}hash(){let e=Mt.digest(this.bytes);return ae(e)?e.then(({bytes:r})=>r):e.bytes}},Cr=class{_key;_publicKey;constructor(e,r){this._key=en(e,$e),this._publicKey=en(r,Zr)}sign(e){return bf(this._key,e)}get public(){return new Dn(this._publicKey)}marshal(){return this._key}get bytes(){return Le.encode({Type:Et.Ed25519,Data:this.marshal()}).subarray()}equals(e){return kt(this.bytes,e.bytes)}async hash(){let e=Mt.digest(this.bytes),r;return ae(e)?{bytes:r}=await e:r=e.bytes,r}async id(){let e=Re.digest(this.public.bytes);return Ft.encode(e.bytes).substring(1)}async export(e,r="libp2p-key"){if(r==="libp2p-key")return Qr(this.bytes,e);throw new rt(`export format '${r}' is not supported`,"ERR_INVALID_EXPORT_FORMAT")}};function G1(t){if(t.length>$e){t=en(t,$e+Zr);let n=t.subarray(0,$e),i=t.subarray($e,t.length);return new Cr(n,i)}t=en(t,$e);let e=t.subarray(0,$e),r=t.subarray(Zr);return new Cr(e,r)}function $1(t){return t=en(t,Zr),new Dn(t)}async function Y1(){let{privateKey:t,publicKey:e}=mf();return new Cr(t,e)}async function Df(t){let{privateKey:e,publicKey:r}=vf(t);return new Cr(e,r)}function en(t,e){if(t=Uint8Array.from(t??[]),t.length!==e)throw new rt(`Key must be a Uint8Array of length ${e}, got ${t.length}`,"ERR_INVALID_KEY_TYPE");return t}var W1={"P-256":256,"P-384":384,"P-521":521},Z1=Object.keys(W1),Kv=Z1.join(" / ");var Bs={};_t(Bs,{MAX_KEY_SIZE:()=>Pn,RsaPrivateKey:()=>rn,RsaPublicKey:()=>Un,fromJwk:()=>sy,generateKeyPair:()=>ay,unmarshalRsaPrivateKey:()=>iy,unmarshalRsaPublicKey:()=>oy});var kn=Rt(ht(),1);var Eb=Rt(Kf(),1);function Ri(t){if(isNaN(t)||t<=0)throw new rt("random bytes length must be a Number bigger than 0","ERR_INVALID_LENGTH");return $r(t)}var nb=Rt(ui(),1),ws=Rt(ht(),1);function Of(t,e){return e.map(r=>Qt(t[r]))}function Ff(t){return ws.default.pki.setRsaPrivateKey(...Of(t,["n","e","d","p","q","dp","dq","qi"]))}function Mf(t){return ws.default.pki.setRsaPublicKey(...Of(t,["n","e"]))}var Ir={};_t(Ir,{jwkToPkcs1:()=>j1,jwkToPkix:()=>ey,pkcs1ToJwk:()=>J1,pkixToJwk:()=>ty});var sb=Rt(vn(),1),ab=Rt(ui(),1);var Ye=Rt(ht(),1);function J1(t){let e=Ye.default.asn1.fromDer(Ut(t,"ascii")),r=Ye.default.pki.privateKeyFromAsn1(e);return{kty:"RSA",n:ye(r.n),e:ye(r.e),d:ye(r.d),p:ye(r.p),q:ye(r.q),dp:ye(r.dP),dq:ye(r.dQ),qi:ye(r.qInv),alg:"RS256"}}function j1(t){if(t.n==null||t.e==null||t.d==null||t.p==null||t.q==null||t.dp==null||t.dq==null||t.qi==null)throw new rt("JWK was missing components","ERR_INVALID_PARAMETERS");let e=Ye.default.pki.privateKeyToAsn1({n:Qt(t.n),e:Qt(t.e),d:Qt(t.d),p:Qt(t.p),q:Qt(t.q),dP:Qt(t.dp),dQ:Qt(t.dq),qInv:Qt(t.qi)});return yt(Ye.default.asn1.toDer(e).getBytes(),"ascii")}function ty(t){let e=Ye.default.asn1.fromDer(Ut(t,"ascii")),r=Ye.default.pki.publicKeyFromAsn1(e);return{kty:"RSA",n:ye(r.n),e:ye(r.e)}}function ey(t){if(t.n==null||t.e==null)throw new rt("JWK was missing components","ERR_INVALID_PARAMETERS");let e=Ye.default.pki.publicKeyToAsn1({n:Qt(t.n),e:Qt(t.e)});return yt(Ye.default.asn1.toDer(e).getBytes(),"ascii")}async function Vf(t){let e=await Wt.get().subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign","verify"]),r=await zf(e);return{privateKey:r[0],publicKey:r[1]}}async function Ss(t){let r=[await Wt.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["sign"]),await ry(t)],n=await zf({privateKey:r[0],publicKey:r[1]});return{privateKey:n[0],publicKey:n[1]}}async function qf(t,e){let r=await Wt.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["sign"]),n=await Wt.get().subtle.sign({name:"RSASSA-PKCS1-v1_5"},r,e instanceof Uint8Array?e:e.subarray());return new Uint8Array(n,0,n.byteLength)}async function Hf(t,e,r){let n=await Wt.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["verify"]);return Wt.get().subtle.verify({name:"RSASSA-PKCS1-v1_5"},n,e,r instanceof Uint8Array?r:r.subarray())}async function zf(t){if(t.privateKey==null||t.publicKey==null)throw new rt("Private and public key are required","ERR_INVALID_PARAMETERS");return Promise.all([Wt.get().subtle.exportKey("jwk",t.privateKey),Wt.get().subtle.exportKey("jwk",t.publicKey)])}async function ry(t){return Wt.get().subtle.importKey("jwk",{kty:t.kty,n:t.n,e:t.e},{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["verify"])}function Gf(t,e,r,n){let i=e?Mf(t):Ff(t),o=Ut(r instanceof Uint8Array?r:r.subarray(),"ascii"),s=n(o,i);return yt(s,"ascii")}function $f(t,e){return Gf(t,!0,e,(r,n)=>n.encrypt(r))}function Yf(t,e){return Gf(t,!1,e,(r,n)=>n.decrypt(r))}function Ni(t){if(t.kty!=="RSA")throw new rt("invalid key type","ERR_INVALID_KEY_TYPE");if(t.n==null)throw new rt("invalid key modulus","ERR_INVALID_KEY_MODULUS");return yt(t.n,"base64url").length*8}var Pn=8192,Un=class{_key;constructor(e){this._key=e}verify(e,r){return Hf(this._key,r,e)}marshal(){return Ir.jwkToPkix(this._key)}get bytes(){return De.encode({Type:Et.RSA,Data:this.marshal()}).subarray()}encrypt(e){return $f(this._key,e)}equals(e){return kt(this.bytes,e.bytes)}hash(){let e=Mt.digest(this.bytes);return ae(e)?e.then(({bytes:r})=>r):e.bytes}},rn=class{_key;_publicKey;constructor(e,r){this._key=e,this._publicKey=r}genSecret(){return Ri(16)}sign(e){return qf(this._key,e)}get public(){if(this._publicKey==null)throw new rt("public key not provided","ERR_PUBKEY_NOT_PROVIDED");return new Un(this._publicKey)}decrypt(e){return Yf(this._key,e)}marshal(){return Ir.jwkToPkcs1(this._key)}get bytes(){return Le.encode({Type:Et.RSA,Data:this.marshal()}).subarray()}equals(e){return kt(this.bytes,e.bytes)}hash(){let e=Mt.digest(this.bytes);return ae(e)?e.then(({bytes:r})=>r):e.bytes}async id(){let e=await this.public.hash();return Ut(e,"base58btc")}async export(e,r="pkcs-8"){if(r==="pkcs-8"){let n=new kn.default.util.ByteBuffer(this.marshal()),i=kn.default.asn1.fromDer(n),o=kn.default.pki.privateKeyFromAsn1(i),s={algorithm:"aes256",count:1e4,saltSize:128/8,prfAlgorithm:"sha512"};return kn.default.pki.encryptRsaPrivateKey(o,e,s)}else{if(r==="libp2p-key")return Qr(this.bytes,e);throw new rt(`export format '${r}' is not supported`,"ERR_INVALID_EXPORT_FORMAT")}}};async function iy(t){let e=Ir.pkcs1ToJwk(t);if(Ni(e)>Pn)throw new rt("key size is too large","ERR_KEY_SIZE_TOO_LARGE");let r=await Ss(e);return new rn(r.privateKey,r.publicKey)}function oy(t){let e=Ir.pkixToJwk(t);if(Ni(e)>Pn)throw new rt("key size is too large","ERR_KEY_SIZE_TOO_LARGE");return new Un(e)}async function sy(t){if(Ni(t)>Pn)throw new rt("key size is too large","ERR_KEY_SIZE_TOO_LARGE");let e=await Ss(t);return new rn(e.privateKey,e.publicKey)}async function ay(t){if(t>Pn)throw new rt("key size is too large","ERR_KEY_SIZE_TOO_LARGE");let e=await Vf(t);return new rn(e.privateKey,e.publicKey)}var Rs={};_t(Rs,{Secp256k1PrivateKey:()=>On,Secp256k1PublicKey:()=>Kn,generateKeyPair:()=>wy,unmarshalSecp256k1PrivateKey:()=>by,unmarshalSecp256k1PublicKey:()=>Ey});var fy=(t,e,r)=>t&e^~t&r,cy=(t,e,r)=>t&e^t&r^e&r,uy=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),fr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),cr=new Uint32Array(64),As=class extends Yr{constructor(){super(64,32,8,!1),this.A=fr[0]|0,this.B=fr[1]|0,this.C=fr[2]|0,this.D=fr[3]|0,this.E=fr[4]|0,this.F=fr[5]|0,this.G=fr[6]|0,this.H=fr[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:a,H:f}=this;return[e,r,n,i,o,s,a,f]}set(e,r,n,i,o,s,a,f){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=f|0}process(e,r){for(let l=0;l<16;l++,r+=4)cr[l]=e.getUint32(r,!1);for(let l=16;l<64;l++){let h=cr[l-15],x=cr[l-2],d=xe(h,7)^xe(h,18)^h>>>3,p=xe(x,17)^xe(x,19)^x>>>10;cr[l]=p+cr[l-7]+d+cr[l-16]|0}let{A:n,B:i,C:o,D:s,E:a,F:f,G:c,H:u}=this;for(let l=0;l<64;l++){let h=xe(a,6)^xe(a,11)^xe(a,25),x=u+h+fy(a,f,c)+uy[l]+cr[l]|0,p=(xe(n,2)^xe(n,13)^xe(n,22))+cy(n,i,o)|0;u=c,c=f,f=a,a=s+x|0,s=o,o=i,i=n,n=x+p|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,f=f+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(n,i,o,s,a,f,c,u)}roundClean(){cr.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var Wf=gi(()=>new As);function ly(t){let e=Tn(t);Ne(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}var{bytesToNumberBE:hy,hexToBytes:dy}=bi,_r={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){let{Err:e}=_r;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");let r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:hy(n),l:t.subarray(r+2)}},toSig(t){let{Err:e}=_r,r=typeof t=="string"?dy(t):t;if(!ge(r))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");let{d:i,l:o}=_r._parseInt(r.subarray(2)),{d:s,l:a}=_r._parseInt(o);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s}},hexFromSig(t){let e=c=>Number.parseInt(c[0],16)&8?"00"+c:c,r=c=>{let u=c.toString(16);return u.length&1?`0${u}`:u},n=e(r(t.s)),i=e(r(t.r)),o=n.length/2,s=i.length/2,a=r(o),f=r(s);return`30${r(s+o+4)}02${f}${i}02${a}${n}`}},We=BigInt(0),fe=BigInt(1),Nb=BigInt(2),Zf=BigInt(3),Db=BigInt(4);function py(t){let e=ly(t),{Fp:r}=e,n=e.toBytes||((d,p,y)=>{let g=p.toAffine();return ze(Uint8Array.from([4]),r.toBytes(g.x),r.toBytes(g.y))}),i=e.fromBytes||(d=>{let p=d.subarray(1),y=r.fromBytes(p.subarray(0,r.BYTES)),g=r.fromBytes(p.subarray(r.BYTES,2*r.BYTES));return{x:y,y:g}});function o(d){let{a:p,b:y}=e,g=r.sqr(d),E=r.mul(g,d);return r.add(r.add(E,r.mul(d,p)),y)}if(!r.eql(r.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function s(d){return typeof d=="bigint"&&We<d&&d<e.n}function a(d){if(!s(d))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function f(d){let{allowedPrivateKeyLengths:p,nByteLength:y,wrapPrivateKey:g,n:E}=e;if(p&&typeof d!="bigint"){if(ge(d)&&(d=qe(d)),typeof d!="string"||!p.includes(d.length))throw new Error("Invalid key");d=d.padStart(y*2,"0")}let b;try{b=typeof d=="bigint"?d:He(Bt("private key",d,y))}catch{throw new Error(`private key must be ${y} bytes, hex or bigint, not ${typeof d}`)}return g&&(b=dt(b,E)),a(b),b}let c=new Map;function u(d){if(!(d instanceof l))throw new Error("ProjectivePoint expected")}class l{constructor(p,y,g){if(this.px=p,this.py=y,this.pz=g,p==null||!r.isValid(p))throw new Error("x required");if(y==null||!r.isValid(y))throw new Error("y required");if(g==null||!r.isValid(g))throw new Error("z required")}static fromAffine(p){let{x:y,y:g}=p||{};if(!p||!r.isValid(y)||!r.isValid(g))throw new Error("invalid affine point");if(p instanceof l)throw new Error("projective point not allowed");let E=b=>r.eql(b,r.ZERO);return E(y)&&E(g)?l.ZERO:new l(y,g,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(p){let y=r.invertBatch(p.map(g=>g.pz));return p.map((g,E)=>g.toAffine(y[E])).map(l.fromAffine)}static fromHex(p){let y=l.fromAffine(i(Bt("pointHex",p)));return y.assertValidity(),y}static fromPrivateKey(p){return l.BASE.multiply(f(p))}_setWindowSize(p){this._WINDOW_SIZE=p,c.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:p,y}=this.toAffine();if(!r.isValid(p)||!r.isValid(y))throw new Error("bad point: x or y not FE");let g=r.sqr(y),E=o(p);if(!r.eql(g,E))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:p}=this.toAffine();if(r.isOdd)return!r.isOdd(p);throw new Error("Field doesn't support isOdd")}equals(p){u(p);let{px:y,py:g,pz:E}=this,{px:b,py:L,pz:w}=p,S=r.eql(r.mul(y,w),r.mul(b,E)),k=r.eql(r.mul(g,w),r.mul(L,E));return S&&k}negate(){return new l(this.px,r.neg(this.py),this.pz)}double(){let{a:p,b:y}=e,g=r.mul(y,Zf),{px:E,py:b,pz:L}=this,w=r.ZERO,S=r.ZERO,k=r.ZERO,B=r.mul(E,E),K=r.mul(b,b),F=r.mul(L,L),P=r.mul(E,b);return P=r.add(P,P),k=r.mul(E,L),k=r.add(k,k),w=r.mul(p,k),S=r.mul(g,F),S=r.add(w,S),w=r.sub(K,S),S=r.add(K,S),S=r.mul(w,S),w=r.mul(P,w),k=r.mul(g,k),F=r.mul(p,F),P=r.sub(B,F),P=r.mul(p,P),P=r.add(P,k),k=r.add(B,B),B=r.add(k,B),B=r.add(B,F),B=r.mul(B,P),S=r.add(S,B),F=r.mul(b,L),F=r.add(F,F),B=r.mul(F,P),w=r.sub(w,B),k=r.mul(F,K),k=r.add(k,k),k=r.add(k,k),new l(w,S,k)}add(p){u(p);let{px:y,py:g,pz:E}=this,{px:b,py:L,pz:w}=p,S=r.ZERO,k=r.ZERO,B=r.ZERO,K=e.a,F=r.mul(e.b,Zf),P=r.mul(y,b),V=r.mul(g,L),Y=r.mul(E,w),j=r.add(y,g),A=r.add(b,L);j=r.mul(j,A),A=r.add(P,V),j=r.sub(j,A),A=r.add(y,E);let R=r.add(b,w);return A=r.mul(A,R),R=r.add(P,Y),A=r.sub(A,R),R=r.add(g,E),S=r.add(L,w),R=r.mul(R,S),S=r.add(V,Y),R=r.sub(R,S),B=r.mul(K,A),S=r.mul(F,Y),B=r.add(S,B),S=r.sub(V,B),B=r.add(V,B),k=r.mul(S,B),V=r.add(P,P),V=r.add(V,P),Y=r.mul(K,Y),A=r.mul(F,A),V=r.add(V,Y),Y=r.sub(P,Y),Y=r.mul(K,Y),A=r.add(A,Y),P=r.mul(V,A),k=r.add(k,P),P=r.mul(R,A),S=r.mul(j,S),S=r.sub(S,P),P=r.mul(j,V),B=r.mul(R,B),B=r.add(B,P),new l(S,k,B)}subtract(p){return this.add(p.negate())}is0(){return this.equals(l.ZERO)}wNAF(p){return x.wNAFCached(this,c,p,y=>{let g=r.invertBatch(y.map(E=>E.pz));return y.map((E,b)=>E.toAffine(g[b])).map(l.fromAffine)})}multiplyUnsafe(p){let y=l.ZERO;if(p===We)return y;if(a(p),p===fe)return this;let{endo:g}=e;if(!g)return x.unsafeLadder(this,p);let{k1neg:E,k1:b,k2neg:L,k2:w}=g.splitScalar(p),S=y,k=y,B=this;for(;b>We||w>We;)b&fe&&(S=S.add(B)),w&fe&&(k=k.add(B)),B=B.double(),b>>=fe,w>>=fe;return E&&(S=S.negate()),L&&(k=k.negate()),k=new l(r.mul(k.px,g.beta),k.py,k.pz),S.add(k)}multiply(p){a(p);let y=p,g,E,{endo:b}=e;if(b){let{k1neg:L,k1:w,k2neg:S,k2:k}=b.splitScalar(y),{p:B,f:K}=this.wNAF(w),{p:F,f:P}=this.wNAF(k);B=x.constTimeNegate(L,B),F=x.constTimeNegate(S,F),F=new l(r.mul(F.px,b.beta),F.py,F.pz),g=B.add(F),E=K.add(P)}else{let{p:L,f:w}=this.wNAF(y);g=L,E=w}return l.normalizeZ([g,E])[0]}multiplyAndAddUnsafe(p,y,g){let E=l.BASE,b=(w,S)=>S===We||S===fe||!w.equals(E)?w.multiplyUnsafe(S):w.multiply(S),L=b(this,y).add(b(p,g));return L.is0()?void 0:L}toAffine(p){let{px:y,py:g,pz:E}=this,b=this.is0();p==null&&(p=b?r.ONE:r.inv(E));let L=r.mul(y,p),w=r.mul(g,p),S=r.mul(E,p);if(b)return{x:r.ZERO,y:r.ZERO};if(!r.eql(S,r.ONE))throw new Error("invZ was invalid");return{x:L,y:w}}isTorsionFree(){let{h:p,isTorsionFree:y}=e;if(p===fe)return!0;if(y)return y(l,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:p,clearCofactor:y}=e;return p===fe?this:y?y(l,this):this.multiplyUnsafe(e.h)}toRawBytes(p=!0){return this.assertValidity(),n(l,this,p)}toHex(p=!0){return qe(this.toRawBytes(p))}}l.BASE=new l(e.Gx,e.Gy,r.ONE),l.ZERO=new l(r.ZERO,r.ONE,r.ZERO);let h=e.nBitLength,x=Si(l,e.endo?Math.ceil(h/2):h);return{CURVE:e,ProjectivePoint:l,normPrivateKeyToScalar:f,weierstrassEquation:o,isWithinCurveOrder:s}}function yy(t){let e=Tn(t);return Ne(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Qf(t){let e=yy(t),{Fp:r,n}=e,i=r.BYTES+1,o=2*r.BYTES+1;function s(A){return We<A&&A<r.ORDER}function a(A){return dt(A,n)}function f(A){return Ei(A,n)}let{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:h}=py({...e,toBytes(A,R,N){let U=R.toAffine(),I=r.toBytes(U.x),H=ze;return N?H(Uint8Array.from([R.hasEvenY()?2:3]),I):H(Uint8Array.from([4]),I,r.toBytes(U.y))},fromBytes(A){let R=A.length,N=A[0],U=A.subarray(1);if(R===i&&(N===2||N===3)){let I=He(U);if(!s(I))throw new Error("Point is not on curve");let H=l(I),G=r.sqrt(H),W=(G&fe)===fe;return(N&1)===1!==W&&(G=r.neg(G)),{x:I,y:G}}else if(R===o&&N===4){let I=r.fromBytes(U.subarray(0,r.BYTES)),H=r.fromBytes(U.subarray(r.BYTES,2*r.BYTES));return{x:I,y:H}}else throw new Error(`Point of length ${R} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}}),x=A=>qe(sr(A,e.nByteLength));function d(A){let R=n>>fe;return A>R}function p(A){return d(A)?a(-A):A}let y=(A,R,N)=>He(A.slice(R,N));class g{constructor(R,N,U){this.r=R,this.s=N,this.recovery=U,this.assertValidity()}static fromCompact(R){let N=e.nByteLength;return R=Bt("compactSignature",R,N*2),new g(y(R,0,N),y(R,N,2*N))}static fromDER(R){let{r:N,s:U}=_r.toSig(Bt("DER",R));return new g(N,U)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(R){return new g(this.r,this.s,R)}recoverPublicKey(R){let{r:N,s:U,recovery:I}=this,H=k(Bt("msgHash",R));if(I==null||![0,1,2,3].includes(I))throw new Error("recovery id invalid");let G=I===2||I===3?N+e.n:N;if(G>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let W=I&1?"03":"02",tt=c.fromHex(W+x(G)),nt=f(G),lt=a(-H*nt),it=a(U*nt),at=c.BASE.multiplyAndAddUnsafe(tt,lt,it);if(!at)throw new Error("point at infinify");return at.assertValidity(),at}hasHighS(){return d(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Er(this.toDERHex())}toDERHex(){return _r.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Er(this.toCompactHex())}toCompactHex(){return x(this.r)+x(this.s)}}let E={isValidPrivateKey(A){try{return u(A),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{let A=ts(e.n);return df(e.randomBytes(A),e.n)},precompute(A=8,R=c.BASE){return R._setWindowSize(A),R.multiply(BigInt(3)),R}};function b(A,R=!0){return c.fromPrivateKey(A).toRawBytes(R)}function L(A){let R=ge(A),N=typeof A=="string",U=(R||N)&&A.length;return R?U===i||U===o:N?U===2*i||U===2*o:A instanceof c}function w(A,R,N=!0){if(L(A))throw new Error("first arg must be private key");if(!L(R))throw new Error("second arg must be public key");return c.fromHex(R).multiply(u(A)).toRawBytes(N)}let S=e.bits2int||function(A){let R=He(A),N=A.length*8-e.nBitLength;return N>0?R>>BigInt(N):R},k=e.bits2int_modN||function(A){return a(S(A))},B=Cn(e.nBitLength);function K(A){if(typeof A!="bigint")throw new Error("bigint expected");if(!(We<=A&&A<B))throw new Error(`bigint expected < 2^${e.nBitLength}`);return sr(A,e.nByteLength)}function F(A,R,N=P){if(["recovered","canonical"].some(wt=>wt in N))throw new Error("sign() legacy options not supported");let{hash:U,randomBytes:I}=e,{lowS:H,prehash:G,extraEntropy:W}=N;H==null&&(H=!0),A=Bt("msgHash",A),G&&(A=Bt("prehashed msgHash",U(A)));let tt=k(A),nt=u(R),lt=[K(nt),K(tt)];if(W!=null){let wt=W===!0?I(r.BYTES):W;lt.push(Bt("extraEntropy",wt))}let it=ze(...lt),at=tt;function At(wt){let Kt=S(wt);if(!h(Kt))return;let Ot=f(Kt),Tt=c.BASE.multiply(Kt).toAffine(),qt=a(Tt.x);if(qt===We)return;let Ue=a(Ot*a(at+qt*nt));if(Ue===We)return;let hr=(Tt.x===qt?0:2)|Number(Tt.y&fe),yn=Ue;return H&&d(Ue)&&(yn=p(Ue),hr^=1),new g(qt,yn,hr)}return{seed:it,k2sig:At}}let P={lowS:e.lowS,prehash:!1},V={lowS:e.lowS,prehash:!1};function Y(A,R,N=P){let{seed:U,k2sig:I}=F(A,R,N),H=e;return Qo(H.hash.outputLen,H.nByteLength,H.hmac)(U,I)}c.BASE._setWindowSize(8);function j(A,R,N,U=V){let I=A;if(R=Bt("msgHash",R),N=Bt("publicKey",N),"strict"in U)throw new Error("options.strict was renamed to lowS");let{lowS:H,prehash:G}=U,W,tt;try{if(typeof I=="string"||ge(I))try{W=g.fromDER(I)}catch(Tt){if(!(Tt instanceof _r.Err))throw Tt;W=g.fromCompact(I)}else if(typeof I=="object"&&typeof I.r=="bigint"&&typeof I.s=="bigint"){let{r:Tt,s:qt}=I;W=new g(Tt,qt)}else throw new Error("PARSE");tt=c.fromHex(N)}catch(Tt){if(Tt.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(H&&W.hasHighS())return!1;G&&(R=e.hash(R));let{r:nt,s:lt}=W,it=k(R),at=f(lt),At=a(it*at),wt=a(nt*at),Kt=c.BASE.multiplyAndAddUnsafe(tt,At,wt)?.toAffine();return Kt?a(Kt.x)===nt:!1}return{CURVE:e,getPublicKey:b,getSharedSecret:w,sign:Y,verify:j,ProjectivePoint:c,Signature:g,utils:E}}var Di=class extends Gr{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,j0(e);let n=An(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return zr(this),this.iHash.update(e),this}digestInto(e){zr(this),Ho(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Cs=(t,e,r)=>new Di(t,e).update(r).digest();Cs.create=(t,e)=>new Di(t,e);function xy(t){return{hash:t,hmac:(e,...r)=>Cs(t,e,xi(...r)),randomBytes:$r}}function Xf(t,e){let r=n=>Qf({...t,...xy(n)});return Object.freeze({...r(e),create:r})}var tc=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Jf=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),gy=BigInt(1),Ts=BigInt(2),jf=(t,e)=>(t+e/Ts)/e;function my(t){let e=tc,r=BigInt(3),n=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),f=BigInt(88),c=t*t*t%e,u=c*c*t%e,l=bt(u,r,e)*u%e,h=bt(l,r,e)*u%e,x=bt(h,Ts,e)*c%e,d=bt(x,i,e)*x%e,p=bt(d,o,e)*d%e,y=bt(p,a,e)*p%e,g=bt(y,f,e)*y%e,E=bt(g,a,e)*p%e,b=bt(E,r,e)*u%e,L=bt(b,s,e)*d%e,w=bt(L,n,e)*c%e,S=bt(w,Ts,e);if(!Is.eql(Is.sqr(S),t))throw new Error("Cannot find square root");return S}var Is=wi(tc,void 0,void 0,{sqrt:my}),be=Xf({a:BigInt(0),b:BigInt(7),Fp:Is,n:Jf,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{let e=Jf,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-gy*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,s=BigInt("0x100000000000000000000000000000000"),a=jf(o*t,e),f=jf(-n*t,e),c=dt(t-a*r-f*i,e),u=dt(-a*n-f*o,e),l=c>s,h=u>s;if(l&&(c=e-c),h&&(u=e-u),c>s||u>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:l,k1:c,k2neg:h,k2:u}}}},Wf),zb=BigInt(0);var Gb=be.ProjectivePoint;function ec(){return be.utils.randomPrivateKey()}function rc(t,e){let r=Mt.digest(e instanceof Uint8Array?e:e.subarray());if(ae(r))return r.then(({digest:n})=>be.sign(n,t).toDERRawBytes()).catch(n=>{throw new rt(String(n),"ERR_INVALID_INPUT")});try{return be.sign(r.digest,t).toDERRawBytes()}catch(n){throw new rt(String(n),"ERR_INVALID_INPUT")}}function nc(t,e,r){let n=Mt.digest(r instanceof Uint8Array?r:r.subarray());if(ae(n))return n.then(({digest:i})=>be.verify(e,i,t)).catch(i=>{throw new rt(String(i),"ERR_INVALID_INPUT")});try{return be.verify(e,n.digest,t)}catch(i){throw new rt(String(i),"ERR_INVALID_INPUT")}}function ic(t){return be.ProjectivePoint.fromHex(t).toRawBytes(!0)}function oc(t){try{be.getPublicKey(t,!0)}catch(e){throw new rt(String(e),"ERR_INVALID_PRIVATE_KEY")}}function _s(t){try{be.ProjectivePoint.fromHex(t)}catch(e){throw new rt(String(e),"ERR_INVALID_PUBLIC_KEY")}}function sc(t){try{return be.getPublicKey(t,!0)}catch(e){throw new rt(String(e),"ERR_INVALID_PRIVATE_KEY")}}var Kn=class{_key;constructor(e){_s(e),this._key=e}verify(e,r){return nc(this._key,r,e)}marshal(){return ic(this._key)}get bytes(){return De.encode({Type:Et.Secp256k1,Data:this.marshal()}).subarray()}equals(e){return kt(this.bytes,e.bytes)}async hash(){let e=Mt.digest(this.bytes),r;return ae(e)?{bytes:r}=await e:r=e.bytes,r}},On=class{_key;_publicKey;constructor(e,r){this._key=e,this._publicKey=r??sc(e),oc(this._key),_s(this._publicKey)}sign(e){return rc(this._key,e)}get public(){return new Kn(this._publicKey)}marshal(){return this._key}get bytes(){return Le.encode({Type:Et.Secp256k1,Data:this.marshal()}).subarray()}equals(e){return kt(this.bytes,e.bytes)}hash(){let e=Mt.digest(this.bytes);return ae(e)?e.then(({bytes:r})=>r):e.bytes}async id(){let e=await this.public.hash();return Ut(e,"base58btc")}async export(e,r="libp2p-key"){if(r==="libp2p-key")return Qr(this.bytes,e);throw new rt(`export format '${r}' is not supported`,"ERR_INVALID_EXPORT_FORMAT")}};function by(t){return new On(t)}function Ey(t){return new Kn(t)}async function wy(){let t=ec();return new On(t)}var Rr={rsa:Bs,ed25519:vs,secp256k1:Rs};function ac(t){let e=Object.keys(Rr).join(" / ");return new rt(`invalid or unsupported key type ${t}. Must be ${e}`,"ERR_UNSUPPORTED_KEY_TYPE")}function Ns(t){let e=De.decode(t),r=e.Data??new Uint8Array;switch(e.Type){case Et.RSA:return Rr.rsa.unmarshalRsaPublicKey(r);case Et.Ed25519:return Rr.ed25519.unmarshalEd25519PublicKey(r);case Et.Secp256k1:return Rr.secp256k1.unmarshalSecp256k1PublicKey(r);default:throw ac(e.Type??"unknown")}}async function fc(t){let e=Le.decode(t),r=e.Data??new Uint8Array;switch(e.Type){case Et.RSA:return Rr.rsa.unmarshalRsaPrivateKey(r);case Et.Ed25519:return Rr.ed25519.unmarshalEd25519PrivateKey(r);case Et.Secp256k1:return Rr.secp256k1.unmarshalSecp256k1PrivateKey(r);default:throw ac(e.Type??"RSA")}}var jt=Rt(dc(),1);jt.default.formatters.b=t=>t==null?"undefined":Ft.baseEncode(t);jt.default.formatters.t=t=>t==null?"undefined":rr.baseEncode(t);jt.default.formatters.m=t=>t==null?"undefined":Fr.baseEncode(t);jt.default.formatters.p=t=>t==null?"undefined":t.toString();jt.default.formatters.c=t=>t==null?"undefined":t.toString();jt.default.formatters.k=t=>t==null?"undefined":t.toString();jt.default.formatters.a=t=>t==null?"undefined":t.toString();function Py(t){let e=()=>{};return e.enabled=!1,e.color="",e.diff=0,e.log=()=>{},e.namespace=t,e.destroy=()=>!0,e.extend=()=>e,e}function Ui(t){let e=Py(`${t}:trace`);return jt.default.enabled(`${t}:trace`)&&jt.default.names.map(r=>r.toString()).find(r=>r.includes(":trace"))!=null&&(e=(0,jt.default)(`${t}:trace`)),Object.assign((0,jt.default)(t),{error:(0,jt.default)(`${t}:error`),trace:e})}var Js=Rt(Ds(),1);var Ze="/",xc=new TextEncoder().encode(Ze),Pi=xc[0],Ki=class t{_buf;constructor(e,r){if(typeof e=="string")this._buf=yt(e);else if(e instanceof Uint8Array)this._buf=e;else throw new Error("Invalid key, should be String of Uint8Array");if(r==null&&(r=!0),r&&this.clean(),this._buf.byteLength===0||this._buf[0]!==Pi)throw new Error("Invalid key")}toString(e="utf8"){return Ut(this._buf,e)}uint8Array(){return this._buf}get[Symbol.toStringTag](){return`Key(${this.toString()})`}static withNamespaces(e){return new t(e.join(Ze))}static random(){return new t(Math.random().toString().substring(2))}static asKey(e){return e instanceof Uint8Array||typeof e=="string"?new t(e):typeof e.uint8Array=="function"?new t(e.uint8Array()):null}clean(){if((this._buf==null||this._buf.byteLength===0)&&(this._buf=xc),this._buf[0]!==Pi){let e=new Uint8Array(this._buf.byteLength+1);e.fill(Pi,0,1),e.set(this._buf,1),this._buf=e}for(;this._buf.byteLength>1&&this._buf[this._buf.byteLength-1]===Pi;)this._buf=this._buf.subarray(0,-1)}less(e){let r=this.list(),n=e.list();for(let i=0;i<r.length;i++){if(n.length<i+1)return!1;let o=r[i],s=n[i];if(o<s)return!0;if(o>s)return!1}return r.length<n.length}reverse(){return t.withNamespaces(this.list().slice().reverse())}namespaces(){return this.list()}baseNamespace(){let e=this.namespaces();return e[e.length-1]}list(){return this.toString().split(Ze).slice(1)}type(){return Oy(this.baseNamespace())}name(){return Fy(this.baseNamespace())}instance(e){return new t(this.toString()+":"+e)}path(){let e=this.parent().toString();return e.endsWith(Ze)||(e+=Ze),e+=this.type(),new t(e)}parent(){let e=this.list();return e.length===1?new t(Ze):new t(e.slice(0,-1).join(Ze))}child(e){return this.toString()===Ze?e:e.toString()===Ze?this:new t(this.toString()+e.toString(),!1)}isAncestorOf(e){return e.toString()===this.toString()?!1:e.toString().startsWith(this.toString())}isDecendantOf(e){return e.toString()===this.toString()?!1:this.toString().startsWith(e.toString())}isTopLevel(){return this.list().length===1}concat(...e){return t.withNamespaces([...this.namespaces(),...My(e.map(r=>r.namespaces()))])}};function Oy(t){let e=t.split(":");return e.length<2?"":e.slice(0,-1).join(":")}function Fy(t){let e=t.split(":");return e[e.length-1]}function My(t){return[].concat(...t)}var js=Rt(ks(),1);var Us="ERR_UNRECOGNIZED_VALIDITY",gc="ERR_SIGNATURE_CREATION",Dr="ERR_SIGNATURE_VERIFICATION",mc="ERR_UNRECOGNIZED_FORMAT";var Ps="ERR_UNDEFINED_PARAMETER",vc="ERR_INVALID_RECORD_DATA",bc="ERR_INVALID_VALUE",Ec="ERR_INVALID_EMBEDDED_KEY",wc="ERR_MISSING_PRIVATE_KEY";var te;(function(t){let e;(function(i){i.EOL="EOL"})(e=t.ValidityType||(t.ValidityType={}));let r;(function(i){i[i.EOL=0]="EOL"})(r||(r={})),function(i){i.codec=()=>Nn(r)}(e=t.ValidityType||(t.ValidityType={}));let n;t.codec=()=>(n==null&&(n=tn((i,o,s={})=>{s.lengthDelimited!==!1&&o.fork(),i.value!=null&&(o.uint32(10),o.bytes(i.value)),i.signatureV1!=null&&(o.uint32(18),o.bytes(i.signatureV1)),i.validityType!=null&&(o.uint32(24),t.ValidityType.codec().encode(i.validityType,o)),i.validity!=null&&(o.uint32(34),o.bytes(i.validity)),i.sequence!=null&&(o.uint32(40),o.uint64(i.sequence)),i.ttl!=null&&(o.uint32(48),o.uint64(i.ttl)),i.pubKey!=null&&(o.uint32(58),o.bytes(i.pubKey)),i.signatureV2!=null&&(o.uint32(66),o.bytes(i.signatureV2)),i.data!=null&&(o.uint32(74),o.bytes(i.data)),s.lengthDelimited!==!1&&o.ldelim()},(i,o)=>{let s={},a=o==null?i.len:i.pos+o;for(;i.pos<a;){let f=i.uint32();switch(f>>>3){case 1:s.value=i.bytes();break;case 2:s.signatureV1=i.bytes();break;case 3:s.validityType=t.ValidityType.codec().decode(i);break;case 4:s.validity=i.bytes();break;case 5:s.sequence=i.uint64();break;case 6:s.ttl=i.uint64();break;case 7:s.pubKey=i.bytes();break;case 8:s.signatureV2=i.bytes();break;case 9:s.data=i.bytes();break;default:i.skipType(f&7);break}}return s})),n),t.encode=i=>Jr(i,t.codec()),t.decode=i=>Xr(i,t.codec())})(te||(te={}));var Vy=Symbol.for("nodejs.util.inspect.custom"),Bc=Object.values(Hr).map(t=>t.decoder).reduce((t,e)=>t.or(e),Hr.identity.decoder),Ac=114,Ks=36,Os=37,Fn=class{type;multihash;privateKey;publicKey;string;constructor(e){this.type=e.type,this.multihash=e.multihash,this.privateKey=e.privateKey,Object.defineProperty(this,"string",{enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return`PeerId(${this.toString()})`}[vo]=!0;toString(){return this.string==null&&(this.string=Ft.encode(this.multihash.bytes).slice(1)),this.string}toCID(){return de.createV1(Ac,this.multihash)}toBytes(){return this.multihash.bytes}toJSON(){return this.toString()}equals(e){if(e==null)return!1;if(e instanceof Uint8Array)return kt(this.multihash.bytes,e);if(typeof e=="string")return qy(e).equals(this);if(e?.multihash?.bytes!=null)return kt(this.multihash.bytes,e.multihash.bytes);throw new Error("not valid Id")}[Vy](){return`PeerId(${this.toString()})`}},an=class extends Fn{type="RSA";publicKey;constructor(e){super({...e,type:"RSA"}),this.publicKey=e.publicKey}},fn=class extends Fn{type="Ed25519";publicKey;constructor(e){super({...e,type:"Ed25519"}),this.publicKey=e.multihash.digest}},cn=class extends Fn{type="secp256k1";publicKey;constructor(e){super({...e,type:"secp256k1"}),this.publicKey=e.multihash.digest}};function qy(t,e){if(e=e??Bc,t.charAt(0)==="1"||t.charAt(0)==="Q"){let r=vr(Ft.decode(`z${t}`));return t.startsWith("12D")?new fn({multihash:r}):t.startsWith("16U")?new cn({multihash:r}):new an({multihash:r})}return Fs(Bc.decode(t))}function Fs(t){try{let e=vr(t);if(e.code===Re.code){if(e.digest.length===Ks)return new fn({multihash:e});if(e.digest.length===Os)return new cn({multihash:e})}if(e.code===Mt.code)return new an({multihash:e})}catch{return Hy(de.decode(t))}throw new Error("Supplied PeerID CID is invalid")}function Hy(t){if(t==null||t.multihash==null||t.version==null||t.version===1&&t.code!==Ac)throw new Error("Supplied PeerID CID is invalid");let e=t.multihash;if(e.code===Mt.code)return new an({multihash:t.multihash});if(e.code===Re.code){if(e.digest.length===Ks)return new fn({multihash:t.multihash});if(e.digest.length===Os)return new cn({multihash:t.multihash})}throw new Error("Supplied PeerID CID is invalid")}async function Cc(t,e){return t.length===Ks?new fn({multihash:_e(Re.code,t),privateKey:e}):t.length===Os?new cn({multihash:_e(Re.code,t),privateKey:e}):new an({multihash:await Mt.digest(t),publicKey:t,privateKey:e})}var zy=["string","number","bigint","symbol"],Gy=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function Tc(t){if(t===null)return"null";if(t===void 0)return"undefined";if(t===!0||t===!1)return"boolean";let e=typeof t;if(zy.includes(e))return e;if(e==="function")return"Function";if(Array.isArray(t))return"Array";if($y(t))return"Buffer";let r=Yy(t);return r||"Object"}function $y(t){return t&&t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer.call(null,t)}function Yy(t){let e=Object.prototype.toString.call(t).slice(8,-1);if(Gy.includes(e))return e}var T=class{constructor(e,r,n){this.major=e,this.majorEncoded=e<<5,this.name=r,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}};T.uint=new T(0,"uint",!0);T.negint=new T(1,"negint",!0);T.bytes=new T(2,"bytes",!0);T.string=new T(3,"string",!0);T.array=new T(4,"array",!1);T.map=new T(5,"map",!1);T.tag=new T(6,"tag",!1);T.float=new T(7,"float",!0);T.false=new T(7,"false",!0);T.true=new T(7,"true",!0);T.null=new T(7,"null",!0);T.undefined=new T(7,"undefined",!0);T.break=new T(7,"break",!0);var z=class{constructor(e,r,n){this.type=e,this.value=r,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}};var un=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",Wy=new TextDecoder,Zy=new TextEncoder;function Oi(t){return un&&globalThis.Buffer.isBuffer(t)}function Ms(t){return t instanceof Uint8Array?Oi(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t:Uint8Array.from(t)}var Nc=un?(t,e,r)=>r-e>64?globalThis.Buffer.from(t.subarray(e,r)).toString("utf8"):_c(t,e,r):(t,e,r)=>r-e>64?Wy.decode(t.subarray(e,r)):_c(t,e,r),Dc=un?t=>t.length>64?globalThis.Buffer.from(t):Ic(t):t=>t.length>64?Zy.encode(t):Ic(t),ke=t=>Uint8Array.from(t),ln=un?(t,e,r)=>Oi(t)?new Uint8Array(t.subarray(e,r)):t.slice(e,r):(t,e,r)=>t.slice(e,r),Lc=un?(t,e)=>(t=t.map(r=>r instanceof Uint8Array?r:globalThis.Buffer.from(r)),Ms(globalThis.Buffer.concat(t,e))):(t,e)=>{let r=new Uint8Array(e),n=0;for(let i of t)n+i.length>r.length&&(i=i.subarray(0,r.length-n)),r.set(i,n),n+=i.length;return r},kc=un?t=>globalThis.Buffer.allocUnsafe(t):t=>new Uint8Array(t);function Uc(t,e){if(Oi(t)&&Oi(e))return t.compare(e);for(let r=0;r<t.length;r++)if(t[r]!==e[r])return t[r]<e[r]?-1:1;return 0}function Ic(t){let e=[],r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e}function _c(t,e,r){let n=[];for(;e<r;){let i=t[e],o=null,s=i>239?4:i>223?3:i>191?2:1;if(e+s<=r){let a,f,c,u;switch(s){case 1:i<128&&(o=i);break;case 2:a=t[e+1],(a&192)===128&&(u=(i&31)<<6|a&63,u>127&&(o=u));break;case 3:a=t[e+1],f=t[e+2],(a&192)===128&&(f&192)===128&&(u=(i&15)<<12|(a&63)<<6|f&63,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:a=t[e+1],f=t[e+2],c=t[e+3],(a&192)===128&&(f&192)===128&&(c&192)===128&&(u=(i&15)<<18|(a&63)<<12|(f&63)<<6|c&63,u>65535&&u<1114112&&(o=u))}}o===null?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|o&1023),n.push(o),e+=s}return Qy(n)}var Rc=4096;function Qy(t){let e=t.length;if(e<=Rc)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=Rc));return r}var Xy=256,Mn=class{constructor(e=Xy){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let r=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){let i=r.length-(this.maxCursor-this.cursor)-1;r.set(e,i)}else{if(r){let i=r.length-(this.maxCursor-this.cursor)-1;i<r.length&&(this.chunks[this.chunks.length-1]=r.subarray(0,i),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(r=kc(this.chunkSize),this.chunks.push(r),this.maxCursor+=r.length,this._initReuseChunk===null&&(this._initReuseChunk=r),r.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let r;if(this.chunks.length===1){let n=this.chunks[0];e&&this.cursor>n.length/2?(r=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):r=ln(n,0,this.cursor)}else r=Lc(this.chunks,this.cursor);return e&&this.reset(),r}};var Z="CBOR decode error:",Vs="CBOR encode error:",Vn=[];Vn[23]=1;Vn[24]=2;Vn[25]=3;Vn[26]=5;Vn[27]=9;function Qe(t,e,r){if(t.length-e<r)throw new Error(`${Z} not enough data for type`)}var Pt=[24,256,65536,4294967296,BigInt("18446744073709551616")];function ee(t,e,r){Qe(t,e,1);let n=t[e];if(r.strict===!0&&n<Pt[0])throw new Error(`${Z} integer encoded in more bytes than necessary (strict decode)`);return n}function re(t,e,r){Qe(t,e,2);let n=t[e]<<8|t[e+1];if(r.strict===!0&&n<Pt[1])throw new Error(`${Z} integer encoded in more bytes than necessary (strict decode)`);return n}function ne(t,e,r){Qe(t,e,4);let n=t[e]*16777216+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3];if(r.strict===!0&&n<Pt[2])throw new Error(`${Z} integer encoded in more bytes than necessary (strict decode)`);return n}function ie(t,e,r){Qe(t,e,8);let n=t[e]*16777216+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3],i=t[e+4]*16777216+(t[e+5]<<16)+(t[e+6]<<8)+t[e+7],o=(BigInt(n)<<BigInt(32))+BigInt(i);if(r.strict===!0&&o<Pt[3])throw new Error(`${Z} integer encoded in more bytes than necessary (strict decode)`);if(o<=Number.MAX_SAFE_INTEGER)return Number(o);if(r.allowBigInt===!0)return o;throw new Error(`${Z} integers outside of the safe integer range are not supported`)}function Pc(t,e,r,n){return new z(T.uint,ee(t,e+1,n),2)}function Kc(t,e,r,n){return new z(T.uint,re(t,e+1,n),3)}function Oc(t,e,r,n){return new z(T.uint,ne(t,e+1,n),5)}function Fc(t,e,r,n){return new z(T.uint,ie(t,e+1,n),9)}function ce(t,e){return Vt(t,0,e.value)}function Vt(t,e,r){if(r<Pt[0]){let n=Number(r);t.push([e|n])}else if(r<Pt[1]){let n=Number(r);t.push([e|24,n])}else if(r<Pt[2]){let n=Number(r);t.push([e|25,n>>>8,n&255])}else if(r<Pt[3]){let n=Number(r);t.push([e|26,n>>>24&255,n>>>16&255,n>>>8&255,n&255])}else{let n=BigInt(r);if(n<Pt[4]){let i=[e|27,0,0,0,0,0,0,0],o=Number(n&BigInt(4294967295)),s=Number(n>>BigInt(32)&BigInt(4294967295));i[8]=o&255,o=o>>8,i[7]=o&255,o=o>>8,i[6]=o&255,o=o>>8,i[5]=o&255,i[4]=s&255,s=s>>8,i[3]=s&255,s=s>>8,i[2]=s&255,s=s>>8,i[1]=s&255,t.push(i)}else throw new Error(`${Z} encountered BigInt larger than allowable range`)}}ce.encodedSize=function(e){return Vt.encodedSize(e.value)};Vt.encodedSize=function(e){return e<Pt[0]?1:e<Pt[1]?2:e<Pt[2]?3:e<Pt[3]?5:9};ce.compareTokens=function(e,r){return e.value<r.value?-1:e.value>r.value?1:0};function Mc(t,e,r,n){return new z(T.negint,-1-ee(t,e+1,n),2)}function Vc(t,e,r,n){return new z(T.negint,-1-re(t,e+1,n),3)}function qc(t,e,r,n){return new z(T.negint,-1-ne(t,e+1,n),5)}var qs=BigInt(-1),Hc=BigInt(1);function zc(t,e,r,n){let i=ie(t,e+1,n);if(typeof i!="bigint"){let o=-1-i;if(o>=Number.MIN_SAFE_INTEGER)return new z(T.negint,o,9)}if(n.allowBigInt!==!0)throw new Error(`${Z} integers outside of the safe integer range are not supported`);return new z(T.negint,qs-BigInt(i),9)}function Fi(t,e){let r=e.value,n=typeof r=="bigint"?r*qs-Hc:r*-1-1;Vt(t,e.type.majorEncoded,n)}Fi.encodedSize=function(e){let r=e.value,n=typeof r=="bigint"?r*qs-Hc:r*-1-1;return n<Pt[0]?1:n<Pt[1]?2:n<Pt[2]?3:n<Pt[3]?5:9};Fi.compareTokens=function(e,r){return e.value<r.value?1:e.value>r.value?-1:0};function qn(t,e,r,n){Qe(t,e,r+n);let i=ln(t,e+r,e+r+n);return new z(T.bytes,i,r+n)}function Gc(t,e,r,n){return qn(t,e,1,r)}function $c(t,e,r,n){return qn(t,e,2,ee(t,e+1,n))}function Yc(t,e,r,n){return qn(t,e,3,re(t,e+1,n))}function Wc(t,e,r,n){return qn(t,e,5,ne(t,e+1,n))}function Zc(t,e,r,n){let i=ie(t,e+1,n);if(typeof i=="bigint")throw new Error(`${Z} 64-bit integer bytes lengths not supported`);return qn(t,e,9,i)}function Mi(t){return t.encodedBytes===void 0&&(t.encodedBytes=t.type===T.string?Dc(t.value):t.value),t.encodedBytes}function hn(t,e){let r=Mi(e);Vt(t,e.type.majorEncoded,r.length),t.push(r)}hn.encodedSize=function(e){let r=Mi(e);return Vt.encodedSize(r.length)+r.length};hn.compareTokens=function(e,r){return jy(Mi(e),Mi(r))};function jy(t,e){return t.length<e.length?-1:t.length>e.length?1:Uc(t,e)}function Hn(t,e,r,n,i){let o=r+n;Qe(t,e,o);let s=new z(T.string,Nc(t,e+r,e+o),o);return i.retainStringBytes===!0&&(s.byteValue=ln(t,e+r,e+o)),s}function Qc(t,e,r,n){return Hn(t,e,1,r,n)}function Xc(t,e,r,n){return Hn(t,e,2,ee(t,e+1,n),n)}function Jc(t,e,r,n){return Hn(t,e,3,re(t,e+1,n),n)}function jc(t,e,r,n){return Hn(t,e,5,ne(t,e+1,n),n)}function tu(t,e,r,n){let i=ie(t,e+1,n);if(typeof i=="bigint")throw new Error(`${Z} 64-bit integer string lengths not supported`);return Hn(t,e,9,i,n)}var eu=hn;function dn(t,e,r,n){return new z(T.array,n,r)}function ru(t,e,r,n){return dn(t,e,1,r)}function nu(t,e,r,n){return dn(t,e,2,ee(t,e+1,n))}function iu(t,e,r,n){return dn(t,e,3,re(t,e+1,n))}function ou(t,e,r,n){return dn(t,e,5,ne(t,e+1,n))}function su(t,e,r,n){let i=ie(t,e+1,n);if(typeof i=="bigint")throw new Error(`${Z} 64-bit integer array lengths not supported`);return dn(t,e,9,i)}function au(t,e,r,n){if(n.allowIndefinite===!1)throw new Error(`${Z} indefinite length items not allowed`);return dn(t,e,1,1/0)}function Vi(t,e){Vt(t,T.array.majorEncoded,e.value)}Vi.compareTokens=ce.compareTokens;Vi.encodedSize=function(e){return Vt.encodedSize(e.value)};function pn(t,e,r,n){return new z(T.map,n,r)}function fu(t,e,r,n){return pn(t,e,1,r)}function cu(t,e,r,n){return pn(t,e,2,ee(t,e+1,n))}function uu(t,e,r,n){return pn(t,e,3,re(t,e+1,n))}function lu(t,e,r,n){return pn(t,e,5,ne(t,e+1,n))}function hu(t,e,r,n){let i=ie(t,e+1,n);if(typeof i=="bigint")throw new Error(`${Z} 64-bit integer map lengths not supported`);return pn(t,e,9,i)}function du(t,e,r,n){if(n.allowIndefinite===!1)throw new Error(`${Z} indefinite length items not allowed`);return pn(t,e,1,1/0)}function qi(t,e){Vt(t,T.map.majorEncoded,e.value)}qi.compareTokens=ce.compareTokens;qi.encodedSize=function(e){return Vt.encodedSize(e.value)};function pu(t,e,r,n){return new z(T.tag,r,1)}function yu(t,e,r,n){return new z(T.tag,ee(t,e+1,n),2)}function xu(t,e,r,n){return new z(T.tag,re(t,e+1,n),3)}function gu(t,e,r,n){return new z(T.tag,ne(t,e+1,n),5)}function mu(t,e,r,n){return new z(T.tag,ie(t,e+1,n),9)}function Hi(t,e){Vt(t,T.tag.majorEncoded,e.value)}Hi.compareTokens=ce.compareTokens;Hi.encodedSize=function(e){return Vt.encodedSize(e.value)};var ox=20,sx=21,ax=22,fx=23;function vu(t,e,r,n){if(n.allowUndefined===!1)throw new Error(`${Z} undefined values are not supported`);return n.coerceUndefinedToNull===!0?new z(T.null,null,1):new z(T.undefined,void 0,1)}function bu(t,e,r,n){if(n.allowIndefinite===!1)throw new Error(`${Z} indefinite length items not allowed`);return new z(T.break,void 0,1)}function Hs(t,e,r){if(r){if(r.allowNaN===!1&&Number.isNaN(t))throw new Error(`${Z} NaN values are not supported`);if(r.allowInfinity===!1&&(t===1/0||t===-1/0))throw new Error(`${Z} Infinity values are not supported`)}return new z(T.float,t,e)}function Eu(t,e,r,n){return Hs(zs(t,e+1),3,n)}function wu(t,e,r,n){return Hs(Gs(t,e+1),5,n)}function Su(t,e,r,n){return Hs(Tu(t,e+1),9,n)}function zi(t,e,r){let n=e.value;if(n===!1)t.push([T.float.majorEncoded|ox]);else if(n===!0)t.push([T.float.majorEncoded|sx]);else if(n===null)t.push([T.float.majorEncoded|ax]);else if(n===void 0)t.push([T.float.majorEncoded|fx]);else{let i,o=!1;(!r||r.float64!==!0)&&(Au(n),i=zs(Ee,1),n===i||Number.isNaN(n)?(Ee[0]=249,t.push(Ee.slice(0,3)),o=!0):(Cu(n),i=Gs(Ee,1),n===i&&(Ee[0]=250,t.push(Ee.slice(0,5)),o=!0))),o||(cx(n),i=Tu(Ee,1),Ee[0]=251,t.push(Ee.slice(0,9)))}}zi.encodedSize=function(e,r){let n=e.value;if(n===!1||n===!0||n===null||n===void 0)return 1;if(!r||r.float64!==!0){Au(n);let i=zs(Ee,1);if(n===i||Number.isNaN(n))return 3;if(Cu(n),i=Gs(Ee,1),n===i)return 5}return 9};var Bu=new ArrayBuffer(9),ue=new DataView(Bu,1),Ee=new Uint8Array(Bu,0);function Au(t){if(t===1/0)ue.setUint16(0,31744,!1);else if(t===-1/0)ue.setUint16(0,64512,!1);else if(Number.isNaN(t))ue.setUint16(0,32256,!1);else{ue.setFloat32(0,t);let e=ue.getUint32(0),r=(e&2139095040)>>23,n=e&8388607;if(r===255)ue.setUint16(0,31744,!1);else if(r===0)ue.setUint16(0,(t&2147483648)>>16|n>>13,!1);else{let i=r-127;i<-24?ue.setUint16(0,0):i<-14?ue.setUint16(0,(e&2147483648)>>16|1<<24+i,!1):ue.setUint16(0,(e&2147483648)>>16|i+15<<10|n>>13,!1)}}}function zs(t,e){if(t.length-e<2)throw new Error(`${Z} not enough data for float16`);let r=(t[e]<<8)+t[e+1];if(r===31744)return 1/0;if(r===64512)return-1/0;if(r===32256)return NaN;let n=r>>10&31,i=r&1023,o;return n===0?o=i*2**-24:n!==31?o=(i+1024)*2**(n-25):o=i===0?1/0:NaN,r&32768?-o:o}function Cu(t){ue.setFloat32(0,t,!1)}function Gs(t,e){if(t.length-e<4)throw new Error(`${Z} not enough data for float32`);let r=(t.byteOffset||0)+e;return new DataView(t.buffer,r,4).getFloat32(0,!1)}function cx(t){ue.setFloat64(0,t,!1)}function Tu(t,e){if(t.length-e<8)throw new Error(`${Z} not enough data for float64`);let r=(t.byteOffset||0)+e;return new DataView(t.buffer,r,8).getFloat64(0,!1)}zi.compareTokens=ce.compareTokens;function ft(t,e,r){throw new Error(`${Z} encountered invalid minor (${r}) for major ${t[e]>>>5}`)}function Gi(t){return()=>{throw new Error(`${Z} ${t}`)}}var O=[];for(let t=0;t<=23;t++)O[t]=ft;O[24]=Pc;O[25]=Kc;O[26]=Oc;O[27]=Fc;O[28]=ft;O[29]=ft;O[30]=ft;O[31]=ft;for(let t=32;t<=55;t++)O[t]=ft;O[56]=Mc;O[57]=Vc;O[58]=qc;O[59]=zc;O[60]=ft;O[61]=ft;O[62]=ft;O[63]=ft;for(let t=64;t<=87;t++)O[t]=Gc;O[88]=$c;O[89]=Yc;O[90]=Wc;O[91]=Zc;O[92]=ft;O[93]=ft;O[94]=ft;O[95]=Gi("indefinite length bytes/strings are not supported");for(let t=96;t<=119;t++)O[t]=Qc;O[120]=Xc;O[121]=Jc;O[122]=jc;O[123]=tu;O[124]=ft;O[125]=ft;O[126]=ft;O[127]=Gi("indefinite length bytes/strings are not supported");for(let t=128;t<=151;t++)O[t]=ru;O[152]=nu;O[153]=iu;O[154]=ou;O[155]=su;O[156]=ft;O[157]=ft;O[158]=ft;O[159]=au;for(let t=160;t<=183;t++)O[t]=fu;O[184]=cu;O[185]=uu;O[186]=lu;O[187]=hu;O[188]=ft;O[189]=ft;O[190]=ft;O[191]=du;for(let t=192;t<=215;t++)O[t]=pu;O[216]=yu;O[217]=xu;O[218]=gu;O[219]=mu;O[220]=ft;O[221]=ft;O[222]=ft;O[223]=ft;for(let t=224;t<=243;t++)O[t]=Gi("simple values are not supported");O[244]=ft;O[245]=ft;O[246]=ft;O[247]=vu;O[248]=Gi("simple values are not supported");O[249]=Eu;O[250]=wu;O[251]=Su;O[252]=ft;O[253]=ft;O[254]=ft;O[255]=bu;var we=[];for(let t=0;t<24;t++)we[t]=new z(T.uint,t,1);for(let t=-1;t>=-24;t--)we[31-t]=new z(T.negint,t,1);we[64]=new z(T.bytes,new Uint8Array(0),1);we[96]=new z(T.string,"",1);we[128]=new z(T.array,0,1);we[160]=new z(T.map,0,1);we[244]=new z(T.false,!1,1);we[245]=new z(T.true,!0,1);we[246]=new z(T.null,null,1);function Iu(t){switch(t.type){case T.false:return ke([244]);case T.true:return ke([245]);case T.null:return ke([246]);case T.bytes:return t.value.length?void 0:ke([64]);case T.string:return t.value===""?ke([96]):void 0;case T.array:return t.value===0?ke([128]):void 0;case T.map:return t.value===0?ke([160]):void 0;case T.uint:return t.value<24?ke([Number(t.value)]):void 0;case T.negint:if(t.value>=-24)return ke([31-Number(t.value)])}}var lx={float64:!1,mapSorter:px,quickEncodeToken:Iu};function hx(){let t=[];return t[T.uint.major]=ce,t[T.negint.major]=Fi,t[T.bytes.major]=hn,t[T.string.major]=eu,t[T.array.major]=Vi,t[T.map.major]=qi,t[T.tag.major]=Hi,t[T.float.major]=zi,t}var _u=hx(),$s=new Mn,Yi=class t{constructor(e,r){this.obj=e,this.parent=r}includes(e){let r=this;do if(r.obj===e)return!0;while(r=r.parent);return!1}static createCheck(e,r){if(e&&e.includes(r))throw new Error(`${Vs} object contains circular references`);return new t(r,e)}},ur={null:new z(T.null,null),undefined:new z(T.undefined,void 0),true:new z(T.true,!0),false:new z(T.false,!1),emptyArray:new z(T.array,0),emptyMap:new z(T.map,0)},lr={number(t,e,r,n){return!Number.isInteger(t)||!Number.isSafeInteger(t)?new z(T.float,t):t>=0?new z(T.uint,t):new z(T.negint,t)},bigint(t,e,r,n){return t>=BigInt(0)?new z(T.uint,t):new z(T.negint,t)},Uint8Array(t,e,r,n){return new z(T.bytes,t)},string(t,e,r,n){return new z(T.string,t)},boolean(t,e,r,n){return t?ur.true:ur.false},null(t,e,r,n){return ur.null},undefined(t,e,r,n){return ur.undefined},ArrayBuffer(t,e,r,n){return new z(T.bytes,new Uint8Array(t))},DataView(t,e,r,n){return new z(T.bytes,new Uint8Array(t.buffer,t.byteOffset,t.byteLength))},Array(t,e,r,n){if(!t.length)return r.addBreakTokens===!0?[ur.emptyArray,new z(T.break)]:ur.emptyArray;n=Yi.createCheck(n,t);let i=[],o=0;for(let s of t)i[o++]=$i(s,r,n);return r.addBreakTokens?[new z(T.array,t.length),i,new z(T.break)]:[new z(T.array,t.length),i]},Object(t,e,r,n){let i=e!=="Object",o=i?t.keys():Object.keys(t),s=i?t.size:o.length;if(!s)return r.addBreakTokens===!0?[ur.emptyMap,new z(T.break)]:ur.emptyMap;n=Yi.createCheck(n,t);let a=[],f=0;for(let c of o)a[f++]=[$i(c,r,n),$i(i?t.get(c):t[c],r,n)];return dx(a,r),r.addBreakTokens?[new z(T.map,s),a,new z(T.break)]:[new z(T.map,s),a]}};lr.Map=lr.Object;lr.Buffer=lr.Uint8Array;for(let t of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))lr[`${t}Array`]=lr.DataView;function $i(t,e={},r){let n=Tc(t),i=e&&e.typeEncoders&&e.typeEncoders[n]||lr[n];if(typeof i=="function"){let s=i(t,n,e,r);if(s!=null)return s}let o=lr[n];if(!o)throw new Error(`${Vs} unsupported type: ${n}`);return o(t,n,e,r)}function dx(t,e){e.mapSorter&&t.sort(e.mapSorter)}function px(t,e){let r=Array.isArray(t[0])?t[0][0]:t[0],n=Array.isArray(e[0])?e[0][0]:e[0];if(r.type!==n.type)return r.type.compare(n.type);let i=r.type.major,o=_u[i].compareTokens(r,n);return o===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),o}function Ru(t,e,r,n){if(Array.isArray(e))for(let i of e)Ru(t,i,r,n);else r[e.type.major](t,e,n)}function yx(t,e,r){let n=$i(t,r);if(!Array.isArray(n)&&r.quickEncodeToken){let i=r.quickEncodeToken(n);if(i)return i;let o=e[n.type.major];if(o.encodedSize){let s=o.encodedSize(n,r),a=new Mn(s);if(o(a,n,r),a.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return Ms(a.chunks[0])}}return $s.reset(),Ru($s,n,e,r),$s.toBytes(!0)}function Ys(t,e){return e=Object.assign({},lx,e),yx(t,_u,e)}var xx={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0},Ws=class{constructor(e,r={}){this._pos=0,this.data=e,this.options=r}pos(){return this._pos}done(){return this._pos>=this.data.length}next(){let e=this.data[this._pos],r=we[e];if(r===void 0){let n=O[e];if(!n)throw new Error(`${Z} no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);let i=e&31;r=n(this.data,this._pos,i,this.options)}return this._pos+=r.encodedLength,r}},zn=Symbol.for("DONE"),Wi=Symbol.for("BREAK");function gx(t,e,r){let n=[];for(let i=0;i<t.value;i++){let o=Gn(e,r);if(o===Wi){if(t.value===1/0)break;throw new Error(`${Z} got unexpected break to lengthed array`)}if(o===zn)throw new Error(`${Z} found array but not enough entries (got ${i}, expected ${t.value})`);n[i]=o}return n}function mx(t,e,r){let n=r.useMaps===!0,i=n?void 0:{},o=n?new Map:void 0;for(let s=0;s<t.value;s++){let a=Gn(e,r);if(a===Wi){if(t.value===1/0)break;throw new Error(`${Z} got unexpected break to lengthed map`)}if(a===zn)throw new Error(`${Z} found map but not enough entries (got ${s} [no key], expected ${t.value})`);if(n!==!0&&typeof a!="string")throw new Error(`${Z} non-string keys not supported (got ${typeof a})`);if(r.rejectDuplicateMapKeys===!0&&(n&&o.has(a)||!n&&a in i))throw new Error(`${Z} found repeat map key "${a}"`);let f=Gn(e,r);if(f===zn)throw new Error(`${Z} found map but not enough entries (got ${s} [no value], expected ${t.value})`);n?o.set(a,f):i[a]=f}return n?o:i}function Gn(t,e){if(t.done())return zn;let r=t.next();if(r.type===T.break)return Wi;if(r.type.terminal)return r.value;if(r.type===T.array)return gx(r,t,e);if(r.type===T.map)return mx(r,t,e);if(r.type===T.tag){if(e.tags&&typeof e.tags[r.value]=="function"){let n=Gn(t,e);return e.tags[r.value](n)}throw new Error(`${Z} tag not supported (${r.value})`)}throw new Error("unsupported")}function Nu(t,e){if(!(t instanceof Uint8Array))throw new Error(`${Z} data to decode must be a Uint8Array`);e=Object.assign({},xx,e);let r=e.tokenizer||new Ws(t,e),n=Gn(r,e);if(n===zn)throw new Error(`${Z} did not find any content to decode`);if(n===Wi)throw new Error(`${Z} got unexpected break`);return[n,t.subarray(r.pos())]}function Zs(t,e){let[r,n]=Nu(t,e);if(n.length>0)throw new Error(`${Z} too many terminals, data makes no sense`);return r}var $t=Rt(Ds(),1);var Du=Rt(ks(),1);var Qs=Ui("ipns:utils"),Lu=yt("/ipns/"),bx=114;function Ex(t){let e=new RegExp("(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2})\\.(\\d+)Z"),r=String(t).trim().match(e);if(r==null)throw new Error("Invalid format");let n=parseInt(r[1],10),i=parseInt(r[2],10)-1,o=parseInt(r[3],10),s=parseInt(r[4],10),a=parseInt(r[5],10),f=parseInt(r[6],10),c=parseInt(r[7].padEnd(6,"0").slice(0,3),10);return new Date(Date.UTC(n,i,o,s,a,f,c))}var ku=async(t,e)=>{if(e==null||t==null){let n=new Error("one or more of the provided parameters are not defined");throw Qs.error(n),(0,$t.default)(n,Ps)}let r;if(e.pubKey!=null){try{r=Ns(e.pubKey)}catch(i){throw Qs.error(i),i}if(!(await Cc(e.pubKey)).equals(t))throw(0,$t.default)(new Error("Embedded public key did not match PeerID"),Ec)}else t.publicKey!=null&&(r=Ns(t.publicKey));if(r!=null)return r;throw(0,$t.default)(new Error("no public key is available"),Ps)},Uu=(t,e,r)=>{let n=yt(e);return pe([t,r,n])},Pu=t=>{let e=yt("ipns-signature:");return pe([e,t])},Ku=t=>"signatureV1"in t?te.encode({value:yt(t.value),signatureV1:t.signatureV1,validityType:t.validityType,validity:yt(t.validity.toString()),sequence:t.sequence,ttl:t.ttl,pubKey:t.pubKey,signatureV2:t.signatureV2,data:t.data}):te.encode({pubKey:t.pubKey,signatureV2:t.signatureV2,data:t.data});function Ou(t){let e=te.decode(t);if(e.sequence!=null&&(e.sequence=BigInt(e.sequence)),e.ttl!=null&&(e.ttl=BigInt(e.ttl)),e.signatureV2==null||e.data==null)throw(0,$t.default)(new Error("missing data or signatureV2"),Dr);let r=qu(e.data),n=Xs(r.Value),i;try{i=Du.default.fromDate(Ex(Ut(r.Validity)))}catch{throw Qs.error("unrecognized validity format (not an rfc3339 format)"),(0,$t.default)(new Error("unrecognized validity format (not an rfc3339 format)"),mc)}if(e.value!=null&&e.signatureV1!=null)return wx(e),{value:n,validityType:te.ValidityType.EOL,validity:i,sequence:r.Sequence,ttl:r.TTL,pubKey:e.pubKey,signatureV1:e.signatureV1,signatureV2:e.signatureV2,data:e.data};if(e.signatureV2!=null)return{value:n,validityType:te.ValidityType.EOL,validity:i,sequence:r.Sequence,ttl:r.TTL,pubKey:e.pubKey,signatureV2:e.signatureV2,data:e.data};throw new Error("invalid record: does not include signatureV1 or signatureV2")}var Fu=t=>pe([Lu,t.toBytes()]),Mu=t=>Fs(t.slice(Lu.length)),Vu=(t,e,r,n,i)=>{let o;if(r===te.ValidityType.EOL)o=0;else throw(0,$t.default)(new Error("Unknown validity type"),Us);return Ys({Value:t,Validity:e,ValidityType:o,Sequence:n,TTL:i})},qu=t=>{let e=Zs(t);if(e.ValidityType===0)e.ValidityType=te.ValidityType.EOL;else throw(0,$t.default)(new Error("Unknown validity type"),Us);return Number.isInteger(e.Sequence)&&(e.Sequence=BigInt(e.Sequence)),Number.isInteger(e.TTL)&&(e.TTL=BigInt(e.TTL)),e},Xs=t=>{if(t!=null){if(T0(t))return`/ipns/${t.toCID().toString(li)}`;if(t instanceof Uint8Array){let n=Ut(t);n.startsWith("/")&&(t=n)}let e=t.toString().trim();if(e.startsWith("/")&&e.length>1)return e;let r=de.asCID(t);if(r!=null)return r.code===bx?`/ipns/${r.toString(li)}`:`/ipfs/${r.toV1().toString()}`;try{return t instanceof Uint8Array?`/ipfs/${de.decode(t).toV1().toString()}`:`/ipfs/${de.parse(e).toV1().toString()}`}catch{}}throw(0,$t.default)(new Error("Value must be a valid content path starting with /"),bc)},wx=t=>{if(t.data==null)throw(0,$t.default)(new Error("Record data is missing"),vc);let e=qu(t.data);if(!kt(e.Value,t.value??new Uint8Array(0)))throw(0,$t.default)(new Error('Field "value" did not match between protobuf and CBOR'),Dr);if(!kt(e.Validity,t.validity??new Uint8Array(0)))throw(0,$t.default)(new Error('Field "validity" did not match between protobuf and CBOR'),Dr);if(e.ValidityType!==t.validityType)throw(0,$t.default)(new Error('Field "validityType" did not match between protobuf and CBOR'),Dr);if(e.Sequence!==t.sequence)throw(0,$t.default)(new Error('Field "sequence" did not match between protobuf and CBOR'),Dr);if(e.TTL!==t.ttl)throw(0,$t.default)(new Error('Field "ttl" did not match between protobuf and CBOR'),Dr)};var Sx=Ui("ipns"),Bx=Re.code,ta=BigInt(36e11),Hu="/ipns/",Ax=Hu.length,ea={v1Compatible:!0,lifetimeNs:ta};async function Cx(t,e,r,n,i=ea){let o=new js.default(Date.now()+Number(n)),s=te.ValidityType.EOL,a=typeof i.lifetimeNs=="bigint"?i.lifetimeNs:ta;return zu(t,e,r,s,o,a,i)}async function Tx(t,e,r,n,i=ea){let o=js.default.fromString(n),s=te.ValidityType.EOL,a=typeof i.lifetimeNs=="bigint"?i.lifetimeNs:ta;return zu(t,e,r,s,o,a,i)}var zu=async(t,e,r,n,i,o,s=ea)=>{r=BigInt(r);let a=yt(i.toString()),f=Xs(e),c=yt(f);if(t.privateKey==null)throw(0,Js.default)(new Error("Missing private key"),wc);let u=await fc(t.privateKey),l=Vu(c,a,n,r,o),h=Pu(l),x=await u.sign(h),d;if(t.publicKey!=null){let p=vr(t.toBytes());(p.code!==Bx||!kt(t.publicKey,p.digest))&&(d=t.publicKey)}if(s.v1Compatible===!0){let p=await Rx(u,c,n,a),y={value:f,signatureV1:p,validity:i,validityType:n,sequence:r,ttl:o,signatureV2:x,data:l};return d!=null&&(y.pubKey=d),y}else{let p={value:f,validity:i,validityType:n,sequence:r,ttl:o,signatureV2:x,data:l};return d!=null&&(p.pubKey=d),p}},Ix=t=>_o.encode(t).slice(1),_x=t=>new Ki(`/ipns/${Ix(t)}`),Rx=async(t,e,r,n)=>{try{let i=Uu(e,r,n);return await t.sign(i)}catch(i){throw Sx.error("record signature creation failed",i),(0,Js.default)(new Error("record signature creation failed"),gc)}};return il(Nx);})();
/*! Bundled license information:

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/edwards.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/ed25519.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/weierstrass.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/_shortw_utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
*/
return Ipns}));
